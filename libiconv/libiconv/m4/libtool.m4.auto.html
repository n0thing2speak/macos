<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>libtool.m4</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">libtool.m4&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment"># libtool.m4 - Configure libtool for the host system. -*-Autoconf-*-
</span><span class="enscript-comment">## Copyright 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005, 2006
</span><span class="enscript-comment">## Free Software Foundation, Inc.
</span><span class="enscript-comment">## Originally by Gordon Matzigkeit &lt;<a href="mailto:gord@gnu.ai.mit.edu">gord@gnu.ai.mit.edu</a>&gt;, 1996
</span><span class="enscript-comment">##
</span><span class="enscript-comment">## This file is free software; the Free Software Foundation gives
</span><span class="enscript-comment">## unlimited permission to copy and/or distribute it, with or without
</span><span class="enscript-comment">## modifications, as long as this notice is preserved.
</span>
<span class="enscript-comment"># serial 48 AC_PROG_LIBTOOL
</span>

<span class="enscript-comment"># AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
</span><span class="enscript-comment"># -----------------------------------------------------------
</span><span class="enscript-comment"># If this macro is not defined by Autoconf, define it here.
</span>m4_ifdef([AC_PROVIDE_IFELSE],
         [],
         [m4_define([AC_PROVIDE_IFELSE],
	         [m4_ifdef([AC_PROVIDE_$1],
		           [$2], [$3])])])


<span class="enscript-comment"># AC_PROG_LIBTOOL
</span><span class="enscript-comment"># ---------------
</span>AC_DEFUN([AC_PROG_LIBTOOL],
[AC_REQUIRE([_AC_PROG_LIBTOOL])<span class="enscript-comment">dnl
</span><span class="enscript-comment">dnl If AC_PROG_CXX has already been expanded, run AC_LIBTOOL_CXX
</span><span class="enscript-comment">dnl immediately, otherwise, hook it in at the end of AC_PROG_CXX.
</span>  AC_PROVIDE_IFELSE([AC_PROG_CXX],
    [AC_LIBTOOL_CXX],
    [<span class="enscript-keyword">define</span>([AC_PROG_CXX], <span class="enscript-keyword">defn</span>([AC_PROG_CXX])[AC_LIBTOOL_CXX
  ])])
<span class="enscript-comment">dnl And a similar setup for Fortran 77 support
</span>  AC_PROVIDE_IFELSE([AC_PROG_F77],
    [AC_LIBTOOL_F77],
    [<span class="enscript-keyword">define</span>([AC_PROG_F77], <span class="enscript-keyword">defn</span>([AC_PROG_F77])[AC_LIBTOOL_F77
])])

<span class="enscript-comment">dnl Quote A][M_PROG_GCJ so that aclocal doesn't bring it in needlessly.
</span><span class="enscript-comment">dnl If either AC_PROG_GCJ or A][M_PROG_GCJ have already been expanded, run
</span><span class="enscript-comment">dnl AC_LIBTOOL_GCJ immediately, otherwise, hook it in at the end of both.
</span>  AC_PROVIDE_IFELSE([AC_PROG_GCJ],
    [AC_LIBTOOL_GCJ],
    [AC_PROVIDE_IFELSE([A][M_PROG_GCJ],
      [AC_LIBTOOL_GCJ],
      [AC_PROVIDE_IFELSE([LT_AC_PROG_GCJ],
	[AC_LIBTOOL_GCJ],
      [<span class="enscript-keyword">ifdef</span>([AC_PROG_GCJ],
	     [<span class="enscript-keyword">define</span>([AC_PROG_GCJ], <span class="enscript-keyword">defn</span>([AC_PROG_GCJ])[AC_LIBTOOL_GCJ])])
       <span class="enscript-keyword">ifdef</span>([A][M_PROG_GCJ],
	     [<span class="enscript-keyword">define</span>([A][M_PROG_GCJ], <span class="enscript-keyword">defn</span>([A][M_PROG_GCJ])[AC_LIBTOOL_GCJ])])
       <span class="enscript-keyword">ifdef</span>([LT_AC_PROG_GCJ],
	     [<span class="enscript-keyword">define</span>([LT_AC_PROG_GCJ],
		<span class="enscript-keyword">defn</span>([LT_AC_PROG_GCJ])[AC_LIBTOOL_GCJ])])])])
])])<span class="enscript-comment"># AC_PROG_LIBTOOL
</span>

<span class="enscript-comment"># _AC_PROG_LIBTOOL
</span><span class="enscript-comment"># ----------------
</span>AC_DEFUN([_AC_PROG_LIBTOOL],
[AC_REQUIRE([AC_LIBTOOL_SETUP])<span class="enscript-comment">dnl
</span>AC_BEFORE([$0],[AC_LIBTOOL_CXX])<span class="enscript-comment">dnl
</span>AC_BEFORE([$0],[AC_LIBTOOL_F77])<span class="enscript-comment">dnl
</span>AC_BEFORE([$0],[AC_LIBTOOL_GCJ])<span class="enscript-comment">dnl
</span>
<span class="enscript-comment"># This can be used to rebuild libtool when needed
</span>LIBTOOL_DEPS=&quot;$ac_aux_dir/ltmain.sh&quot;

<span class="enscript-comment"># Always use our own libtool.
</span>LIBTOOL='$(SHELL) $(top_builddir)/libtool'
AC_SUBST(LIBTOOL)<span class="enscript-comment">dnl
</span>
<span class="enscript-comment"># Prevent multiple expansion
</span><span class="enscript-keyword">define</span>([AC_PROG_LIBTOOL], [])
])<span class="enscript-comment"># _AC_PROG_LIBTOOL
</span>

<span class="enscript-comment"># AC_LIBTOOL_SETUP
</span><span class="enscript-comment"># ----------------
</span>AC_DEFUN([AC_LIBTOOL_SETUP],
[AC_PREREQ(2.50)<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_ENABLE_SHARED])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_ENABLE_STATIC])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_ENABLE_FAST_INSTALL])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_CANONICAL_HOST])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_CANONICAL_BUILD])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_PROG_CC])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_PROG_LD])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_PROG_LD_RELOAD_FLAG])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_PROG_NM])<span class="enscript-comment">dnl
</span>
AC_REQUIRE([AC_PROG_LN_S])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_DEPLIBS_CHECK_METHOD])<span class="enscript-comment">dnl
</span><span class="enscript-comment"># Autoconf 2.13's AC_OBJEXT and AC_EXEEXT macros only works for C compilers!
</span>AC_REQUIRE([AC_OBJEXT])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_EXEEXT])<span class="enscript-comment">dnl
</span><span class="enscript-comment">dnl
</span>
AC_LIBTOOL_SYS_MAX_CMD_LEN
AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE
AC_LIBTOOL_OBJDIR

AC_REQUIRE([_LT_AC_SYS_COMPILER])<span class="enscript-comment">dnl
</span>_LT_AC_PROG_ECHO_BACKSLASH

case $host_os in
aix3*)
  <span class="enscript-comment"># AIX sometimes has problems with the GCC collect2 program.  For some
</span>  <span class="enscript-comment"># reason, if we set the COLLECT_NAMES environment variable, the problems
</span>  <span class="enscript-comment"># vanish in a puff of smoke.
</span>  if test &quot;X${COLLECT_NAMES+set}&quot; != Xset; then
    COLLECT_NAMES=
    export COLLECT_NAMES
  fi
  ;;
esac

<span class="enscript-comment"># Sed substitution that helps us do robust quoting.  It backslashifies
</span><span class="enscript-comment"># metacharacters that are still active within double-quoted strings.
</span>Xsed='sed -e 1s/^X//'
[sed_quote_subst='s/\([\\&quot;\\`$\\\\]\)/\\\1/g']

<span class="enscript-comment"># Same as above, but do not quote variable references.
</span>[double_quote_subst='s/\([\\&quot;\\`\\\\]\)/\\\1/g']

<span class="enscript-comment"># Sed substitution to delay expansion of an escaped shell variable in a
</span><span class="enscript-comment"># double_quote_subst'ed string.
</span>delay_variable_subst='s/\\\\\\\\\\\$/\\\\\\$/g'

<span class="enscript-comment"># Sed substitution to avoid accidental globbing in evaled expressions
</span>no_glob_subst='s/\*/\\\*/g'

<span class="enscript-comment"># Constants:
</span>rm=&quot;rm -f&quot;

<span class="enscript-comment"># Global variables:
</span>default_ofile=libtool
can_build_shared=yes

<span class="enscript-comment"># All known linkers require a `.a' archive for static linking (except MSVC,
</span><span class="enscript-comment"># which needs '.lib').
</span>libext=a
ltmain=&quot;$ac_aux_dir/ltmain.sh&quot;
ofile=&quot;$default_ofile&quot;
with_gnu_ld=&quot;$lt_cv_prog_gnu_ld&quot;

AC_CHECK_TOOL(AR, ar, false)
AC_CHECK_TOOL(RANLIB, ranlib, :)
AC_CHECK_TOOL(STRIP, strip, :)

old_CC=&quot;$CC&quot;
old_CFLAGS=&quot;$CFLAGS&quot;

<span class="enscript-comment"># Set sane defaults for various variables
</span>test -z &quot;$AR&quot; &amp;&amp; AR=ar
test -z &quot;$AR_FLAGS&quot; &amp;&amp; AR_FLAGS=cru
test -z &quot;$AS&quot; &amp;&amp; AS=as
test -z &quot;$CC&quot; &amp;&amp; CC=cc
test -z &quot;$LTCC&quot; &amp;&amp; LTCC=$CC
test -z &quot;$LTCFLAGS&quot; &amp;&amp; LTCFLAGS=$CFLAGS
test -z &quot;$DLLTOOL&quot; &amp;&amp; DLLTOOL=dlltool
test -z &quot;$LD&quot; &amp;&amp; LD=ld
test -z &quot;$LN_S&quot; &amp;&amp; LN_S=&quot;ln -s&quot;
test -z &quot;$MAGIC_CMD&quot; &amp;&amp; MAGIC_CMD=file
test -z &quot;$NM&quot; &amp;&amp; NM=nm
test -z &quot;$SED&quot; &amp;&amp; SED=sed
test -z &quot;$OBJDUMP&quot; &amp;&amp; OBJDUMP=objdump
test -z &quot;$RANLIB&quot; &amp;&amp; RANLIB=:
test -z &quot;$STRIP&quot; &amp;&amp; STRIP=:
test -z &quot;$ac_objext&quot; &amp;&amp; ac_objext=o

<span class="enscript-comment"># Determine commands to create old-style static archives.
</span>old_archive_cmds='$AR $AR_FLAGS $oldlib$oldobjs$old_deplibs'
old_postinstall_cmds='chmod 644 $oldlib'
old_postuninstall_cmds=

if test -n &quot;$RANLIB&quot;; then
  case $host_os in
  openbsd*)
    old_postinstall_cmds=&quot;$old_postinstall_cmds~\$RANLIB -t \$oldlib&quot;
    ;;
  *)
    old_postinstall_cmds=&quot;$old_postinstall_cmds~\$RANLIB \$oldlib&quot;
    ;;
  esac
  old_archive_cmds=&quot;$old_archive_cmds~\$RANLIB \$oldlib&quot;
fi

_LT_CC_BASENAME([$compiler])

<span class="enscript-comment"># Only perform the check for file, if the check method requires it
</span>case $deplibs_check_method in
file_magic*)
  if test &quot;$file_magic_cmd&quot; = '$MAGIC_CMD'; then
    AC_PATH_MAGIC
  fi
  ;;
esac

AC_PROVIDE_IFELSE([AC_LIBTOOL_DLOPEN], enable_dlopen=yes, enable_dlopen=no)
AC_PROVIDE_IFELSE([AC_LIBTOOL_WIN32_DLL],
enable_win32_dll=yes, enable_win32_dll=no)

AC_ARG_ENABLE([libtool-lock],
    [AC_HELP_STRING([--disable-libtool-lock],
	[avoid locking (might break parallel builds)])])
test &quot;x$enable_libtool_lock&quot; != xno &amp;&amp; enable_libtool_lock=yes

AC_ARG_WITH([pic],
    [AC_HELP_STRING([--with-pic],
	[try to use only PIC/non-PIC objects @&lt;:@default=use both@:&gt;@])],
    [pic_mode=&quot;$withval&quot;],
    [pic_mode=default])
test -z &quot;$pic_mode&quot; &amp;&amp; pic_mode=default

<span class="enscript-comment"># Use C for the default configuration in the libtool script
</span>tagname=
AC_LIBTOOL_LANG_C_CONFIG
_LT_AC_TAGCONFIG
])<span class="enscript-comment"># AC_LIBTOOL_SETUP
</span>

<span class="enscript-comment"># _LT_AC_SYS_COMPILER
</span><span class="enscript-comment"># -------------------
</span>AC_DEFUN([_LT_AC_SYS_COMPILER],
[AC_REQUIRE([AC_PROG_CC])<span class="enscript-comment">dnl
</span>
<span class="enscript-comment"># If no C compiler was specified, use CC.
</span>LTCC=${LTCC-&quot;$CC&quot;}

<span class="enscript-comment"># If no C compiler flags were specified, use CFLAGS.
</span>LTCFLAGS=${LTCFLAGS-&quot;$CFLAGS&quot;}

<span class="enscript-comment"># Allow CC to be a program name with arguments.
</span>compiler=$CC
])<span class="enscript-comment"># _LT_AC_SYS_COMPILER
</span>

<span class="enscript-comment"># _LT_CC_BASENAME(CC)
</span><span class="enscript-comment"># -------------------
</span><span class="enscript-comment"># Calculate cc_basename.  Skip known compiler wrappers and cross-prefix.
</span>AC_DEFUN([_LT_CC_BASENAME],
[for cc_temp in $1&quot;&quot;; do
  case $cc_temp in
    compile | *[[\\/]]compile | ccache | *[[\\/]]ccache ) ;;
    distcc | *[[\\/]]distcc | purify | *[[\\/]]purify ) ;;
    \-*) ;;
    *) break;;
  esac
done
cc_basename=`$echo &quot;X$cc_temp&quot; | $Xsed -e 's%.*/%%' -e &quot;s%^$host_alias-%%&quot;`
])


<span class="enscript-comment"># _LT_COMPILER_BOILERPLATE
</span><span class="enscript-comment"># ------------------------
</span><span class="enscript-comment"># Check for compiler boilerplate output or warnings with
</span><span class="enscript-comment"># the simple compiler test code.
</span>AC_DEFUN([_LT_COMPILER_BOILERPLATE],
[ac_outfile=conftest.$ac_objext
printf &quot;$lt_simple_compile_test_code&quot; &gt;conftest.$ac_ext
<span class="enscript-keyword">eval</span> &quot;$ac_compile&quot; 2&gt;&amp;1 &gt;/dev/null | $SED '/^$/d; /^ *+/d' &gt;conftest.err
_lt_compiler_boilerplate=`cat conftest.err`
$rm conftest*
])<span class="enscript-comment"># _LT_COMPILER_BOILERPLATE
</span>

<span class="enscript-comment"># _LT_LINKER_BOILERPLATE
</span><span class="enscript-comment"># ----------------------
</span><span class="enscript-comment"># Check for linker boilerplate output or warnings with
</span><span class="enscript-comment"># the simple link test code.
</span>AC_DEFUN([_LT_LINKER_BOILERPLATE],
[ac_outfile=conftest.$ac_objext
printf &quot;$lt_simple_link_test_code&quot; &gt;conftest.$ac_ext
<span class="enscript-keyword">eval</span> &quot;$ac_link&quot; 2&gt;&amp;1 &gt;/dev/null | $SED '/^$/d; /^ *+/d' &gt;conftest.err
_lt_linker_boilerplate=`cat conftest.err`
$rm conftest*
])<span class="enscript-comment"># _LT_LINKER_BOILERPLATE
</span>

<span class="enscript-comment"># _LT_AC_SYS_LIBPATH_AIX
</span><span class="enscript-comment"># ----------------------
</span><span class="enscript-comment"># Links a minimal program and checks the executable
</span><span class="enscript-comment"># for the system default hardcoded library path. In most cases,
</span><span class="enscript-comment"># this is /usr/lib:/lib, but when the MPI compilers are used
</span><span class="enscript-comment"># the location of the communication and MPI libs are included too.
</span><span class="enscript-comment"># If we don't find anything, use the default library path according
</span><span class="enscript-comment"># to the aix ld manual.
</span>AC_DEFUN([_LT_AC_SYS_LIBPATH_AIX],
[AC_LINK_IFELSE(AC_LANG_PROGRAM,[
aix_libpath=`dump -H conftest$ac_exeext 2&gt;/dev/null | $SED -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
}'`
<span class="enscript-comment"># Check for a 64-bit object if we didn't find anything.
</span>if test -z &quot;$aix_libpath&quot;; then aix_libpath=`dump -HX64 conftest$ac_exeext 2&gt;/dev/null | $SED -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
}'`; fi],[])
if test -z &quot;$aix_libpath&quot;; then aix_libpath=&quot;/usr/lib:/lib&quot;; fi
])<span class="enscript-comment"># _LT_AC_SYS_LIBPATH_AIX
</span>

<span class="enscript-comment"># _LT_AC_SHELL_INIT(ARG)
</span><span class="enscript-comment"># ----------------------
</span>AC_DEFUN([_LT_AC_SHELL_INIT],
[<span class="enscript-keyword">ifdef</span>([AC_DIVERSION_NOTICE],
	     [AC_DIVERT_PUSH(AC_DIVERSION_NOTICE)],
	 [AC_DIVERT_PUSH(NOTICE)])
$1
AC_DIVERT_POP
])<span class="enscript-comment"># _LT_AC_SHELL_INIT
</span>

<span class="enscript-comment"># _LT_AC_PROG_ECHO_BACKSLASH
</span><span class="enscript-comment"># --------------------------
</span><span class="enscript-comment"># Add some code to the start of the generated configure script which
</span><span class="enscript-comment"># will find an echo command which doesn't interpret backslashes.
</span>AC_DEFUN([_LT_AC_PROG_ECHO_BACKSLASH],
[_LT_AC_SHELL_INIT([
<span class="enscript-comment"># Check that we are running under the correct shell.
</span>SHELL=${CONFIG_SHELL-/bin/sh}

case X$ECHO in
X*--fallback-echo)
  <span class="enscript-comment"># Remove one level of quotation (which was required for Make).
</span>  ECHO=`echo &quot;$ECHO&quot; | sed 's,\\\\\[$]\\[$]0,'[$]0','`
  ;;
esac

echo=${ECHO-echo}
if test &quot;X[$]1&quot; = X--no-reexec; then
  <span class="enscript-comment"># Discard the --no-reexec flag, and continue.
</span>  <span class="enscript-keyword">shift</span>
elif test &quot;X[$]1&quot; = X--fallback-echo; then
  <span class="enscript-comment"># Avoid inline document here, it may be left over
</span>  :
elif test &quot;X`($echo '\t') 2&gt;/dev/null`&quot; = 'X\t' ; then
  <span class="enscript-comment"># Yippee, $echo works!
</span>  :
else
  <span class="enscript-comment"># Restart under the correct shell.
</span>  exec $SHELL &quot;[$]0&quot; --no-reexec ${1+&quot;[$]@&quot;}
fi

if test &quot;X[$]1&quot; = X--fallback-echo; then
  <span class="enscript-comment"># used as fallback echo
</span>  <span class="enscript-keyword">shift</span>
  cat &lt;&lt;EOF
[$]*
EOF
  exit 0
fi

<span class="enscript-comment"># The HP-UX ksh and POSIX shell print the target directory to stdout
</span><span class="enscript-comment"># if CDPATH is set.
</span>(unset CDPATH) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; unset CDPATH

if test -z &quot;$ECHO&quot;; then
if test &quot;X${echo_test_string+set}&quot; != Xset; then
<span class="enscript-comment"># find a string as large as possible, as long as the shell can cope with it
</span>  for cmd in 'sed 50q &quot;[$]0&quot;' 'sed 20q &quot;[$]0&quot;' 'sed 10q &quot;[$]0&quot;' 'sed 2q &quot;[$]0&quot;' 'echo test'; do
    <span class="enscript-comment"># expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
</span>    if (echo_test_string=`<span class="enscript-keyword">eval</span> $cmd`) 2&gt;/dev/null &amp;&amp;
       echo_test_string=`<span class="enscript-keyword">eval</span> $cmd` &amp;&amp;
       (test &quot;X$echo_test_string&quot; = &quot;X$echo_test_string&quot;) 2&gt;/dev/null
    then
      break
    fi
  done
fi

if test &quot;X`($echo '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
   echo_testing_string=`($echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
   test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
  :
else
  <span class="enscript-comment"># The Solaris, AIX, and Digital Unix default echo programs unquote
</span>  <span class="enscript-comment"># backslashes.  This makes it impossible to quote backslashes using
</span>  <span class="enscript-comment">#   echo &quot;$something&quot; | sed 's/\\/\\\\/g'
</span>  <span class="enscript-comment">#
</span>  <span class="enscript-comment"># So, first we look for a working echo in the user's PATH.
</span>
  lt_save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
  for dir in $PATH /usr/ucb; do
    IFS=&quot;$lt_save_ifs&quot;
    if (test -f $dir/echo || test -f $dir/echo$ac_exeext) &amp;&amp;
       test &quot;X`($dir/echo '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
       echo_testing_string=`($dir/echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
       test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
      echo=&quot;$dir/echo&quot;
      break
    fi
  done
  IFS=&quot;$lt_save_ifs&quot;

  if test &quot;X$echo&quot; = Xecho; then
    <span class="enscript-comment"># We didn't find a better echo, so look for alternatives.
</span>    if test &quot;X`(print -r '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
       echo_testing_string=`(print -r &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
       test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
      <span class="enscript-comment"># This shell has a builtin print -r that does the trick.
</span>      echo='print -r'
    elif (test -f /bin/ksh || test -f /bin/ksh$ac_exeext) &amp;&amp;
	 test &quot;X$CONFIG_SHELL&quot; != X/bin/ksh; then
      <span class="enscript-comment"># If we have ksh, try running configure again with it.
</span>      ORIGINAL_CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
      export ORIGINAL_CONFIG_SHELL
      CONFIG_SHELL=/bin/ksh
      export CONFIG_SHELL
      exec $CONFIG_SHELL &quot;[$]0&quot; --no-reexec ${1+&quot;[$]@&quot;}
    else
      <span class="enscript-comment"># Try using printf.
</span>      echo='printf %s\n'
      if test &quot;X`($echo '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
	 echo_testing_string=`($echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
	 test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
	<span class="enscript-comment"># Cool, printf works
</span>	:
      elif echo_testing_string=`($ORIGINAL_CONFIG_SHELL &quot;[$]0&quot; --fallback-echo '\t') 2&gt;/dev/null` &amp;&amp;
	   test &quot;X$echo_testing_string&quot; = 'X\t' &amp;&amp;
	   echo_testing_string=`($ORIGINAL_CONFIG_SHELL &quot;[$]0&quot; --fallback-echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
	   test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
	CONFIG_SHELL=$ORIGINAL_CONFIG_SHELL
	export CONFIG_SHELL
	SHELL=&quot;$CONFIG_SHELL&quot;
	export SHELL
	echo=&quot;$CONFIG_SHELL [$]0 --fallback-echo&quot;
      elif echo_testing_string=`($CONFIG_SHELL &quot;[$]0&quot; --fallback-echo '\t') 2&gt;/dev/null` &amp;&amp;
	   test &quot;X$echo_testing_string&quot; = 'X\t' &amp;&amp;
	   echo_testing_string=`($CONFIG_SHELL &quot;[$]0&quot; --fallback-echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
	   test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
	echo=&quot;$CONFIG_SHELL [$]0 --fallback-echo&quot;
      else
	<span class="enscript-comment"># maybe with a smaller string...
</span>	prev=:

	for cmd in 'echo test' 'sed 2q &quot;[$]0&quot;' 'sed 10q &quot;[$]0&quot;' 'sed 20q &quot;[$]0&quot;' 'sed 50q &quot;[$]0&quot;'; do
	  if (test &quot;X$echo_test_string&quot; = &quot;X`<span class="enscript-keyword">eval</span> $cmd`&quot;) 2&gt;/dev/null
	  then
	    break
	  fi
	  prev=&quot;$cmd&quot;
	done

	if test &quot;$prev&quot; != 'sed 50q &quot;[$]0&quot;'; then
	  echo_test_string=`<span class="enscript-keyword">eval</span> $prev`
	  export echo_test_string
	  exec ${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/bin/sh}} &quot;[$]0&quot; ${1+&quot;[$]@&quot;}
	else
	  <span class="enscript-comment"># Oops.  We lost completely, so just stick with echo.
</span>	  echo=echo
	fi
      fi
    fi
  fi
fi
fi

<span class="enscript-comment"># Copy echo and quote the copy suitably for passing to libtool from
</span><span class="enscript-comment"># the Makefile, instead of quoting the original, which is used later.
</span>ECHO=$echo
if test &quot;X$ECHO&quot; = &quot;X$CONFIG_SHELL [$]0 --fallback-echo&quot;; then
   ECHO=&quot;$CONFIG_SHELL \\\$\[$]0 --fallback-echo&quot;
fi

AC_SUBST(ECHO)
])])<span class="enscript-comment"># _LT_AC_PROG_ECHO_BACKSLASH
</span>

<span class="enscript-comment"># _LT_AC_LOCK
</span><span class="enscript-comment"># -----------
</span>AC_DEFUN([_LT_AC_LOCK],
[AC_ARG_ENABLE([libtool-lock],
    [AC_HELP_STRING([--disable-libtool-lock],
	[avoid locking (might break parallel builds)])])
test &quot;x$enable_libtool_lock&quot; != xno &amp;&amp; enable_libtool_lock=yes

<span class="enscript-comment"># Some flags need to be propagated to the compiler or linker for good
</span><span class="enscript-comment"># libtool support.
</span>case $host in
ia64-*-hpux*)
  <span class="enscript-comment"># Find out which ABI we are using.
</span>  echo 'int i;' &gt; conftest.$ac_ext
  if AC_TRY_EVAL(ac_compile); then
    case `/usr/bin/file conftest.$ac_objext` in
    *ELF-32*)
      HPUX_IA64_MODE=&quot;32&quot;
      ;;
    *ELF-64*)
      HPUX_IA64_MODE=&quot;64&quot;
      ;;
    esac
  fi
  rm -rf conftest*
  ;;
*-*-irix6*)
  <span class="enscript-comment"># Find out which ABI we are using.
</span>  echo '[<span class="enscript-comment">#]line __oline__ &quot;configure&quot;' &gt; conftest.$ac_ext
</span>  if AC_TRY_EVAL(ac_compile); then
   if test &quot;$lt_cv_prog_gnu_ld&quot; = yes; then
    case `/usr/bin/file conftest.$ac_objext` in
    *32-bit*)
      LD=&quot;${LD-ld} -melf32bsmip&quot;
      ;;
    *N32*)
      LD=&quot;${LD-ld} -melf32bmipn32&quot;
      ;;
    *64-bit*)
      LD=&quot;${LD-ld} -melf64bmip&quot;
      ;;
    esac
   else
    case `/usr/bin/file conftest.$ac_objext` in
    *32-bit*)
      LD=&quot;${LD-ld} -32&quot;
      ;;
    *N32*)
      LD=&quot;${LD-ld} -n32&quot;
      ;;
    *64-bit*)
      LD=&quot;${LD-ld} -64&quot;
      ;;
    esac
   fi
  fi
  rm -rf conftest*
  ;;

x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*|s390*-*linux*|sparc*-*linux*)
  <span class="enscript-comment"># Find out which ABI we are using.
</span>  echo 'int i;' &gt; conftest.$ac_ext
  if AC_TRY_EVAL(ac_compile); then
    case `/usr/bin/file conftest.o` in
    *32-bit*)
      case $host in
        x86_64-*linux*)
          LD=&quot;${LD-ld} -m elf_i386&quot;
          ;;
        ppc64-*linux*|powerpc64-*linux*)
          LD=&quot;${LD-ld} -m elf32ppclinux&quot;
          ;;
        s390x-*linux*)
          LD=&quot;${LD-ld} -m elf_s390&quot;
          ;;
        sparc64-*linux*)
          LD=&quot;${LD-ld} -m elf32_sparc&quot;
          ;;
      esac
      ;;
    *64-bit*)
      case $host in
        x86_64-*linux*)
          LD=&quot;${LD-ld} -m elf_x86_64&quot;
          ;;
        ppc*-*linux*|powerpc*-*linux*)
          LD=&quot;${LD-ld} -m elf64ppc&quot;
          ;;
        s390*-*linux*)
          LD=&quot;${LD-ld} -m elf64_s390&quot;
          ;;
        sparc*-*linux*)
          LD=&quot;${LD-ld} -m elf64_sparc&quot;
          ;;
      esac
      ;;
    esac
  fi
  rm -rf conftest*
  ;;

*-*-sco3.2v5*)
  <span class="enscript-comment"># On SCO OpenServer 5, we need -belf to get full-featured binaries.
</span>  SAVE_CFLAGS=&quot;$CFLAGS&quot;
  CFLAGS=&quot;$CFLAGS -belf&quot;
  AC_CACHE_CHECK([whether the C compiler needs -belf], lt_cv_cc_needs_belf,
    [AC_LANG_PUSH(C)
     AC_TRY_LINK([],[],[lt_cv_cc_needs_belf=yes],[lt_cv_cc_needs_belf=no])
     AC_LANG_POP])
  if test x&quot;$lt_cv_cc_needs_belf&quot; != x&quot;yes&quot;; then
    <span class="enscript-comment"># this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf
</span>    CFLAGS=&quot;$SAVE_CFLAGS&quot;
  fi
  ;;
sparc*-*solaris*)
  <span class="enscript-comment"># Find out which ABI we are using.
</span>  echo 'int i;' &gt; conftest.$ac_ext
  if AC_TRY_EVAL(ac_compile); then
    case `/usr/bin/file conftest.o` in
    *64-bit*)
      case $lt_cv_prog_gnu_ld in
      yes*) LD=&quot;${LD-ld} -m elf64_sparc&quot; ;;
      *)    LD=&quot;${LD-ld} -64&quot; ;;
      esac
      ;;
    esac
  fi
  rm -rf conftest*
  ;;

AC_PROVIDE_IFELSE([AC_LIBTOOL_WIN32_DLL],
[*-*-cygwin* | *-*-mingw* | *-*-pw32*)
  AC_CHECK_TOOL(DLLTOOL, dlltool, false)
  AC_CHECK_TOOL(AS, as, false)
  AC_CHECK_TOOL(OBJDUMP, objdump, false)
  ;;
  ])
esac

need_locks=&quot;$enable_libtool_lock&quot;

])<span class="enscript-comment"># _LT_AC_LOCK
</span>

<span class="enscript-comment"># AC_LIBTOOL_COMPILER_OPTION(MESSAGE, VARIABLE-NAME, FLAGS,
</span><span class="enscript-comment">#		[OUTPUT-FILE], [ACTION-SUCCESS], [ACTION-FAILURE])
</span><span class="enscript-comment"># ----------------------------------------------------------------
</span><span class="enscript-comment"># Check whether the given compiler option works
</span>AC_DEFUN([AC_LIBTOOL_COMPILER_OPTION],
[AC_REQUIRE([LT_AC_PROG_SED])
AC_CACHE_CHECK([$1], [$2],
  [$2=no
  <span class="enscript-keyword">ifelse</span>([$4], , [ac_outfile=conftest.$ac_objext], [ac_outfile=$4])
   printf &quot;$lt_simple_compile_test_code&quot; &gt; conftest.$ac_ext
   lt_compiler_flag=&quot;$3&quot;
   <span class="enscript-comment"># Insert the option either (1) after the last *FLAGS variable, or
</span>   <span class="enscript-comment"># (2) before a word containing &quot;conftest.&quot;, or (3) at the end.
</span>   <span class="enscript-comment"># Note that $ac_compile itself does not contain backslashes and begins
</span>   <span class="enscript-comment"># with a dollar sign (not a hyphen), so the echo should work correctly.
</span>   <span class="enscript-comment"># The option is referenced via a variable to avoid confusing sed.
</span>   lt_compile=`echo &quot;$ac_compile&quot; | $SED \
   -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
   -e 's: [[^ ]]*conftest\.: $lt_compiler_flag&amp;:; t' \
   -e 's:$: $lt_compiler_flag:'`
   (<span class="enscript-keyword">eval</span> echo &quot;\&quot;\$as_me:__oline__: $lt_compile\&quot;&quot; &gt;&amp;AS_MESSAGE_LOG_FD)
   (<span class="enscript-keyword">eval</span> &quot;$lt_compile&quot; 2&gt;conftest.err)
   ac_status=$?
   cat conftest.err &gt;&amp;AS_MESSAGE_LOG_FD
   echo &quot;$as_me:__oline__: \$? = $ac_status&quot; &gt;&amp;AS_MESSAGE_LOG_FD
   if (exit $ac_status) &amp;&amp; test -s &quot;$ac_outfile&quot;; then
     <span class="enscript-comment"># The compiler can only warn and ignore the option if not recognized
</span>     <span class="enscript-comment"># So say no if there are warnings other than the usual output.
</span>     $echo &quot;X$_lt_compiler_boilerplate&quot; | $Xsed -e '/^$/d' &gt;conftest.exp
     $SED '/^$/d; /^ *+/d' conftest.err &gt;conftest.er2
     if test ! -s conftest.er2 || diff conftest.exp conftest.er2 &gt;/dev/null; then
       $2=yes
     fi
   fi
   $rm conftest*
])

if test x&quot;[$]$2&quot; = xyes; then
    <span class="enscript-keyword">ifelse</span>([$5], , :, [$5])
else
    <span class="enscript-keyword">ifelse</span>([$6], , :, [$6])
fi
])<span class="enscript-comment"># AC_LIBTOOL_COMPILER_OPTION
</span>

<span class="enscript-comment"># AC_LIBTOOL_LINKER_OPTION(MESSAGE, VARIABLE-NAME, FLAGS,
</span><span class="enscript-comment">#                          [ACTION-SUCCESS], [ACTION-FAILURE])
</span><span class="enscript-comment"># ------------------------------------------------------------
</span><span class="enscript-comment"># Check whether the given compiler option works
</span>AC_DEFUN([AC_LIBTOOL_LINKER_OPTION],
[AC_CACHE_CHECK([$1], [$2],
  [$2=no
   save_LDFLAGS=&quot;$LDFLAGS&quot;
   LDFLAGS=&quot;$LDFLAGS $3&quot;
   printf &quot;$lt_simple_link_test_code&quot; &gt; conftest.$ac_ext
   if (<span class="enscript-keyword">eval</span> $ac_link 2&gt;conftest.err) &amp;&amp; test -s conftest$ac_exeext; then
     <span class="enscript-comment"># The linker can only warn and ignore the option if not recognized
</span>     <span class="enscript-comment"># So say no if there are warnings
</span>     if test -s conftest.err; then
       <span class="enscript-comment"># Append any errors to the config.log.
</span>       cat conftest.err 1&gt;&amp;AS_MESSAGE_LOG_FD
       $echo &quot;X$_lt_linker_boilerplate&quot; | $Xsed -e '/^$/d' &gt; conftest.exp
<span class="enscript-string">       $SED '</span>/^$/d; /^ *+/d' conftest.err &gt;conftest.er2
       if diff conftest.exp conftest.er2 &gt;/dev/null; then
         $2=yes
       fi
     else
       $2=yes
     fi
   fi
   $rm conftest*
   LDFLAGS=&quot;$save_LDFLAGS&quot;
])

if test x&quot;[$]$2&quot; = xyes; then
    <span class="enscript-keyword">ifelse</span>([$4], , :, [$4])
else
    <span class="enscript-keyword">ifelse</span>([$5], , :, [$5])
fi
])<span class="enscript-comment"># AC_LIBTOOL_LINKER_OPTION
</span>

<span class="enscript-comment"># AC_LIBTOOL_SYS_MAX_CMD_LEN
</span><span class="enscript-comment"># --------------------------
</span>AC_DEFUN([AC_LIBTOOL_SYS_MAX_CMD_LEN],
[<span class="enscript-comment"># find the maximum length of command line arguments
</span>AC_MSG_CHECKING([the maximum length of command line arguments])
AC_CACHE_VAL([lt_cv_sys_max_cmd_len], [<span class="enscript-comment">dnl
</span>  i=0
  teststring=&quot;ABCD&quot;

  case $build_os in
  msdosdjgpp*)
    <span class="enscript-comment"># On DJGPP, this test can blow up pretty badly due to problems in libc
</span>    <span class="enscript-comment"># (any single argument exceeding 2000 bytes causes a buffer overrun
</span>    <span class="enscript-comment"># during glob expansion).  Even if it were fixed, the result of this
</span>    <span class="enscript-comment"># check would be larger than it should be.
</span>    lt_cv_sys_max_cmd_len=12288;    <span class="enscript-comment"># 12K is about right
</span>    ;;

  gnu*)
    <span class="enscript-comment"># Under GNU Hurd, this test is not required because there is
</span>    <span class="enscript-comment"># no limit to the length of command line arguments.
</span>    <span class="enscript-comment"># Libtool will interpret -1 as no limit whatsoever
</span>    lt_cv_sys_max_cmd_len=-1;
    ;;

  cygwin* | mingw*)
    <span class="enscript-comment"># On Win9x/ME, this test blows up -- it succeeds, but takes
</span>    <span class="enscript-comment"># about 5 minutes as the teststring grows exponentially.
</span>    <span class="enscript-comment"># Worse, since 9x/ME are not pre-emptively multitasking,
</span>    <span class="enscript-comment"># you end up with a &quot;frozen&quot; computer, even though with patience
</span>    <span class="enscript-comment"># the test eventually succeeds (with a max line length of 256k).
</span>    <span class="enscript-comment"># Instead, let's just punt: use the minimum linelength reported by
</span>    <span class="enscript-comment"># all of the supported platforms: 8192 (on NT/2K/XP).
</span>    lt_cv_sys_max_cmd_len=8192;
    ;;

  amigaos*)
    <span class="enscript-comment"># On AmigaOS with pdksh, this test takes hours, literally.
</span>    <span class="enscript-comment"># So we just punt and use a minimum line length of 8192.
</span>    lt_cv_sys_max_cmd_len=8192;
    ;;

  netbsd* | freebsd* | openbsd* | darwin* | dragonfly*)
    <span class="enscript-comment"># This has been around since 386BSD, at least.  Likely further.
</span>    if test -x /sbin/sysctl; then
      lt_cv_sys_max_cmd_len=`/sbin/sysctl -n kern.argmax`
    elif test -x /usr/sbin/sysctl; then
      lt_cv_sys_max_cmd_len=`/usr/sbin/sysctl -n kern.argmax`
    else
      lt_cv_sys_max_cmd_len=65536	<span class="enscript-comment"># usable default for all BSDs
</span>    fi
    <span class="enscript-comment"># And add a safety zone
</span>    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \/ 4`
    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \* 3`
    ;;

  interix*)
    <span class="enscript-comment"># We know the value 262144 and hardcode it with a safety zone (like BSD)
</span>    lt_cv_sys_max_cmd_len=196608
    ;;

  osf*)
    <span class="enscript-comment"># Dr. Hans Ekkehard Plesser reports seeing a kernel panic running configure
</span>    <span class="enscript-comment"># due to this test when exec_disable_arg_limit is 1 on Tru64. It is not
</span>    <span class="enscript-comment"># nice to cause kernel panics so lets avoid the loop below.
</span>    <span class="enscript-comment"># First set a reasonable default.
</span>    lt_cv_sys_max_cmd_len=16384
    <span class="enscript-comment">#
</span>    if test -x /sbin/sysconfig; then
      case `/sbin/sysconfig -q proc exec_disable_arg_limit` in
        *1*) lt_cv_sys_max_cmd_len=-1 ;;
      esac
    fi
    ;;
  sco3.2v5*)
    lt_cv_sys_max_cmd_len=102400
    ;;
  sysv5* | sco5v6* | sysv4.2uw2*)
    kargmax=`grep ARG_MAX /etc/conf/cf.d/stune 2&gt;/dev/null`
    if test -n &quot;$kargmax&quot;; then
      lt_cv_sys_max_cmd_len=`echo $kargmax | sed 's/.*[[ 	]]//'`
    else
      lt_cv_sys_max_cmd_len=32768
    fi
    ;;
  *)
    <span class="enscript-comment"># If test is not a shell built-in, we'll probably end up computing a
</span>    <span class="enscript-comment"># maximum length that is only half of the actual maximum length, but
</span>    <span class="enscript-comment"># we can't tell.
</span>    SHELL=${SHELL-${CONFIG_SHELL-/bin/sh}}
    while (test &quot;X&quot;`$SHELL [$]0 --fallback-echo &quot;X$teststring&quot; 2&gt;/dev/null` \
	       = &quot;XX$teststring&quot;) &gt;/dev/null 2&gt;&amp;1 &amp;&amp;
	    new_result=`expr &quot;X$teststring&quot; : &quot;.*&quot; 2&gt;&amp;1` &amp;&amp;
	    lt_cv_sys_max_cmd_len=$new_result &amp;&amp;
	    test $i != 17 <span class="enscript-comment"># 1/2 MB should be enough
</span>    do
      i=`expr $i + 1`
      teststring=$teststring$teststring
    done
    teststring=
    <span class="enscript-comment"># Add a significant safety factor because C++ compilers can tack on massive
</span>    <span class="enscript-comment"># amounts of additional arguments before passing them to the linker.
</span>    <span class="enscript-comment"># It appears as though 1/2 is a usable value.
</span>    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \/ 2`
    ;;
  esac
])
if test -n $lt_cv_sys_max_cmd_len ; then
  AC_MSG_RESULT($lt_cv_sys_max_cmd_len)
else
  AC_MSG_RESULT(none)
fi
])<span class="enscript-comment"># AC_LIBTOOL_SYS_MAX_CMD_LEN
</span>

<span class="enscript-comment"># _LT_AC_CHECK_DLFCN
</span><span class="enscript-comment"># ------------------
</span>AC_DEFUN([_LT_AC_CHECK_DLFCN],
[AC_CHECK_HEADERS(dlfcn.h)<span class="enscript-comment">dnl
</span>])<span class="enscript-comment"># _LT_AC_CHECK_DLFCN
</span>

<span class="enscript-comment"># _LT_AC_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
</span><span class="enscript-comment">#                           ACTION-IF-FALSE, ACTION-IF-CROSS-COMPILING)
</span><span class="enscript-comment"># ---------------------------------------------------------------------
</span>AC_DEFUN([_LT_AC_TRY_DLOPEN_SELF],
[AC_REQUIRE([_LT_AC_CHECK_DLFCN])<span class="enscript-comment">dnl
</span>if test &quot;$cross_compiling&quot; = yes; then :
  [$4]
else
  lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
  lt_status=$lt_dlunknown
  cat &gt; conftest.$ac_ext &lt;&lt;EOF
[<span class="enscript-comment">#line __oline__ &quot;configure&quot;
</span><span class="enscript-comment">#include &quot;confdefs.h&quot;
</span>
<span class="enscript-comment">#if HAVE_DLFCN_H
</span><span class="enscript-comment">#include &lt;dlfcn.h&gt;
</span><span class="enscript-comment">#endif
</span>
<span class="enscript-comment">#include &lt;stdio.h&gt;
</span>
<span class="enscript-comment">#ifdef RTLD_GLOBAL
</span><span class="enscript-comment">#  define LT_DLGLOBAL		RTLD_GLOBAL
</span><span class="enscript-comment">#else
</span><span class="enscript-comment">#  ifdef DL_GLOBAL
</span><span class="enscript-comment">#    define LT_DLGLOBAL		DL_GLOBAL
</span><span class="enscript-comment">#  else
</span><span class="enscript-comment">#    define LT_DLGLOBAL		0
</span><span class="enscript-comment">#  endif
</span><span class="enscript-comment">#endif
</span>
/* We may have to <span class="enscript-keyword">define</span> LT_DLLAZY_OR_NOW in the command line if we
   find out it does not work in some platform. */
<span class="enscript-comment">#ifndef LT_DLLAZY_OR_NOW
</span><span class="enscript-comment">#  ifdef RTLD_LAZY
</span><span class="enscript-comment">#    define LT_DLLAZY_OR_NOW		RTLD_LAZY
</span><span class="enscript-comment">#  else
</span><span class="enscript-comment">#    ifdef DL_LAZY
</span><span class="enscript-comment">#      define LT_DLLAZY_OR_NOW		DL_LAZY
</span><span class="enscript-comment">#    else
</span><span class="enscript-comment">#      ifdef RTLD_NOW
</span><span class="enscript-comment">#        define LT_DLLAZY_OR_NOW	RTLD_NOW
</span><span class="enscript-comment">#      else
</span><span class="enscript-comment">#        ifdef DL_NOW
</span><span class="enscript-comment">#          define LT_DLLAZY_OR_NOW	DL_NOW
</span><span class="enscript-comment">#        else
</span><span class="enscript-comment">#          define LT_DLLAZY_OR_NOW	0
</span><span class="enscript-comment">#        endif
</span><span class="enscript-comment">#      endif
</span><span class="enscript-comment">#    endif
</span><span class="enscript-comment">#  endif
</span><span class="enscript-comment">#endif
</span>
<span class="enscript-comment">#ifdef __cplusplus
</span>extern &quot;C&quot; void exit (int);
<span class="enscript-comment">#endif
</span>
void fnord() { int i=42;}
int main ()
{
  void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
  int status = $lt_dlunknown;

  if (self)
    {
      if (dlsym (self,&quot;fnord&quot;))       status = $lt_dlno_uscore;
      else if (dlsym( self,&quot;_fnord&quot;)) status = $lt_dlneed_uscore;
      /* dlclose (self); */
    }
  else
    puts (dlerror ());

    exit (status);
}]
EOF
  if AC_TRY_EVAL(ac_link) &amp;&amp; test -s conftest${ac_exeext} 2&gt;/dev/null; then
    (./conftest; exit; ) &gt;&amp;AS_MESSAGE_LOG_FD 2&gt;/dev/null
    lt_status=$?
    case x$lt_status in
      x$lt_dlno_uscore) $1 ;;
      x$lt_dlneed_uscore) $2 ;;
      x$lt_dlunknown|x*) $3 ;;
    esac
  else :
    <span class="enscript-comment"># compilation failed
</span>    $3
  fi
fi
rm -fr conftest*
])<span class="enscript-comment"># _LT_AC_TRY_DLOPEN_SELF
</span>

<span class="enscript-comment"># AC_LIBTOOL_DLOPEN_SELF
</span><span class="enscript-comment"># ----------------------
</span>AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF],
[AC_REQUIRE([_LT_AC_CHECK_DLFCN])<span class="enscript-comment">dnl
</span>if test &quot;x$enable_dlopen&quot; != xyes; then
  enable_dlopen=unknown
  enable_dlopen_self=unknown
  enable_dlopen_self_static=unknown
else
  lt_cv_dlopen=no
  lt_cv_dlopen_libs=

  case $host_os in
  beos*)
    lt_cv_dlopen=&quot;load_add_on&quot;
    lt_cv_dlopen_libs=
    lt_cv_dlopen_self=yes
    ;;

  mingw* | pw32*)
    lt_cv_dlopen=&quot;LoadLibrary&quot;
    lt_cv_dlopen_libs=
   ;;

  cygwin*)
    lt_cv_dlopen=&quot;dlopen&quot;
    lt_cv_dlopen_libs=
   ;;

  darwin*)
  <span class="enscript-comment"># if libdl is installed we need to link against it
</span>    AC_CHECK_LIB([dl], [dlopen],
		[lt_cv_dlopen=&quot;dlopen&quot; lt_cv_dlopen_libs=&quot;-ldl&quot;],[
    lt_cv_dlopen=&quot;dyld&quot;
    lt_cv_dlopen_libs=
    lt_cv_dlopen_self=yes
    ])
   ;;

  *)
    AC_CHECK_FUNC([shl_load],
	  [lt_cv_dlopen=&quot;shl_load&quot;],
      [AC_CHECK_LIB([dld], [shl_load],
	    [lt_cv_dlopen=&quot;shl_load&quot; lt_cv_dlopen_libs=&quot;-dld&quot;],
	[AC_CHECK_FUNC([dlopen],
	      [lt_cv_dlopen=&quot;dlopen&quot;],
	  [AC_CHECK_LIB([dl], [dlopen],
		[lt_cv_dlopen=&quot;dlopen&quot; lt_cv_dlopen_libs=&quot;-ldl&quot;],
	    [AC_CHECK_LIB([svld], [dlopen],
		  [lt_cv_dlopen=&quot;dlopen&quot; lt_cv_dlopen_libs=&quot;-lsvld&quot;],
	      [AC_CHECK_LIB([dld], [dld_link],
		    [lt_cv_dlopen=&quot;dld_link&quot; lt_cv_dlopen_libs=&quot;-dld&quot;])
	      ])
	    ])
	  ])
	])
      ])
    ;;
  esac

  if test &quot;x$lt_cv_dlopen&quot; != xno; then
    enable_dlopen=yes
  else
    enable_dlopen=no
  fi

  case $lt_cv_dlopen in
  dlopen)
    save_CPPFLAGS=&quot;$CPPFLAGS&quot;
    test &quot;x$ac_cv_header_dlfcn_h&quot; = xyes &amp;&amp; CPPFLAGS=&quot;$CPPFLAGS -DHAVE_DLFCN_H&quot;

    save_LDFLAGS=&quot;$LDFLAGS&quot;
    wl=$lt_prog_compiler_wl <span class="enscript-keyword">eval</span> LDFLAGS=\&quot;\$LDFLAGS $export_dynamic_flag_spec\&quot;

    save_LIBS=&quot;$LIBS&quot;
    LIBS=&quot;$lt_cv_dlopen_libs $LIBS&quot;

    AC_CACHE_CHECK([whether a program can dlopen itself],
	  lt_cv_dlopen_self, [<span class="enscript-comment">dnl
</span>	  _LT_AC_TRY_DLOPEN_SELF(
	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
    ])

    if test &quot;x$lt_cv_dlopen_self&quot; = xyes; then
      wl=$lt_prog_compiler_wl <span class="enscript-keyword">eval</span> LDFLAGS=\&quot;\$LDFLAGS $lt_prog_compiler_static\&quot;
      AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
    	  lt_cv_dlopen_self_static, [<span class="enscript-comment">dnl
</span>	  _LT_AC_TRY_DLOPEN_SELF(
	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
      ])
    fi

    CPPFLAGS=&quot;$save_CPPFLAGS&quot;
    LDFLAGS=&quot;$save_LDFLAGS&quot;
    LIBS=&quot;$save_LIBS&quot;
    ;;
  esac

  case $lt_cv_dlopen_self in
  yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
  *) enable_dlopen_self=unknown ;;
  esac

  case $lt_cv_dlopen_self_static in
  yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
  *) enable_dlopen_self_static=unknown ;;
  esac
fi
])<span class="enscript-comment"># AC_LIBTOOL_DLOPEN_SELF
</span>

<span class="enscript-comment"># AC_LIBTOOL_PROG_CC_C_O([TAGNAME])
</span><span class="enscript-comment"># ---------------------------------
</span><span class="enscript-comment"># Check to see if options -c and -o are simultaneously supported by compiler
</span>AC_DEFUN([AC_LIBTOOL_PROG_CC_C_O],
[AC_REQUIRE([_LT_AC_SYS_COMPILER])<span class="enscript-comment">dnl
</span>AC_CACHE_CHECK([if $compiler supports -c -o file.$ac_objext],
  [_LT_AC_TAGVAR(lt_cv_prog_compiler_c_o, $1)],
  [_LT_AC_TAGVAR(lt_cv_prog_compiler_c_o, $1)=no
   $rm -r conftest 2&gt;/dev/null
   mkdir conftest
   cd conftest
   mkdir out
   printf &quot;$lt_simple_compile_test_code&quot; &gt; conftest.$ac_ext

   lt_compiler_flag=&quot;-o out/conftest2.$ac_objext&quot;
   <span class="enscript-comment"># Insert the option either (1) after the last *FLAGS variable, or
</span>   <span class="enscript-comment"># (2) before a word containing &quot;conftest.&quot;, or (3) at the end.
</span>   <span class="enscript-comment"># Note that $ac_compile itself does not contain backslashes and begins
</span>   <span class="enscript-comment"># with a dollar sign (not a hyphen), so the echo should work correctly.
</span>   lt_compile=`echo &quot;$ac_compile&quot; | $SED \
   -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
   -e 's: [[^ ]]*conftest\.: $lt_compiler_flag&amp;:; t' \
   -e 's:$: $lt_compiler_flag:'`
   (<span class="enscript-keyword">eval</span> echo &quot;\&quot;\$as_me:__oline__: $lt_compile\&quot;&quot; &gt;&amp;AS_MESSAGE_LOG_FD)
   (<span class="enscript-keyword">eval</span> &quot;$lt_compile&quot; 2&gt;out/conftest.err)
   ac_status=$?
   cat out/conftest.err &gt;&amp;AS_MESSAGE_LOG_FD
   echo &quot;$as_me:__oline__: \$? = $ac_status&quot; &gt;&amp;AS_MESSAGE_LOG_FD
   if (exit $ac_status) &amp;&amp; test -s out/conftest2.$ac_objext
   then
     <span class="enscript-comment"># The compiler can only warn and ignore the option if not recognized
</span>     <span class="enscript-comment"># So say no if there are warnings
</span>     $echo &quot;X$_lt_compiler_boilerplate&quot; | $Xsed -e '/^$/d' &gt; out/conftest.exp
     $SED '/^$/d; /^ *+/d' out/conftest.err &gt;out/conftest.er2
     if test ! -s out/conftest.er2 || diff out/conftest.exp out/conftest.er2 &gt;/dev/null; then
       _LT_AC_TAGVAR(lt_cv_prog_compiler_c_o, $1)=yes
     fi
   fi
   chmod u+w . 2&gt;&amp;AS_MESSAGE_LOG_FD
   $rm conftest*
   <span class="enscript-comment"># SGI C++ compiler will create directory out/ii_files/ for
</span>   <span class="enscript-comment"># template instantiation
</span>   test -d out/ii_files &amp;&amp; $rm out/ii_files/* &amp;&amp; rmdir out/ii_files
   $rm out/* &amp;&amp; rmdir out
   cd ..
   rmdir conftest
   $rm conftest*
])
])<span class="enscript-comment"># AC_LIBTOOL_PROG_CC_C_O
</span>

<span class="enscript-comment"># AC_LIBTOOL_SYS_HARD_LINK_LOCKS([TAGNAME])
</span><span class="enscript-comment"># -----------------------------------------
</span><span class="enscript-comment"># Check to see if we can do hard links to lock some files if needed
</span>AC_DEFUN([AC_LIBTOOL_SYS_HARD_LINK_LOCKS],
[AC_REQUIRE([_LT_AC_LOCK])<span class="enscript-comment">dnl
</span>
hard_links=&quot;nottested&quot;
if test &quot;$_LT_AC_TAGVAR(lt_cv_prog_compiler_c_o, $1)&quot; = no &amp;&amp; test &quot;$need_locks&quot; != no; then
  <span class="enscript-comment"># do not overwrite the value of need_locks provided by the user
</span>  AC_MSG_CHECKING([if we can lock with hard links])
  hard_links=yes
  $rm conftest*
  ln conftest.a conftest.b 2&gt;/dev/null &amp;&amp; hard_links=no
  touch conftest.a
  ln conftest.a conftest.b 2&gt;&amp;5 || hard_links=no
  ln conftest.a conftest.b 2&gt;/dev/null &amp;&amp; hard_links=no
  AC_MSG_RESULT([$hard_links])
  if test &quot;$hard_links&quot; = no; then
    AC_MSG_WARN([`$CC' does not support `-c -o', so `make -j' may be unsafe])
    need_locks=warn
  fi
else
  need_locks=no
fi
])<span class="enscript-comment"># AC_LIBTOOL_SYS_HARD_LINK_LOCKS
</span>

<span class="enscript-comment"># AC_LIBTOOL_OBJDIR
</span><span class="enscript-comment"># -----------------
</span>AC_DEFUN([AC_LIBTOOL_OBJDIR],
[AC_CACHE_CHECK([for objdir], [lt_cv_objdir],
[rm -f .libs 2&gt;/dev/null
mkdir .libs 2&gt;/dev/null
if test -d .libs; then
  lt_cv_objdir=.libs
else
  <span class="enscript-comment"># MS-DOS does not allow filenames that begin with a dot.
</span>  lt_cv_objdir=_libs
fi
rmdir .libs 2&gt;/dev/null])
objdir=$lt_cv_objdir
])<span class="enscript-comment"># AC_LIBTOOL_OBJDIR
</span>

<span class="enscript-comment"># AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH([TAGNAME])
</span><span class="enscript-comment"># ----------------------------------------------
</span><span class="enscript-comment"># Check hardcoding attributes.
</span>AC_DEFUN([AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH],
[AC_MSG_CHECKING([how to hardcode library paths into programs])
_LT_AC_TAGVAR(hardcode_action, $1)=
if test -n &quot;$_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)&quot; || \
   test -n &quot;$_LT_AC_TAGVAR(runpath_var, $1)&quot; || \
   test &quot;X$_LT_AC_TAGVAR(hardcode_automatic, $1)&quot; = &quot;Xyes&quot; ; then

  <span class="enscript-comment"># We can hardcode non-existant directories.
</span>  if test &quot;$_LT_AC_TAGVAR(hardcode_direct, $1)&quot; != no &amp;&amp;
     <span class="enscript-comment"># If the only mechanism to avoid hardcoding is shlibpath_var, we
</span>     <span class="enscript-comment"># have to relink, otherwise we might link with an installed library
</span>     <span class="enscript-comment"># when we should be linking with a yet-to-be-installed one
</span>     <span class="enscript-comment">## test &quot;$_LT_AC_TAGVAR(hardcode_shlibpath_var, $1)&quot; != no &amp;&amp;
</span>     test &quot;$_LT_AC_TAGVAR(hardcode_minus_L, $1)&quot; != no; then
    <span class="enscript-comment"># Linking always hardcodes the temporary library directory.
</span>    _LT_AC_TAGVAR(hardcode_action, $1)=relink
  else
    <span class="enscript-comment"># We can link without hardcoding, and we can hardcode nonexisting dirs.
</span>    _LT_AC_TAGVAR(hardcode_action, $1)=immediate
  fi
else
  <span class="enscript-comment"># We cannot hardcode anything, or else we can only hardcode existing
</span>  <span class="enscript-comment"># directories.
</span>  _LT_AC_TAGVAR(hardcode_action, $1)=unsupported
fi
AC_MSG_RESULT([$_LT_AC_TAGVAR(hardcode_action, $1)])

if test &quot;$_LT_AC_TAGVAR(hardcode_action, $1)&quot; = relink; then
  <span class="enscript-comment"># Fast installation is not supported
</span>  enable_fast_install=no
elif test &quot;$shlibpath_overrides_runpath&quot; = yes ||
     test &quot;$enable_shared&quot; = no; then
  <span class="enscript-comment"># Fast installation is not necessary
</span>  enable_fast_install=needless
fi
])<span class="enscript-comment"># AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH
</span>

<span class="enscript-comment"># AC_LIBTOOL_SYS_LIB_STRIP
</span><span class="enscript-comment"># ------------------------
</span>AC_DEFUN([AC_LIBTOOL_SYS_LIB_STRIP],
[striplib=
old_striplib=
AC_MSG_CHECKING([whether stripping libraries is possible])
if test -n &quot;$STRIP&quot; &amp;&amp; $STRIP -V 2&gt;&amp;1 | grep &quot;GNU strip&quot; &gt;/dev/null; then
  test -z &quot;$old_striplib&quot; &amp;&amp; old_striplib=&quot;$STRIP --strip-debug&quot;
  test -z &quot;$striplib&quot; &amp;&amp; striplib=&quot;$STRIP --strip-unneeded&quot;
  AC_MSG_RESULT([yes])
else
<span class="enscript-comment"># FIXME - insert some real tests, host_os isn't really good enough
</span>  case $host_os in
   darwin*)
       if test -n &quot;$STRIP&quot; ; then
         striplib=&quot;$STRIP -x&quot;
         AC_MSG_RESULT([yes])
       else
  AC_MSG_RESULT([no])
fi
       ;;
   *)
  AC_MSG_RESULT([no])
    ;;
  esac
fi
])<span class="enscript-comment"># AC_LIBTOOL_SYS_LIB_STRIP
</span>

<span class="enscript-comment"># AC_LIBTOOL_SYS_DYNAMIC_LINKER
</span><span class="enscript-comment"># -----------------------------
</span><span class="enscript-comment"># PORTME Fill in your ld.so characteristics
</span>AC_DEFUN([AC_LIBTOOL_SYS_DYNAMIC_LINKER],
[AC_MSG_CHECKING([dynamic linker characteristics])
library_names_spec=
libname_spec='lib$name'
soname_spec=
shrext_cmds=&quot;.so&quot;
postinstall_cmds=
postuninstall_cmds=
finish_cmds=
finish_eval=
shlibpath_var=
shlibpath_overrides_runpath=unknown
version_type=none
dynamic_linker=&quot;$host_os ld.so&quot;
sys_lib_dlsearch_path_spec=&quot;/lib /usr/lib&quot;
if test &quot;$GCC&quot; = yes; then
  sys_lib_search_path_spec=`$CC -print-search-dirs | grep &quot;^libraries:&quot; | $SED -e &quot;s/^libraries://&quot; -e &quot;s,=/,/,g&quot;`
  if echo &quot;$sys_lib_search_path_spec&quot; | grep ';' &gt;/dev/null ; then
    <span class="enscript-comment"># if the path contains &quot;;&quot; then we assume it to be the separator
</span>    <span class="enscript-comment"># otherwise default to the standard path separator (i.e. &quot;:&quot;) - it is
</span>    <span class="enscript-comment"># assumed that no part of a normal pathname contains &quot;;&quot; but that should
</span>    <span class="enscript-comment"># okay in the real world where &quot;;&quot; in dirpaths is itself problematic.
</span>    sys_lib_search_path_spec=`echo &quot;$sys_lib_search_path_spec&quot; | $SED -e 's/;/ /g'`
  else
    sys_lib_search_path_spec=`echo &quot;$sys_lib_search_path_spec&quot; | $SED  -e &quot;s/$PATH_SEPARATOR/ /g&quot;`
  fi
else
  sys_lib_search_path_spec=&quot;/lib /usr/lib /usr/local/lib&quot;
fi
need_lib_prefix=unknown
hardcode_into_libs=no

<span class="enscript-comment"># when you set need_version to no, make sure it does not cause -set_version
</span><span class="enscript-comment"># flags to be left without arguments
</span>need_version=unknown

case $host_os in
aix3*)
  version_type=linux
  library_names_spec='${libname}${release}${shared_ext}$versuffix $libname.a'
  shlibpath_var=LIBPATH

  <span class="enscript-comment"># AIX 3 has no versioning support, so we append a major version to the name.
</span>  soname_spec='${libname}${release}${shared_ext}$major'
  ;;

aix4* | aix5*)
  version_type=linux
  need_lib_prefix=no
  need_version=no
  hardcode_into_libs=yes
  if test &quot;$host_cpu&quot; = ia64; then
    <span class="enscript-comment"># AIX 5 supports IA64
</span>    library_names_spec='${libname}${release}${shared_ext}$major ${libname}${release}${shared_ext}$versuffix $libname${shared_ext}'
    shlibpath_var=LD_LIBRARY_PATH
  else
    <span class="enscript-comment"># With GCC up to 2.95.x, collect2 would create an import file
</span>    <span class="enscript-comment"># for dependence libraries.  The import file would start with
</span>    <span class="enscript-comment"># the line `#! .'.  This would cause the generated library to
</span>    <span class="enscript-comment"># depend on `.', always an invalid library.  This was fixed in
</span>    <span class="enscript-comment"># development snapshots of GCC prior to 3.0.
</span>    case $host_os in
      aix4 | aix4.[[01]] | aix4.[[01]].*)
      if { echo '<span class="enscript-comment">#if __GNUC__ &gt; 2 || (__GNUC__ == 2 &amp;&amp; __GNUC_MINOR__ &gt;= 97)'
</span>	   echo ' yes '
	   echo '<span class="enscript-comment">#endif'; } | ${CC} -E - | grep yes &gt; /dev/null; then
</span>	:
      else
	can_build_shared=no
      fi
      ;;
    esac
    <span class="enscript-comment"># AIX (on Power*) has no versioning support, so currently we can not hardcode correct
</span>    <span class="enscript-comment"># soname into executable. Probably we can add versioning support to
</span>    <span class="enscript-comment"># collect2, so additional links can be useful in future.
</span>    if test &quot;$aix_use_runtimelinking&quot; = yes; then
      <span class="enscript-comment"># If using run time linking (on AIX 4.2 or later) use lib&lt;name&gt;.so
</span>      <span class="enscript-comment"># instead of lib&lt;name&gt;.a to let people know that these are not
</span>      <span class="enscript-comment"># typical AIX shared libraries.
</span>      library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
    else
      <span class="enscript-comment"># We preserve .a as extension for shared libraries through AIX4.2
</span>      <span class="enscript-comment"># and later when we are not doing run time linking.
</span>      library_names_spec='${libname}${release}.a $libname.a'
      soname_spec='${libname}${release}${shared_ext}$major'
    fi
    shlibpath_var=LIBPATH
  fi
  ;;

amigaos*)
  library_names_spec='$libname.ixlibrary $libname.a'
  <span class="enscript-comment"># Create ${libname}_ixlibrary.a entries in /sys/libs.
</span>  finish_eval='for lib in `ls $libdir/*.ixlibrary 2&gt;/dev/null`; do libname=`$echo &quot;X$lib&quot; | $Xsed -e '\''s%^.*/\([[^/]]*\)\.ixlibrary$%\1%'\''`; test $rm /sys/libs/${libname}_ixlibrary.a; $show &quot;cd /sys/libs &amp;&amp; $LN_S $lib ${libname}_ixlibrary.a&quot;; cd /sys/libs &amp;&amp; $LN_S $lib ${libname}_ixlibrary.a || exit 1; done'
  ;;

beos*)
  library_names_spec='${libname}${shared_ext}'
  dynamic_linker=&quot;$host_os ld.so&quot;
  shlibpath_var=LIBRARY_PATH
  ;;

bsdi[[45]]*)
  version_type=linux
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig $libdir'
  shlibpath_var=LD_LIBRARY_PATH
  sys_lib_search_path_spec=&quot;/shlib /usr/lib /usr/X11/lib /usr/contrib/lib /lib /usr/local/lib&quot;
  sys_lib_dlsearch_path_spec=&quot;/shlib /usr/lib /usr/local/lib&quot;
  <span class="enscript-comment"># the default ld.so.conf also contains /usr/contrib/lib and
</span>  <span class="enscript-comment"># /usr/X11R6/lib (/usr/X11 is a link to /usr/X11R6), but let us allow
</span>  <span class="enscript-comment"># libtool to hard-code these into programs
</span>  ;;

cygwin* | mingw* | pw32*)
  version_type=windows
  shrext_cmds=&quot;.dll&quot;
  need_version=no
  need_lib_prefix=no

  case $GCC,$host_os in
  yes,cygwin* | yes,mingw* | yes,pw32*)
    library_names_spec='$libname.dll.a'
    <span class="enscript-comment"># DLL is installed to $(libdir)/../bin by postinstall_cmds
</span>    postinstall_cmds='base_file=`basename \${file}`~
      dlpath=`$SHELL 2&gt;&amp;1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
      dldir=$destdir/`dirname \$dlpath`~
      test -d \$dldir || mkdir -p \$dldir~
      $install_prog $dir/$dlname \$dldir/$dlname~
      chmod a+x \$dldir/$dlname'
<span class="enscript-string">    postuninstall_cmds='</span>dldll=`$SHELL 2&gt;&amp;1 -c '\''. $file; echo \$dlname'\''`~
      dlpath=$dir/\$dldll~
       $rm \$dlpath'
    shlibpath_overrides_runpath=yes

    case $host_os in
    cygwin*)
      <span class="enscript-comment"># Cygwin DLLs use 'cyg' prefix rather than 'lib'
</span>      soname_spec='`echo ${libname} | sed -e 's/^lib/cyg/'``echo ${release} | $SED -e 's/[[.]]/-/g'`${versuffix}${shared_ext}'
      sys_lib_search_path_spec=&quot;/usr/lib /lib/w32api /lib /usr/local/lib&quot;
      ;;
    mingw*)
      <span class="enscript-comment"># MinGW DLLs use traditional 'lib' prefix
</span>      soname_spec='${libname}`echo ${release} | $SED -e 's/[[.]]/-/g'`${versuffix}${shared_ext}'
      sys_lib_search_path_spec=`$CC -print-search-dirs | grep &quot;^libraries:&quot; | $SED -e &quot;s/^libraries://&quot; -e &quot;s,=/,/,g&quot;`
      if echo &quot;$sys_lib_search_path_spec&quot; | [grep ';[c-zC-Z]:/' &gt;/dev/null]; then
        <span class="enscript-comment"># It is most probably a Windows format PATH printed by
</span>        <span class="enscript-comment"># mingw gcc, but we are running on Cygwin. Gcc prints its search
</span>        <span class="enscript-comment"># path with ; separators, and with drive letters. We can handle the
</span>        <span class="enscript-comment"># drive letters (cygwin fileutils understands them), so leave them,
</span>        <span class="enscript-comment"># especially as we might pass files found there to a mingw objdump,
</span>        <span class="enscript-comment"># which wouldn't understand a cygwinified path. Ahh.
</span>        sys_lib_search_path_spec=`echo &quot;$sys_lib_search_path_spec&quot; | $SED -e 's/;/ /g'`
      else
        sys_lib_search_path_spec=`echo &quot;$sys_lib_search_path_spec&quot; | $SED  -e &quot;s/$PATH_SEPARATOR/ /g&quot;`
      fi
      ;;
    pw32*)
      <span class="enscript-comment"># pw32 DLLs use 'pw' prefix rather than 'lib'
</span>      library_names_spec='`echo ${libname} | sed -e 's/^lib/pw/'``echo ${release} | $SED -e 's/[[.]]/-/g'`${versuffix}${shared_ext}'
      ;;
    esac
    ;;

  *)
    library_names_spec='${libname}`echo ${release} | $SED -e 's/[[.]]/-/g'`${versuffix}${shared_ext} $libname.lib'
    ;;
  esac
  dynamic_linker='Win32 ld.exe'
  <span class="enscript-comment"># FIXME: first we should search . and the directory the executable is in
</span>  shlibpath_var=PATH
  ;;

darwin* | rhapsody*)
  dynamic_linker=&quot;$host_os dyld&quot;
  version_type=darwin
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${versuffix}$shared_ext ${libname}${release}${major}$shared_ext ${libname}$shared_ext'
  soname_spec='${libname}${release}${major}$shared_ext'
  shlibpath_overrides_runpath=yes
  shlibpath_var=DYLD_LIBRARY_PATH
  shrext_cmds='`test .$module = .yes &amp;&amp; echo .so || echo .dylib`'
  <span class="enscript-comment"># Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
</span>  if test &quot;$GCC&quot; = yes; then
    sys_lib_search_path_spec=`$CC -print-search-dirs | tr &quot;\n&quot; &quot;$PATH_SEPARATOR&quot; | sed -e 's/libraries:/@libraries:/' | tr &quot;@&quot; &quot;\n&quot; | grep &quot;^libraries:&quot; | sed -e &quot;s/^libraries://&quot; -e &quot;s,=/,/,g&quot; -e &quot;s,$PATH_SEPARATOR, ,g&quot; -e &quot;s,.*,&amp; /lib /usr/lib /usr/local/lib,g&quot;`
  else
    sys_lib_search_path_spec='/lib /usr/lib /usr/local/lib'
  fi
  sys_lib_dlsearch_path_spec='/usr/local/lib /lib /usr/lib'
  ;;

dgux*)
  version_type=linux
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname$shared_ext'
  soname_spec='${libname}${release}${shared_ext}$major'
  shlibpath_var=LD_LIBRARY_PATH
  ;;

freebsd1*)
  dynamic_linker=no
  ;;

kfreebsd*-gnu)
  version_type=linux
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  shlibpath_var=LD_LIBRARY_PATH
  shlibpath_overrides_runpath=no
  hardcode_into_libs=yes
  dynamic_linker='GNU ld.so'
  ;;

freebsd* | dragonfly*)
  <span class="enscript-comment"># DragonFly does not have aout.  When/if they implement a new
</span>  <span class="enscript-comment"># versioning mechanism, adjust this.
</span>  if test -x /usr/bin/objformat; then
    objformat=`/usr/bin/objformat`
  else
    case $host_os in
    freebsd[[123]]*) objformat=aout ;;
    *) objformat=elf ;;
    esac
  fi
  version_type=freebsd-$objformat
  case $version_type in
    freebsd-elf*)
      library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext} $libname${shared_ext}'
      need_version=no
      need_lib_prefix=no
      ;;
    freebsd-*)
      library_names_spec='${libname}${release}${shared_ext}$versuffix $libname${shared_ext}$versuffix'
      need_version=yes
      ;;
  esac
  shlibpath_var=LD_LIBRARY_PATH
  case $host_os in
  freebsd2*)
    shlibpath_overrides_runpath=yes
    ;;
  freebsd3.[[01]]* | freebsdelf3.[[01]]*)
    shlibpath_overrides_runpath=yes
    hardcode_into_libs=yes
    ;;
  freebsd3.[[2-9]]* | freebsdelf3.[[2-9]]* | \
  freebsd4.[[0-5]] | freebsdelf4.[[0-5]] | freebsd4.1.1 | freebsdelf4.1.1)
    shlibpath_overrides_runpath=no
    hardcode_into_libs=yes
    ;;
  freebsd*) <span class="enscript-comment"># from 4.6 on
</span>    shlibpath_overrides_runpath=yes
    hardcode_into_libs=yes
    ;;
  esac
  ;;

gnu*)
  version_type=linux
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}${major} ${libname}${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  shlibpath_var=LD_LIBRARY_PATH
  hardcode_into_libs=yes
  ;;

hpux9* | hpux10* | hpux11*)
  <span class="enscript-comment"># Give a soname corresponding to the major version so that dld.sl refuses to
</span>  <span class="enscript-comment"># link against other versions.
</span>  version_type=sunos
  need_lib_prefix=no
  need_version=no
  case $host_cpu in
  ia64*)
    shrext_cmds='.so'
    hardcode_into_libs=yes
    dynamic_linker=&quot;$host_os dld.so&quot;
    shlibpath_var=LD_LIBRARY_PATH
    shlibpath_overrides_runpath=yes <span class="enscript-comment"># Unless +noenvvar is specified.
</span>    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
    soname_spec='${libname}${release}${shared_ext}$major'
    if test &quot;X$HPUX_IA64_MODE&quot; = X32; then
      sys_lib_search_path_spec=&quot;/usr/lib/hpux32 /usr/local/lib/hpux32 /usr/local/lib&quot;
    else
      sys_lib_search_path_spec=&quot;/usr/lib/hpux64 /usr/local/lib/hpux64&quot;
    fi
    sys_lib_dlsearch_path_spec=$sys_lib_search_path_spec
    ;;
   hppa*64*)
     shrext_cmds='.sl'
     hardcode_into_libs=yes
     dynamic_linker=&quot;$host_os dld.sl&quot;
     shlibpath_var=LD_LIBRARY_PATH <span class="enscript-comment"># How should we handle SHLIB_PATH
</span>     shlibpath_overrides_runpath=yes <span class="enscript-comment"># Unless +noenvvar is specified.
</span>     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
     soname_spec='${libname}${release}${shared_ext}$major'
     sys_lib_search_path_spec=&quot;/usr/lib/pa20_64 /usr/ccs/lib/pa20_64&quot;
     sys_lib_dlsearch_path_spec=$sys_lib_search_path_spec
     ;;
   *)
    shrext_cmds='.sl'
    dynamic_linker=&quot;$host_os dld.sl&quot;
    shlibpath_var=SHLIB_PATH
    shlibpath_overrides_runpath=no <span class="enscript-comment"># +s is required to enable SHLIB_PATH
</span>    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
    soname_spec='${libname}${release}${shared_ext}$major'
    ;;
  esac
  <span class="enscript-comment"># HP-UX runs *really* slowly unless shared libraries are mode 555.
</span>  postinstall_cmds='chmod 555 $lib'
  ;;

interix3*)
  version_type=linux
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  dynamic_linker='Interix 3.x ld.so.1 (PE, like ELF)'
  shlibpath_var=LD_LIBRARY_PATH
  shlibpath_overrides_runpath=no
  hardcode_into_libs=yes
  ;;

irix5* | irix6* | nonstopux*)
  case $host_os in
    nonstopux*) version_type=nonstopux ;;
    *)
	if test &quot;$lt_cv_prog_gnu_ld&quot; = yes; then
		version_type=linux
	else
		version_type=irix
	fi ;;
  esac
  need_lib_prefix=no
  need_version=no
  soname_spec='${libname}${release}${shared_ext}$major'
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${release}${shared_ext} $libname${shared_ext}'
  case $host_os in
  irix5* | nonstopux*)
    libsuff= shlibsuff=
    ;;
  *)
    case $LD in <span class="enscript-comment"># libtool.m4 will add one of these switches to LD
</span>    *-32|*&quot;-32 &quot;|*-melf32bsmip|*&quot;-melf32bsmip &quot;)
      libsuff= shlibsuff= libmagic=32-bit;;
    *-n32|*&quot;-n32 &quot;|*-melf32bmipn32|*&quot;-melf32bmipn32 &quot;)
      libsuff=32 shlibsuff=N32 libmagic=N32;;
    *-64|*&quot;-64 &quot;|*-melf64bmip|*&quot;-melf64bmip &quot;)
      libsuff=64 shlibsuff=64 libmagic=64-bit;;
    *) libsuff= shlibsuff= libmagic=never-match;;
    esac
    ;;
  esac
  shlibpath_var=LD_LIBRARY${shlibsuff}_PATH
  shlibpath_overrides_runpath=no
  sys_lib_search_path_spec=&quot;/usr/lib${libsuff} /lib${libsuff} /usr/local/lib${libsuff}&quot;
  sys_lib_dlsearch_path_spec=&quot;/usr/lib${libsuff} /lib${libsuff}&quot;
  hardcode_into_libs=yes
  ;;

<span class="enscript-comment"># No shared lib support for Linux oldld, aout, or coff.
</span>linux*oldld* | linux*aout* | linux*coff*)
  dynamic_linker=no
  ;;

<span class="enscript-comment"># This must be Linux ELF.
</span>linux*)
  version_type=linux
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -n $libdir'
  shlibpath_var=LD_LIBRARY_PATH
  shlibpath_overrides_runpath=no
  <span class="enscript-comment"># This implies no fast_install, which is unacceptable.
</span>  <span class="enscript-comment"># Some rework will be needed to allow for fast_install
</span>  <span class="enscript-comment"># before this can be enabled.
</span>  hardcode_into_libs=yes

  <span class="enscript-comment"># Append ld.so.conf contents to the search path
</span>  if test -f /etc/ld.so.conf; then
    lt_ld_extra=`awk '/^<span class="enscript-keyword">include</span> / { system(sprintf(&quot;cd /etc; cat %s 2&gt;/dev/null&quot;, \[$]2)); skip = 1; } { if (!skip) print \[$]0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/<span class="enscript-comment">#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
</span>    sys_lib_dlsearch_path_spec=&quot;/lib /usr/lib $lt_ld_extra&quot;
  fi

  <span class="enscript-comment"># We used to test for /lib/ld.so.1 and disable shared libraries on
</span>  <span class="enscript-comment"># powerpc, because MkLinux only supported shared libraries with the
</span>  <span class="enscript-comment"># GNU dynamic linker.  Since this was broken with cross compilers,
</span>  <span class="enscript-comment"># most powerpc-linux boxes support dynamic linking these days and
</span>  <span class="enscript-comment"># people can always --disable-shared, the test was removed, and we
</span>  <span class="enscript-comment"># assume the GNU/Linux dynamic linker is in use.
</span>  dynamic_linker='GNU/Linux ld.so'
  ;;

knetbsd*-gnu)
  version_type=linux
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  shlibpath_var=LD_LIBRARY_PATH
  shlibpath_overrides_runpath=no
  hardcode_into_libs=yes
  dynamic_linker='GNU ld.so'
  ;;

netbsd*)
  version_type=sunos
  need_lib_prefix=no
  need_version=no
  if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
    finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -m $libdir'
    dynamic_linker='NetBSD (a.out) ld.so'
  else
    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
    soname_spec='${libname}${release}${shared_ext}$major'
    dynamic_linker='NetBSD ld.elf_so'
  fi
  shlibpath_var=LD_LIBRARY_PATH
  shlibpath_overrides_runpath=yes
  hardcode_into_libs=yes
  ;;

newsos6)
  version_type=linux
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
  shlibpath_var=LD_LIBRARY_PATH
  shlibpath_overrides_runpath=yes
  ;;

nto-qnx*)
  version_type=linux
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  shlibpath_var=LD_LIBRARY_PATH
  shlibpath_overrides_runpath=yes
  ;;

openbsd*)
  version_type=sunos
  sys_lib_dlsearch_path_spec=&quot;/usr/lib&quot;
  need_lib_prefix=no
  <span class="enscript-comment"># Some older versions of OpenBSD (3.3 at least) *do* need versioned libs.
</span>  case $host_os in
    openbsd3.3 | openbsd3.3.*) need_version=yes ;;
    *)                         need_version=no  ;;
  esac
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -m $libdir'
  shlibpath_var=LD_LIBRARY_PATH
  if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
    case $host_os in
      openbsd2.[[89]] | openbsd2.[[89]].*)
	shlibpath_overrides_runpath=no
	;;
      *)
	shlibpath_overrides_runpath=yes
	;;
      esac
  else
    shlibpath_overrides_runpath=yes
  fi
  ;;

os2*)
  libname_spec='$name'
  shrext_cmds=&quot;.dll&quot;
  need_lib_prefix=no
  library_names_spec='$libname${shared_ext} $libname.a'
  dynamic_linker='OS/2 ld.exe'
  shlibpath_var=LIBPATH
  ;;

osf3* | osf4* | osf5*)
  version_type=osf
  need_lib_prefix=no
  need_version=no
  soname_spec='${libname}${release}${shared_ext}$major'
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
  shlibpath_var=LD_LIBRARY_PATH
  sys_lib_search_path_spec=&quot;/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib&quot;
  sys_lib_dlsearch_path_spec=&quot;$sys_lib_search_path_spec&quot;
  ;;

solaris*)
  version_type=linux
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  shlibpath_var=LD_LIBRARY_PATH
  shlibpath_overrides_runpath=yes
  hardcode_into_libs=yes
  <span class="enscript-comment"># ldd complains unless libraries are executable
</span>  postinstall_cmds='chmod +x $lib'
  ;;

sunos4*)
  version_type=sunos
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
  finish_cmds='PATH=&quot;\$PATH:/usr/etc&quot; ldconfig $libdir'
  shlibpath_var=LD_LIBRARY_PATH
  shlibpath_overrides_runpath=yes
  if test &quot;$with_gnu_ld&quot; = yes; then
    need_lib_prefix=no
  fi
  need_version=yes
  ;;

sysv4 | sysv4.3*)
  version_type=linux
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  shlibpath_var=LD_LIBRARY_PATH
  case $host_vendor in
    sni)
      shlibpath_overrides_runpath=no
      need_lib_prefix=no
      export_dynamic_flag_spec='${wl}-Blargedynsym'
      runpath_var=LD_RUN_PATH
      ;;
    siemens)
      need_lib_prefix=no
      ;;
    motorola)
      need_lib_prefix=no
      need_version=no
      shlibpath_overrides_runpath=no
      sys_lib_search_path_spec='/lib /usr/lib /usr/ccs/lib'
      ;;
  esac
  ;;

sysv4*MP*)
  if test -d /usr/nec ;then
    version_type=linux
    library_names_spec='$libname${shared_ext}.$versuffix $libname${shared_ext}.$major $libname${shared_ext}'
    soname_spec='$libname${shared_ext}.$major'
    shlibpath_var=LD_LIBRARY_PATH
  fi
  ;;

sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)
  version_type=freebsd-elf
  need_lib_prefix=no
  need_version=no
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext} $libname${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  shlibpath_var=LD_LIBRARY_PATH
  hardcode_into_libs=yes
  if test &quot;$with_gnu_ld&quot; = yes; then
    sys_lib_search_path_spec='/usr/local/lib /usr/gnu/lib /usr/ccs/lib /usr/lib /lib'
    shlibpath_overrides_runpath=no
  else
    sys_lib_search_path_spec='/usr/ccs/lib /usr/lib'
    shlibpath_overrides_runpath=yes
    case $host_os in
      sco3.2v5*)
        sys_lib_search_path_spec=&quot;$sys_lib_search_path_spec /lib&quot;
	;;
    esac
  fi
  sys_lib_dlsearch_path_spec='/usr/lib'
  ;;

uts4*)
  version_type=linux
  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
  soname_spec='${libname}${release}${shared_ext}$major'
  shlibpath_var=LD_LIBRARY_PATH
  ;;

*)
  dynamic_linker=no
  ;;
esac
AC_MSG_RESULT([$dynamic_linker])
test &quot;$dynamic_linker&quot; = no &amp;&amp; can_build_shared=no

variables_saved_for_relink=&quot;PATH $shlibpath_var $runpath_var&quot;
if test &quot;$GCC&quot; = yes; then
  variables_saved_for_relink=&quot;$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH&quot;
fi
])<span class="enscript-comment"># AC_LIBTOOL_SYS_DYNAMIC_LINKER
</span>

<span class="enscript-comment"># _LT_AC_TAGCONFIG
</span><span class="enscript-comment"># ----------------
</span>AC_DEFUN([_LT_AC_TAGCONFIG],
[AC_ARG_WITH([tags],
    [AC_HELP_STRING([--with-tags@&lt;:@=TAGS@:&gt;@],
        [<span class="enscript-keyword">include</span> additional configurations @&lt;:@automatic@:&gt;@])],
    [tagnames=&quot;$withval&quot;])

if test -f &quot;$ltmain&quot; &amp;&amp; test -n &quot;$tagnames&quot;; then
  if test ! -f &quot;${ofile}&quot;; then
    AC_MSG_WARN([output file `$ofile' does not exist])
  fi

  if test -z &quot;$LTCC&quot;; then
    <span class="enscript-keyword">eval</span> &quot;`$SHELL ${ofile} --config | grep '^LTCC='`&quot;
    if test -z &quot;$LTCC&quot;; then
      AC_MSG_WARN([output file `$ofile' does not look like a libtool script])
    else
      AC_MSG_WARN([using `LTCC=$LTCC', extracted from `$ofile'])
    fi
  fi
  if test -z &quot;$LTCFLAGS&quot;; then
    <span class="enscript-keyword">eval</span> &quot;`$SHELL ${ofile} --config | grep '^LTCFLAGS='`&quot;
  fi

  <span class="enscript-comment"># Extract list of available tagged configurations in $ofile.
</span>  <span class="enscript-comment"># Note that this assumes the entire list is on one line.
</span>  available_tags=`grep &quot;^available_tags=&quot; &quot;${ofile}&quot; | $SED -e 's/available_tags=\(.*$\)/\1/' -e 's/\&quot;//g'`

  lt_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}$PATH_SEPARATOR,&quot;
  for tagname in $tagnames; do
    IFS=&quot;$lt_save_ifs&quot;
    <span class="enscript-comment"># Check whether tagname contains only valid characters
</span>    case `$echo &quot;X$tagname&quot; | $Xsed -e 's:[[-_ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890,/]]::g'` in
    &quot;&quot;) ;;
    *)  AC_MSG_ERROR([invalid tag name: $tagname])
	;;
    esac

    if grep &quot;^<span class="enscript-comment"># ### BEGIN LIBTOOL TAG CONFIG: $tagname$&quot; &lt; &quot;${ofile}&quot; &gt; /dev/null
</span>    then
      AC_MSG_ERROR([tag name \&quot;$tagname\&quot; already exists])
    fi

    <span class="enscript-comment"># Update the list of available tags.
</span>    if test -n &quot;$tagname&quot;; then
      echo appending configuration tag \&quot;$tagname\&quot; to $ofile

      case $tagname in
      CXX)
	if test -n &quot;$CXX&quot; &amp;&amp; ( test &quot;X$CXX&quot; != &quot;Xno&quot; &amp;&amp;
	    ( (test &quot;X$CXX&quot; = &quot;Xg++&quot; &amp;&amp; `g++ -v &gt;/dev/null 2&gt;&amp;1` ) ||
	    (test &quot;X$CXX&quot; != &quot;Xg++&quot;))) ; then
	  AC_LIBTOOL_LANG_CXX_CONFIG
	else
	  tagname=&quot;&quot;
	fi
	;;

      F77)
	if test -n &quot;$F77&quot; &amp;&amp; test &quot;X$F77&quot; != &quot;Xno&quot;; then
	  AC_LIBTOOL_LANG_F77_CONFIG
	else
	  tagname=&quot;&quot;
	fi
	;;

      GCJ)
	if test -n &quot;$GCJ&quot; &amp;&amp; test &quot;X$GCJ&quot; != &quot;Xno&quot;; then
	  AC_LIBTOOL_LANG_GCJ_CONFIG
	else
	  tagname=&quot;&quot;
	fi
	;;

      RC)
	AC_LIBTOOL_LANG_RC_CONFIG
	;;

      *)
	AC_MSG_ERROR([Unsupported tag name: $tagname])
	;;
      esac

      <span class="enscript-comment"># Append the new tag name to the list of available tags.
</span>      if test -n &quot;$tagname&quot; ; then
      available_tags=&quot;$available_tags $tagname&quot;
    fi
    fi
  done
  IFS=&quot;$lt_save_ifs&quot;

  <span class="enscript-comment"># Now substitute the updated list of available tags.
</span>  if <span class="enscript-keyword">eval</span> &quot;sed -e 's/^available_tags=.*\$/available_tags=\&quot;$available_tags\&quot;/' \&quot;$ofile\&quot; &gt; \&quot;${ofile}T\&quot;&quot;; then
    mv &quot;${ofile}T&quot; &quot;$ofile&quot;
    chmod +x &quot;$ofile&quot;
  else
    rm -f &quot;${ofile}T&quot;
    AC_MSG_ERROR([unable to update list of available tagged configurations.])
  fi
fi
])<span class="enscript-comment"># _LT_AC_TAGCONFIG
</span>

<span class="enscript-comment"># AC_LIBTOOL_DLOPEN
</span><span class="enscript-comment"># -----------------
</span><span class="enscript-comment"># enable checks for dlopen support
</span>AC_DEFUN([AC_LIBTOOL_DLOPEN],
 [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])
])<span class="enscript-comment"># AC_LIBTOOL_DLOPEN
</span>

<span class="enscript-comment"># AC_LIBTOOL_WIN32_DLL
</span><span class="enscript-comment"># --------------------
</span><span class="enscript-comment"># declare package support for building win32 DLLs
</span>AC_DEFUN([AC_LIBTOOL_WIN32_DLL],
[AC_BEFORE([$0], [AC_LIBTOOL_SETUP])
])<span class="enscript-comment"># AC_LIBTOOL_WIN32_DLL
</span>

<span class="enscript-comment"># AC_ENABLE_SHARED([DEFAULT])
</span><span class="enscript-comment"># ---------------------------
</span><span class="enscript-comment"># implement the --enable-shared flag
</span><span class="enscript-comment"># DEFAULT is either `yes' or `no'.  If omitted, it defaults to `yes'.
</span>AC_DEFUN([AC_ENABLE_SHARED],
[<span class="enscript-keyword">define</span>([AC_ENABLE_SHARED_DEFAULT], <span class="enscript-keyword">ifelse</span>($1, no, no, yes))<span class="enscript-comment">dnl
</span>AC_ARG_ENABLE([shared],
    [AC_HELP_STRING([--enable-shared@&lt;:@=PKGS@:&gt;@],
	[build shared libraries @&lt;:@default=]AC_ENABLE_SHARED_DEFAULT[@:&gt;@])],
    [p=${PACKAGE-default}
    case $enableval in
    yes) enable_shared=yes ;;
    no) enable_shared=no ;;
    *)
      enable_shared=no
      <span class="enscript-comment"># Look at the argument we got.  We use all the common list separators.
</span>      lt_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}$PATH_SEPARATOR,&quot;
      for pkg in $enableval; do
	IFS=&quot;$lt_save_ifs&quot;
	if test &quot;X$pkg&quot; = &quot;X$p&quot;; then
	  enable_shared=yes
	fi
      done
      IFS=&quot;$lt_save_ifs&quot;
      ;;
    esac],
    [enable_shared=]AC_ENABLE_SHARED_DEFAULT)
])<span class="enscript-comment"># AC_ENABLE_SHARED
</span><span class="enscript-string">

# AC_DISABLE_SHARED
# -----------------
# set the default shared flag to --disable-shared
AC_DEFUN([AC_DISABLE_SHARED],
[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
AC_ENABLE_SHARED(no)
])# AC_DISABLE_SHARED


# AC_ENABLE_STATIC([DEFAULT])
# ---------------------------
# implement the --enable-static flag
# DEFAULT is either `yes'</span> or `no'.  If omitted, it defaults to `yes'.
AC_DEFUN([AC_ENABLE_STATIC],
[<span class="enscript-keyword">define</span>([AC_ENABLE_STATIC_DEFAULT], <span class="enscript-keyword">ifelse</span>($1, no, no, yes))<span class="enscript-comment">dnl
</span>AC_ARG_ENABLE([static],
    [AC_HELP_STRING([--enable-static@&lt;:@=PKGS@:&gt;@],
	[build static libraries @&lt;:@default=]AC_ENABLE_STATIC_DEFAULT[@:&gt;@])],
    [p=${PACKAGE-default}
    case $enableval in
    yes) enable_static=yes ;;
    no) enable_static=no ;;
    *)
     enable_static=no
      <span class="enscript-comment"># Look at the argument we got.  We use all the common list separators.
</span>      lt_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}$PATH_SEPARATOR,&quot;
      for pkg in $enableval; do
	IFS=&quot;$lt_save_ifs&quot;
	if test &quot;X$pkg&quot; = &quot;X$p&quot;; then
	  enable_static=yes
	fi
      done
      IFS=&quot;$lt_save_ifs&quot;
      ;;
    esac],
    [enable_static=]AC_ENABLE_STATIC_DEFAULT)
])<span class="enscript-comment"># AC_ENABLE_STATIC
</span>

<span class="enscript-comment"># AC_DISABLE_STATIC
</span><span class="enscript-comment"># -----------------
</span><span class="enscript-comment"># set the default static flag to --disable-static
</span>AC_DEFUN([AC_DISABLE_STATIC],
[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])<span class="enscript-comment">dnl
</span>AC_ENABLE_STATIC(no)
])<span class="enscript-comment"># AC_DISABLE_STATIC
</span>

<span class="enscript-comment"># AC_ENABLE_FAST_INSTALL([DEFAULT])
</span><span class="enscript-comment"># ---------------------------------
</span><span class="enscript-comment"># implement the --enable-fast-install flag
</span><span class="enscript-comment"># DEFAULT is either `yes' or `no'.  If omitted, it defaults to `yes'.
</span>AC_DEFUN([AC_ENABLE_FAST_INSTALL],
[<span class="enscript-keyword">define</span>([AC_ENABLE_FAST_INSTALL_DEFAULT], <span class="enscript-keyword">ifelse</span>($1, no, no, yes))<span class="enscript-comment">dnl
</span>AC_ARG_ENABLE([fast-install],
    [AC_HELP_STRING([--enable-fast-install@&lt;:@=PKGS@:&gt;@],
    [optimize for fast installation @&lt;:@default=]AC_ENABLE_FAST_INSTALL_DEFAULT[@:&gt;@])],
    [p=${PACKAGE-default}
    case $enableval in
    yes) enable_fast_install=yes ;;
    no) enable_fast_install=no ;;
    *)
      enable_fast_install=no
      <span class="enscript-comment"># Look at the argument we got.  We use all the common list separators.
</span>      lt_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}$PATH_SEPARATOR,&quot;
      for pkg in $enableval; do
	IFS=&quot;$lt_save_ifs&quot;
	if test &quot;X$pkg&quot; = &quot;X$p&quot;; then
	  enable_fast_install=yes
	fi
      done
      IFS=&quot;$lt_save_ifs&quot;
      ;;
    esac],
    [enable_fast_install=]AC_ENABLE_FAST_INSTALL_DEFAULT)
])<span class="enscript-comment"># AC_ENABLE_FAST_INSTALL
</span>

<span class="enscript-comment"># AC_DISABLE_FAST_INSTALL
</span><span class="enscript-comment"># -----------------------
</span><span class="enscript-comment"># set the default to --disable-fast-install
</span>AC_DEFUN([AC_DISABLE_FAST_INSTALL],
[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])<span class="enscript-comment">dnl
</span>AC_ENABLE_FAST_INSTALL(no)
])<span class="enscript-comment"># AC_DISABLE_FAST_INSTALL
</span>

<span class="enscript-comment"># AC_LIBTOOL_PICMODE([MODE])
</span><span class="enscript-comment"># --------------------------
</span><span class="enscript-comment"># implement the --with-pic flag
</span><span class="enscript-comment"># MODE is either `yes' or `no'.  If omitted, it defaults to `both'.
</span>AC_DEFUN([AC_LIBTOOL_PICMODE],
[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])<span class="enscript-comment">dnl
</span>pic_mode=<span class="enscript-keyword">ifelse</span>($<span class="enscript-comment">#,1,$1,default)
</span>])<span class="enscript-comment"># AC_LIBTOOL_PICMODE
</span>

<span class="enscript-comment"># AC_PROG_EGREP
</span><span class="enscript-comment"># -------------
</span><span class="enscript-comment"># This is predefined starting with Autoconf 2.54, so this conditional
</span><span class="enscript-comment"># definition can be removed once we require Autoconf 2.54 or later.
</span>m4_ifndef([AC_PROG_EGREP], [AC_DEFUN([AC_PROG_EGREP],
[AC_CACHE_CHECK([for egrep], [ac_cv_prog_egrep],
   [if echo a | (grep -E '(a|b)') &gt;/dev/null 2&gt;&amp;1
    then ac_cv_prog_egrep='grep -E'
    else ac_cv_prog_egrep='egrep'
    fi])
 EGREP=$ac_cv_prog_egrep
 AC_SUBST([EGREP])
])])


<span class="enscript-comment"># AC_PATH_TOOL_PREFIX
</span><span class="enscript-comment"># -------------------
</span><span class="enscript-comment"># find a file program which can recognise shared library
</span>AC_DEFUN([AC_PATH_TOOL_PREFIX],
[AC_REQUIRE([AC_PROG_EGREP])<span class="enscript-comment">dnl
</span>AC_MSG_CHECKING([for $1])
AC_CACHE_VAL(lt_cv_path_MAGIC_CMD,
[case $MAGIC_CMD in
[[\\/*] |  ?:[\\/]*])
  lt_cv_path_MAGIC_CMD=&quot;$MAGIC_CMD&quot; <span class="enscript-comment"># Let the user override the test with a path.
</span>  ;;
*)
  lt_save_MAGIC_CMD=&quot;$MAGIC_CMD&quot;
  lt_save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
<span class="enscript-comment">dnl $ac_dummy forces splitting on constant user-supplied paths.
</span><span class="enscript-comment">dnl POSIX.2 word splitting is done only on the output of word expansions,
</span><span class="enscript-comment">dnl not every word.  This closes a longstanding sh security hole.
</span>  ac_dummy=&quot;<span class="enscript-keyword">ifelse</span>([$2], , $PATH, [$2])&quot;
  for ac_dir in $ac_dummy; do
    IFS=&quot;$lt_save_ifs&quot;
    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
    if test -f $ac_dir/$1; then
      lt_cv_path_MAGIC_CMD=&quot;$ac_dir/$1&quot;
      if test -n &quot;$file_magic_test_file&quot;; then
	case $deplibs_check_method in
	&quot;file_magic &quot;*)
	  file_magic_regex=`expr &quot;$deplibs_check_method&quot; : &quot;file_magic \(.*\)&quot;`
	  MAGIC_CMD=&quot;$lt_cv_path_MAGIC_CMD&quot;
	  if <span class="enscript-keyword">eval</span> $file_magic_cmd \$file_magic_test_file 2&gt; /dev/null |
	    $EGREP &quot;$file_magic_regex&quot; &gt; /dev/null; then
	    :
	  else
	    cat &lt;&lt;EOF 1&gt;&amp;2

*** Warning: the command libtool uses to detect shared libraries,
*** $file_magic_cmd, produces output that libtool cannot recognize.
*** The result is that libtool may fail to recognize shared libraries
*** as such.  This will affect the creation of libtool libraries that
*** depend on shared libraries, but programs linked with such libtool
*** libraries will work regardless of this problem.  Nevertheless, you
*** may want to report the problem to your system manager and/or to
*** <a href="mailto:bug-libtool@gnu.org">bug-libtool@gnu.org</a>

EOF
	  fi ;;
	esac
      fi
      break
    fi
  done
  IFS=&quot;$lt_save_ifs&quot;
  MAGIC_CMD=&quot;$lt_save_MAGIC_CMD&quot;
  ;;
esac])
MAGIC_CMD=&quot;$lt_cv_path_MAGIC_CMD&quot;
if test -n &quot;$MAGIC_CMD&quot;; then
  AC_MSG_RESULT($MAGIC_CMD)
else
  AC_MSG_RESULT(no)
fi
])<span class="enscript-comment"># AC_PATH_TOOL_PREFIX
</span>

<span class="enscript-comment"># AC_PATH_MAGIC
</span><span class="enscript-comment"># -------------
</span><span class="enscript-comment"># find a file program which can recognise a shared library
</span>AC_DEFUN([AC_PATH_MAGIC],
[AC_PATH_TOOL_PREFIX(${ac_tool_prefix}file, /usr/bin$PATH_SEPARATOR$PATH)
if test -z &quot;$lt_cv_path_MAGIC_CMD&quot;; then
  if test -n &quot;$ac_tool_prefix&quot;; then
    AC_PATH_TOOL_PREFIX(file, /usr/bin$PATH_SEPARATOR$PATH)
  else
    MAGIC_CMD=:
  fi
fi
])<span class="enscript-comment"># AC_PATH_MAGIC
</span>

<span class="enscript-comment"># AC_PROG_LD
</span><span class="enscript-comment"># ----------
</span><span class="enscript-comment"># find the pathname to the GNU or non-GNU linker
</span>AC_DEFUN([AC_PROG_LD],
[AC_ARG_WITH([gnu-ld],
    [AC_HELP_STRING([--with-gnu-ld],
	[assume the C compiler uses GNU ld @&lt;:@default=no@:&gt;@])],
    [test &quot;$withval&quot; = no || with_gnu_ld=yes],
    [with_gnu_ld=no])
AC_REQUIRE([LT_AC_PROG_SED])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_PROG_CC])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_CANONICAL_HOST])<span class="enscript-comment">dnl
</span>AC_REQUIRE([AC_CANONICAL_BUILD])<span class="enscript-comment">dnl
</span>ac_prog=ld
if test &quot;$GCC&quot; = yes; then
  <span class="enscript-comment"># Check if gcc -print-prog-name=ld gives a path.
</span>  AC_MSG_CHECKING([for ld used by $CC])
  case $host in
  *-*-mingw*)
    <span class="enscript-comment"># gcc leaves a trailing carriage return which upsets mingw
</span>    ac_prog=`($CC -print-prog-name=ld) 2&gt;&amp;5 | tr -d '\015'` ;;
  *)
    ac_prog=`($CC -print-prog-name=ld) 2&gt;&amp;5` ;;
  esac
  case $ac_prog in
    <span class="enscript-comment"># Accept absolute paths.
</span>    [[\\/]]* | ?:[[\\/]]*)
      re_direlt='/[[^/]][[^/]]*/\.\./'
      <span class="enscript-comment"># Canonicalize the pathname of ld
</span>      ac_prog=`echo $ac_prog| $SED 's%\\\\%/%g'`
      while echo $ac_prog | grep &quot;$re_direlt&quot; &gt; /dev/null 2&gt;&amp;1; do
	ac_prog=`echo $ac_prog| $SED &quot;s%$re_direlt%/%&quot;`
      done
      test -z &quot;$LD&quot; &amp;&amp; LD=&quot;$ac_prog&quot;
      ;;
  &quot;&quot;)
    <span class="enscript-comment"># If it fails, then pretend we aren't using GCC.
</span>    ac_prog=ld
    ;;
  *)
    <span class="enscript-comment"># If it is relative, then search for the first ld in PATH.
</span>    with_gnu_ld=unknown
    ;;
  esac
elif test &quot;$with_gnu_ld&quot; = yes; then
  AC_MSG_CHECKING([for GNU ld])
else
  AC_MSG_CHECKING([for non-GNU ld])
fi
AC_CACHE_VAL(lt_cv_path_LD,
[if test -z &quot;$LD&quot;; then
  lt_save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
  for ac_dir in $PATH; do
    IFS=&quot;$lt_save_ifs&quot;
    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
    if test -f &quot;$ac_dir/$ac_prog&quot; || test -f &quot;$ac_dir/$ac_prog$ac_exeext&quot;; then
      lt_cv_path_LD=&quot;$ac_dir/$ac_prog&quot;
      <span class="enscript-comment"># Check to see if the program is GNU ld.  I'd rather use --version,
</span>      <span class="enscript-comment"># but apparently some variants of GNU ld only accept -v.
</span>      <span class="enscript-comment"># Break only if it was the GNU/non-GNU ld that we prefer.
</span>      case `&quot;$lt_cv_path_LD&quot; -v 2&gt;&amp;1 &lt;/dev/null` in
      *GNU* | *'with BFD'*)
	test &quot;$with_gnu_ld&quot; != no &amp;&amp; break
	;;
      *)
	test &quot;$with_gnu_ld&quot; != yes &amp;&amp; break
	;;
      esac
    fi
  done
  IFS=&quot;$lt_save_ifs&quot;
else
  lt_cv_path_LD=&quot;$LD&quot; <span class="enscript-comment"># Let the user override the test with a path.
</span>fi])
LD=&quot;$lt_cv_path_LD&quot;
if test -n &quot;$LD&quot;; then
  AC_MSG_RESULT($LD)
else
  AC_MSG_RESULT(no)
fi
test -z &quot;$LD&quot; &amp;&amp; AC_MSG_ERROR([no acceptable ld found in \$PATH])
AC_PROG_LD_GNU
])<span class="enscript-comment"># AC_PROG_LD
</span>

<span class="enscript-comment"># AC_PROG_LD_GNU
</span><span class="enscript-comment"># --------------
</span>AC_DEFUN([AC_PROG_LD_GNU],
[AC_REQUIRE([AC_PROG_EGREP])<span class="enscript-comment">dnl
</span>AC_CACHE_CHECK([if the linker ($LD) is GNU ld], lt_cv_prog_gnu_ld,
[<span class="enscript-comment"># I'd rather use --version here, but apparently some GNU lds only accept -v.
</span>case `$LD -v 2&gt;&amp;1 &lt;/dev/null` in
*GNU* | *'with BFD'*)
  lt_cv_prog_gnu_ld=yes
  ;;
*)
  lt_cv_prog_gnu_ld=no
  ;;
esac])
with_gnu_ld=$lt_cv_prog_gnu_ld
])<span class="enscript-comment"># AC_PROG_LD_GNU
</span>

<span class="enscript-comment"># AC_PROG_LD_RELOAD_FLAG
</span><span class="enscript-comment"># ----------------------
</span><span class="enscript-comment"># find reload flag for linker
</span><span class="enscript-comment">#   -- PORTME Some linkers may need a different reload flag.
</span>AC_DEFUN([AC_PROG_LD_RELOAD_FLAG],
[AC_CACHE_CHECK([for $LD option to reload object files],
  lt_cv_ld_reload_flag,
  [lt_cv_ld_reload_flag='-r'])
reload_flag=$lt_cv_ld_reload_flag
case $reload_flag in
&quot;&quot; | &quot; &quot;*) ;;
*) reload_flag=&quot; $reload_flag&quot; ;;
esac
reload_cmds='$LD$reload_flag -o $output$reload_objs'
case $host_os in
  darwin*)
    if test &quot;$GCC&quot; = yes; then
      reload_cmds='$LTCC $LTCFLAGS -nostdlib ${wl}-r -o $output$reload_objs'
    else
      reload_cmds='$LD$reload_flag -o $output$reload_objs'
    fi
    ;;
esac
])<span class="enscript-comment"># AC_PROG_LD_RELOAD_FLAG
</span>

<span class="enscript-comment"># AC_DEPLIBS_CHECK_METHOD
</span><span class="enscript-comment"># -----------------------
</span><span class="enscript-comment"># how to check for library dependencies
</span><span class="enscript-comment">#  -- PORTME fill in with the dynamic library characteristics
</span>AC_DEFUN([AC_DEPLIBS_CHECK_METHOD],
[AC_CACHE_CHECK([how to recognise dependent libraries],
lt_cv_deplibs_check_method,
[lt_cv_file_magic_cmd='$MAGIC_CMD'
lt_cv_file_magic_test_file=
lt_cv_deplibs_check_method='unknown'
<span class="enscript-comment"># Need to set the preceding variable on all platforms that support
</span><span class="enscript-comment"># interlibrary dependencies.
</span><span class="enscript-comment"># 'none' -- dependencies not supported.
</span><span class="enscript-comment"># `unknown' -- same as none, but documents that we really don't know.
</span><span class="enscript-comment"># 'pass_all' -- all dependencies passed with no checks.
</span><span class="enscript-comment"># 'test_compile' -- check by making test program.
</span><span class="enscript-comment"># 'file_magic [[regex]]' -- check by looking for files in library path
</span><span class="enscript-comment"># which responds to the $file_magic_cmd with a given extended regex.
</span><span class="enscript-comment"># If you have `file' or equivalent on your system and you're not sure
</span><span class="enscript-comment"># whether `pass_all' will *always* work, you probably want this one.
</span>
case $host_os in
aix4* | aix5*)
  lt_cv_deplibs_check_method=pass_all
  ;;

beos*)
  lt_cv_deplibs_check_method=pass_all
  ;;

bsdi[[45]]*)
  lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib)'
  lt_cv_file_magic_cmd='/usr/bin/file -L'
  lt_cv_file_magic_test_file=/shlib/libc.so
  ;;

cygwin*)
  <span class="enscript-comment"># func_win32_libid is a shell function defined in ltmain.sh
</span>  lt_cv_deplibs_check_method='file_magic ^x86 archive import|^x86 DLL'
  lt_cv_file_magic_cmd='func_win32_libid'
  ;;

mingw* | pw32*)
  <span class="enscript-comment"># Base MSYS/MinGW do not provide the 'file' command needed by
</span>  <span class="enscript-comment"># func_win32_libid shell function, so use a weaker test based on 'objdump'.
</span>  lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'
  lt_cv_file_magic_cmd='$OBJDUMP -f'
  ;;

darwin* | rhapsody*)
  lt_cv_deplibs_check_method=pass_all
  ;;

freebsd* | kfreebsd*-gnu | dragonfly*)
  if echo __ELF__ | $CC -E - | grep __ELF__ &gt; /dev/null; then
    case $host_cpu in
    i*86 )
      <span class="enscript-comment"># Not sure whether the presence of OpenBSD here was a mistake.
</span>      <span class="enscript-comment"># Let's accept both of them until this is cleared up.
</span>      lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD|DragonFly)/i[[3-9]]86 (compact )?demand paged shared library'
      lt_cv_file_magic_cmd=/usr/bin/file
      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
      ;;
    esac
  else
    lt_cv_deplibs_check_method=pass_all
  fi
  ;;

gnu*)
  lt_cv_deplibs_check_method=pass_all
  ;;

hpux10.20* | hpux11*)
  lt_cv_file_magic_cmd=/usr/bin/file
  case $host_cpu in
  ia64*)
    lt_cv_deplibs_check_method='file_magic (s[[0-9]][[0-9]][[0-9]]|ELF-[[0-9]][[0-9]]) shared object file - IA64'
    lt_cv_file_magic_test_file=/usr/lib/hpux32/libc.so
    ;;
  hppa*64*)
    [lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|ELF-[0-9][0-9]) shared object file - PA-RISC [0-9].[0-9]']
    lt_cv_file_magic_test_file=/usr/lib/pa20_64/libc.sl
    ;;
  *)
    lt_cv_deplibs_check_method='file_magic (s[[0-9]][[0-9]][[0-9]]|PA-RISC[[0-9]].[[0-9]]) shared library'
    lt_cv_file_magic_test_file=/usr/lib/libc.sl
    ;;
  esac
  ;;

interix3*)
  <span class="enscript-comment"># PIC code is broken on Interix 3.x, that's why |\.a not |_pic\.a here
</span>  lt_cv_deplibs_check_method='match_pattern /lib[[^/]]+(\.so|\.a)$'
  ;;

irix5* | irix6* | nonstopux*)
  case $LD in
  *-32|*&quot;-32 &quot;) libmagic=32-bit;;
  *-n32|*&quot;-n32 &quot;) libmagic=N32;;
  *-64|*&quot;-64 &quot;) libmagic=64-bit;;
  *) libmagic=never-match;;
  esac
  lt_cv_deplibs_check_method=pass_all
  ;;

<span class="enscript-comment"># This must be Linux ELF.
</span>linux*)
  lt_cv_deplibs_check_method=pass_all
  ;;

netbsd*)
  if echo __ELF__ | $CC -E - | grep __ELF__ &gt; /dev/null; then
    lt_cv_deplibs_check_method='match_pattern /lib[[^/]]+(\.so\.[[0-9]]+\.[[0-9]]+|_pic\.a)$'
  else
    lt_cv_deplibs_check_method='match_pattern /lib[[^/]]+(\.so|_pic\.a)$'
  fi
  ;;

newos6*)
  lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (executable|dynamic lib)'
  lt_cv_file_magic_cmd=/usr/bin/file
  lt_cv_file_magic_test_file=/usr/lib/libnls.so
  ;;

nto-qnx*)
  lt_cv_deplibs_check_method=unknown
  ;;

openbsd*)
  if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
    lt_cv_deplibs_check_method='match_pattern /lib[[^/]]+(\.so\.[[0-9]]+\.[[0-9]]+|\.so|_pic\.a)$'
  else
    lt_cv_deplibs_check_method='match_pattern /lib[[^/]]+(\.so\.[[0-9]]+\.[[0-9]]+|_pic\.a)$'
  fi
  ;;

osf3* | osf4* | osf5*)
  lt_cv_deplibs_check_method=pass_all
  ;;

solaris*)
  lt_cv_deplibs_check_method=pass_all
  ;;

sysv4 | sysv4.3*)
  case $host_vendor in
  motorola)
    lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib) M[[0-9]][[0-9]]* Version [[0-9]]'
    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`
    ;;
  ncr)
    lt_cv_deplibs_check_method=pass_all
    ;;
  sequent)
    lt_cv_file_magic_cmd='/bin/file'
    lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB (shared object|dynamic lib )'
    ;;
  sni)
    lt_cv_file_magic_cmd='/bin/file'
    lt_cv_deplibs_check_method=&quot;file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB dynamic lib&quot;
    lt_cv_file_magic_test_file=/lib/libc.so
    ;;
  siemens)
    lt_cv_deplibs_check_method=pass_all
    ;;
  pc)
    lt_cv_deplibs_check_method=pass_all
    ;;
  esac
  ;;

sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)
  lt_cv_deplibs_check_method=pass_all
  ;;
esac
])
file_magic_cmd=$lt_cv_file_magic_cmd
deplibs_check_method=$lt_cv_deplibs_check_method
test -z &quot;$deplibs_check_method&quot; &amp;&amp; deplibs_check_method=unknown
])<span class="enscript-comment"># AC_DEPLIBS_CHECK_METHOD
</span>

<span class="enscript-comment"># AC_PROG_NM
</span><span class="enscript-comment"># ----------
</span><span class="enscript-comment"># find the pathname to a BSD-compatible name lister
</span>AC_DEFUN([AC_PROG_NM],
[AC_CACHE_CHECK([for BSD-compatible nm], lt_cv_path_NM,
[if test -n &quot;$NM&quot;; then
  <span class="enscript-comment"># Let the user override the test.
</span>  lt_cv_path_NM=&quot;$NM&quot;
else
  lt_nm_to_check=&quot;${ac_tool_prefix}nm&quot;
  if test -n &quot;$ac_tool_prefix&quot; &amp;&amp; test &quot;$build&quot; = &quot;$host&quot;; then 
    lt_nm_to_check=&quot;$lt_nm_to_check nm&quot;
  fi
  for lt_tmp_nm in $lt_nm_to_check; do
    lt_save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
    for ac_dir in $PATH /usr/ccs/bin/elf /usr/ccs/bin /usr/ucb /bin; do
      IFS=&quot;$lt_save_ifs&quot;
      test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
      tmp_nm=&quot;$ac_dir/$lt_tmp_nm&quot;
      if test -f &quot;$tmp_nm&quot; || test -f &quot;$tmp_nm$ac_exeext&quot; ; then
	<span class="enscript-comment"># Check to see if the nm accepts a BSD-compat flag.
</span>	<span class="enscript-comment"># Adding the `sed 1q' prevents false positives on HP-UX, which says:
</span>	<span class="enscript-comment">#   nm: unknown option &quot;B&quot; ignored
</span>	<span class="enscript-comment"># Tru64's nm complains that /dev/null is an invalid object file
</span>	case `&quot;$tmp_nm&quot; -B /dev/null 2&gt;&amp;1 | sed '1q'` in
	*/dev/null* | *'Invalid file or object type'*)
	  lt_cv_path_NM=&quot;$tmp_nm -B&quot;
	  break
	  ;;
	*)
	  case `&quot;$tmp_nm&quot; -p /dev/null 2&gt;&amp;1 | sed '1q'` in
	  */dev/null*)
	    lt_cv_path_NM=&quot;$tmp_nm -p&quot;
	    break
	    ;;
	  *)
	    lt_cv_path_NM=${lt_cv_path_NM=&quot;$tmp_nm&quot;} <span class="enscript-comment"># keep the first match, but
</span>	    continue <span class="enscript-comment"># so that we can try to find one that supports BSD flags
</span>	    ;;
	  esac
	  ;;
	esac
      fi
    done
    IFS=&quot;$lt_save_ifs&quot;
  done
  test -z &quot;$lt_cv_path_NM&quot; &amp;&amp; lt_cv_path_NM=nm
fi])
NM=&quot;$lt_cv_path_NM&quot;
])<span class="enscript-comment"># AC_PROG_NM
</span>

<span class="enscript-comment"># AC_CHECK_LIBM
</span><span class="enscript-comment"># -------------
</span><span class="enscript-comment"># check for math library
</span>AC_DEFUN([AC_CHECK_LIBM],
[AC_REQUIRE([AC_CANONICAL_HOST])<span class="enscript-comment">dnl
</span>LIBM=
case $host in
*-*-beos* | *-*-cygwin* | *-*-pw32* | *-*-darwin*)
  <span class="enscript-comment"># These system don't have libm, or don't need it
</span>  ;;
*-ncr-sysv4.3*)
  AC_CHECK_LIB(mw, _mwvalidcheckl, LIBM=&quot;-lmw&quot;)
  AC_CHECK_LIB(m, cos, LIBM=&quot;$LIBM -lm&quot;)
  ;;
*)
  AC_CHECK_LIB(m, cos, LIBM=&quot;-lm&quot;)
  ;;
esac
])<span class="enscript-comment"># AC_CHECK_LIBM
</span>

<span class="enscript-comment"># AC_LIBLTDL_CONVENIENCE([DIRECTORY])
</span><span class="enscript-comment"># -----------------------------------
</span><span class="enscript-comment"># sets LIBLTDL to the link flags for the libltdl convenience library and
</span><span class="enscript-comment"># LTDLINCL to the include flags for the libltdl header and adds
</span><span class="enscript-comment"># --enable-ltdl-convenience to the configure arguments.  Note that
</span><span class="enscript-comment"># AC_CONFIG_SUBDIRS is not called here.  If DIRECTORY is not provided,
</span><span class="enscript-comment"># it is assumed to be `libltdl'.  LIBLTDL will be prefixed with
</span><span class="enscript-comment"># '${top_builddir}/' and LTDLINCL will be prefixed with '${top_srcdir}/'
</span><span class="enscript-comment"># (note the single quotes!).  If your package is not flat and you're not
</span><span class="enscript-comment"># using automake, define top_builddir and top_srcdir appropriately in
</span><span class="enscript-comment"># the Makefiles.
</span>AC_DEFUN([AC_LIBLTDL_CONVENIENCE],
[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])<span class="enscript-comment">dnl
</span>  case $enable_ltdl_convenience in
  no) AC_MSG_ERROR([this package needs a convenience libltdl]) ;;
  &quot;&quot;) enable_ltdl_convenience=yes
      ac_configure_args=&quot;$ac_configure_args --enable-ltdl-convenience&quot; ;;
  esac
  LIBLTDL='${top_builddir}/'<span class="enscript-keyword">ifelse</span>($<span class="enscript-comment">#,1,[$1],['libltdl'])/libltdlc.la
</span>  LTDLINCL='-I${top_srcdir}/'<span class="enscript-keyword">ifelse</span>($<span class="enscript-comment">#,1,[$1],['libltdl'])
</span>  <span class="enscript-comment"># For backwards non-gettext consistent compatibility...
</span>  INCLTDL=&quot;$LTDLINCL&quot;
])<span class="enscript-comment"># AC_LIBLTDL_CONVENIENCE
</span>

<span class="enscript-comment"># AC_LIBLTDL_INSTALLABLE([DIRECTORY])
</span><span class="enscript-comment"># -----------------------------------
</span><span class="enscript-comment"># sets LIBLTDL to the link flags for the libltdl installable library and
</span><span class="enscript-comment"># LTDLINCL to the include flags for the libltdl header and adds
</span><span class="enscript-comment"># --enable-ltdl-install to the configure arguments.  Note that
</span><span class="enscript-comment"># AC_CONFIG_SUBDIRS is not called here.  If DIRECTORY is not provided,
</span><span class="enscript-comment"># and an installed libltdl is not found, it is assumed to be `libltdl'.
</span><span class="enscript-comment"># LIBLTDL will be prefixed with '${top_builddir}/'# and LTDLINCL with
</span><span class="enscript-comment"># '${top_srcdir}/' (note the single quotes!).  If your package is not
</span><span class="enscript-comment"># flat and you're not using automake, define top_builddir and top_srcdir
</span><span class="enscript-comment"># appropriately in the Makefiles.
</span><span class="enscript-comment"># In the future, this macro may have to be called after AC_PROG_LIBTOOL.
</span>AC_DEFUN([AC_LIBLTDL_INSTALLABLE],
[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])<span class="enscript-comment">dnl
</span>  AC_CHECK_LIB(ltdl, lt_dlinit,
  [test x&quot;$enable_ltdl_install&quot; != xyes &amp;&amp; enable_ltdl_install=no],
  [if test x&quot;$enable_ltdl_install&quot; = xno; then
     AC_MSG_WARN([libltdl not installed, but installation disabled])
   else
     enable_ltdl_install=yes
   fi
  ])
  if test x&quot;$enable_ltdl_install&quot; = x&quot;yes&quot;; then
    ac_configure_args=&quot;$ac_configure_args --enable-ltdl-install&quot;
    LIBLTDL='${top_builddir}/'<span class="enscript-keyword">ifelse</span>($<span class="enscript-comment">#,1,[$1],['libltdl'])/libltdl.la
</span>    LTDLINCL='-I${top_srcdir}/'<span class="enscript-keyword">ifelse</span>($<span class="enscript-comment">#,1,[$1],['libltdl'])
</span>  else
    ac_configure_args=&quot;$ac_configure_args --enable-ltdl-install=no&quot;
    LIBLTDL=&quot;-lltdl&quot;
    LTDLINCL=
  fi
  <span class="enscript-comment"># For backwards non-gettext consistent compatibility...
</span>  INCLTDL=&quot;$LTDLINCL&quot;
])<span class="enscript-comment"># AC_LIBLTDL_INSTALLABLE
</span>

<span class="enscript-comment"># AC_LIBTOOL_CXX
</span><span class="enscript-comment"># --------------
</span><span class="enscript-comment"># enable support for C++ libraries
</span>AC_DEFUN([AC_LIBTOOL_CXX],
[AC_REQUIRE([_LT_AC_LANG_CXX])
])<span class="enscript-comment"># AC_LIBTOOL_CXX
</span>

<span class="enscript-comment"># _LT_AC_LANG_CXX
</span><span class="enscript-comment"># ---------------
</span>AC_DEFUN([_LT_AC_LANG_CXX],
[AC_REQUIRE([AC_PROG_CXX])
AC_REQUIRE([_LT_AC_PROG_CXXCPP])
_LT_AC_SHELL_INIT([tagnames=${tagnames+${tagnames},}CXX])
])<span class="enscript-comment"># _LT_AC_LANG_CXX
</span>
<span class="enscript-comment"># _LT_AC_PROG_CXXCPP
</span><span class="enscript-comment"># ------------------
</span>AC_DEFUN([_LT_AC_PROG_CXXCPP],
[
AC_REQUIRE([AC_PROG_CXX])
if test -n &quot;$CXX&quot; &amp;&amp; ( test &quot;X$CXX&quot; != &quot;Xno&quot; &amp;&amp;
    ( (test &quot;X$CXX&quot; = &quot;Xg++&quot; &amp;&amp; `g++ -v &gt;/dev/null 2&gt;&amp;1` ) ||
    (test &quot;X$CXX&quot; != &quot;Xg++&quot;))) ; then
  AC_PROG_CXXCPP
fi
])<span class="enscript-comment"># _LT_AC_PROG_CXXCPP
</span>
<span class="enscript-comment"># AC_LIBTOOL_F77
</span><span class="enscript-comment"># --------------
</span><span class="enscript-comment"># enable support for Fortran 77 libraries
</span>AC_DEFUN([AC_LIBTOOL_F77],
[AC_REQUIRE([_LT_AC_LANG_F77])
])<span class="enscript-comment"># AC_LIBTOOL_F77
</span>

<span class="enscript-comment"># _LT_AC_LANG_F77
</span><span class="enscript-comment"># ---------------
</span>AC_DEFUN([_LT_AC_LANG_F77],
[AC_REQUIRE([AC_PROG_F77])
_LT_AC_SHELL_INIT([tagnames=${tagnames+${tagnames},}F77])
])<span class="enscript-comment"># _LT_AC_LANG_F77
</span>

<span class="enscript-comment"># AC_LIBTOOL_GCJ
</span><span class="enscript-comment"># --------------
</span><span class="enscript-comment"># enable support for GCJ libraries
</span><span class="enscript-string">AC_DEFUN([AC_LIBTOOL_GCJ],
[AC_REQUIRE([_LT_AC_LANG_GCJ])
])# AC_LIBTOOL_GCJ


# _LT_AC_LANG_GCJ
# ---------------
AC_DEFUN([_LT_AC_LANG_GCJ],
[AC_PROVIDE_IFELSE([AC_PROG_GCJ],[],
  [AC_PROVIDE_IFELSE([A][M_PROG_GCJ],[],
    [AC_PROVIDE_IFELSE([LT_AC_PROG_GCJ],[],
      [ifdef([AC_PROG_GCJ],[AC_REQUIRE([AC_PROG_GCJ])],
	 [ifdef([A][M_PROG_GCJ],[AC_REQUIRE([A][M_PROG_GCJ])],
	   [AC_REQUIRE([A][C_PROG_GCJ_OR_A][M_PROG_GCJ])])])])])])
_LT_AC_SHELL_INIT([tagnames=${tagnames+${tagnames},}GCJ])
])# _LT_AC_LANG_GCJ


# AC_LIBTOOL_RC
# -------------
# enable support for Windows resource files
AC_DEFUN([AC_LIBTOOL_RC],
[AC_REQUIRE([LT_AC_PROG_RC])
_LT_AC_SHELL_INIT([tagnames=${tagnames+${tagnames},}RC])
])# AC_LIBTOOL_RC


# AC_LIBTOOL_LANG_C_CONFIG
# ------------------------
# Ensure that the configuration vars for the C compiler are
# suitably defined.  Those variables are subsequently used by
# AC_LIBTOOL_CONFIG to write the compiler configuration to `libtool'</span>.
AC_DEFUN([AC_LIBTOOL_LANG_C_CONFIG], [_LT_AC_LANG_C_CONFIG])
AC_DEFUN([_LT_AC_LANG_C_CONFIG],
[lt_save_CC=&quot;$CC&quot;
AC_LANG_PUSH(C)

<span class="enscript-comment"># Source file extension for C test sources.
</span>ac_ext=c

<span class="enscript-comment"># Object file extension for compiled C test sources.
</span>objext=o
_LT_AC_TAGVAR(objext, $1)=$objext

<span class="enscript-comment"># Code to be used in simple compile tests
</span>lt_simple_compile_test_code=&quot;int some_variable = 0;\n&quot;

<span class="enscript-comment"># Code to be used in simple link tests
</span>lt_simple_link_test_code='int main(){return(0);}\n'

_LT_AC_SYS_COMPILER

<span class="enscript-comment"># save warnings/boilerplate of simple test code
</span>_LT_COMPILER_BOILERPLATE
_LT_LINKER_BOILERPLATE

<span class="enscript-comment">## CAVEAT EMPTOR:
</span><span class="enscript-comment">## There is no encapsulation within the following macros, do not change
</span><span class="enscript-comment">## the running order or otherwise move them around unless you know exactly
</span><span class="enscript-comment">## what you are doing...
</span>AC_LIBTOOL_PROG_COMPILER_NO_RTTI($1)
AC_LIBTOOL_PROG_COMPILER_PIC($1)
AC_LIBTOOL_PROG_CC_C_O($1)
AC_LIBTOOL_SYS_HARD_LINK_LOCKS($1)
AC_LIBTOOL_PROG_LD_SHLIBS($1)
AC_LIBTOOL_SYS_DYNAMIC_LINKER($1)
AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH($1)
AC_LIBTOOL_SYS_LIB_STRIP
AC_LIBTOOL_DLOPEN_SELF

<span class="enscript-comment"># Report which library types will actually be built
</span>AC_MSG_CHECKING([if libtool supports shared libraries])
AC_MSG_RESULT([$can_build_shared])

AC_MSG_CHECKING([whether to build shared libraries])
test &quot;$can_build_shared&quot; = &quot;no&quot; &amp;&amp; enable_shared=no

<span class="enscript-comment"># On AIX, shared libraries and static libraries use the same namespace, and
</span><span class="enscript-comment"># are all built from PIC.
</span>case $host_os in
aix3*)
  test &quot;$enable_shared&quot; = yes &amp;&amp; enable_static=no
  if test -n &quot;$RANLIB&quot;; then
    archive_cmds=&quot;$archive_cmds~\$RANLIB \$lib&quot;
    postinstall_cmds='$RANLIB $lib'
  fi
  ;;

aix4* | aix5*)
  if test &quot;$host_cpu&quot; != ia64 &amp;&amp; test &quot;$aix_use_runtimelinking&quot; = no ; then
    test &quot;$enable_shared&quot; = yes &amp;&amp; enable_static=no
  fi
    ;;
esac
AC_MSG_RESULT([$enable_shared])

AC_MSG_CHECKING([whether to build static libraries])
<span class="enscript-comment"># Make sure either enable_shared or enable_static is yes.
</span>test &quot;$enable_shared&quot; = yes || enable_static=yes
AC_MSG_RESULT([$enable_static])

AC_LIBTOOL_CONFIG($1)

AC_LANG_POP
CC=&quot;$lt_save_CC&quot;
])<span class="enscript-comment"># AC_LIBTOOL_LANG_C_CONFIG
</span>

<span class="enscript-comment"># AC_LIBTOOL_LANG_CXX_CONFIG
</span><span class="enscript-comment"># --------------------------
</span><span class="enscript-comment"># Ensure that the configuration vars for the C compiler are
</span><span class="enscript-comment"># suitably defined.  Those variables are subsequently used by
</span><span class="enscript-comment"># AC_LIBTOOL_CONFIG to write the compiler configuration to `libtool'.
</span>AC_DEFUN([AC_LIBTOOL_LANG_CXX_CONFIG], [_LT_AC_LANG_CXX_CONFIG(CXX)])
AC_DEFUN([_LT_AC_LANG_CXX_CONFIG],
[AC_LANG_PUSH(C++)
AC_REQUIRE([AC_PROG_CXX])
AC_REQUIRE([_LT_AC_PROG_CXXCPP])

_LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
_LT_AC_TAGVAR(allow_undefined_flag, $1)=
_LT_AC_TAGVAR(always_export_symbols, $1)=no
_LT_AC_TAGVAR(archive_expsym_cmds, $1)=
_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)=
_LT_AC_TAGVAR(hardcode_direct, $1)=no
_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)=
_LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)=
_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=
_LT_AC_TAGVAR(hardcode_minus_L, $1)=no
_LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=unsupported
_LT_AC_TAGVAR(hardcode_automatic, $1)=no
_LT_AC_TAGVAR(module_cmds, $1)=
_LT_AC_TAGVAR(module_expsym_cmds, $1)=
_LT_AC_TAGVAR(link_all_deplibs, $1)=unknown
_LT_AC_TAGVAR(old_archive_cmds, $1)=$old_archive_cmds
_LT_AC_TAGVAR(no_undefined_flag, $1)=
_LT_AC_TAGVAR(whole_archive_flag_spec, $1)=
_LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=no

<span class="enscript-comment"># Dependencies to place before and after the object being linked:
</span>_LT_AC_TAGVAR(predep_objects, $1)=
_LT_AC_TAGVAR(postdep_objects, $1)=
_LT_AC_TAGVAR(predeps, $1)=
_LT_AC_TAGVAR(postdeps, $1)=
_LT_AC_TAGVAR(compiler_lib_search_path, $1)=

<span class="enscript-comment"># Source file extension for C++ test sources.
</span>ac_ext=cpp

<span class="enscript-comment"># Object file extension for compiled C++ test sources.
</span>objext=o
_LT_AC_TAGVAR(objext, $1)=$objext

<span class="enscript-comment"># Code to be used in simple compile tests
</span>lt_simple_compile_test_code=&quot;int some_variable = 0;\n&quot;

<span class="enscript-comment"># Code to be used in simple link tests
</span>lt_simple_link_test_code='int main(int, char *[[]]) { return(0); }\n'

<span class="enscript-comment"># ltmain only uses $CC for tagged configurations so make sure $CC is set.
</span>_LT_AC_SYS_COMPILER

<span class="enscript-comment"># save warnings/boilerplate of simple test code
</span>_LT_COMPILER_BOILERPLATE
_LT_LINKER_BOILERPLATE

<span class="enscript-comment"># Allow CC to be a program name with arguments.
</span>lt_save_CC=$CC
lt_save_LD=$LD
lt_save_GCC=$GCC
GCC=$GXX
lt_save_with_gnu_ld=$with_gnu_ld
lt_save_path_LD=$lt_cv_path_LD
if test -n &quot;${lt_cv_prog_gnu_ldcxx+set}&quot;; then
  lt_cv_prog_gnu_ld=$lt_cv_prog_gnu_ldcxx
else
  $as_unset lt_cv_prog_gnu_ld
fi
if test -n &quot;${lt_cv_path_LDCXX+set}&quot;; then
  lt_cv_path_LD=$lt_cv_path_LDCXX
else
  $as_unset lt_cv_path_LD
fi
test -z &quot;${LDCXX+set}&quot; || LD=$LDCXX
CC=${CXX-&quot;c++&quot;}
compiler=$CC
_LT_AC_TAGVAR(compiler, $1)=$CC
_LT_CC_BASENAME([$compiler])

<span class="enscript-comment"># We don't want -fno-exception wen compiling C++ code, so set the
</span><span class="enscript-comment"># no_builtin_flag separately
</span>if test &quot;$GXX&quot; = yes; then
  _LT_AC_TAGVAR(lt_prog_compiler_no_builtin_flag, $1)=' -fno-builtin'
else
  _LT_AC_TAGVAR(lt_prog_compiler_no_builtin_flag, $1)=
fi

if test &quot;$GXX&quot; = yes; then
  <span class="enscript-comment"># Set up default GNU C++ configuration
</span>
  AC_PROG_LD

  <span class="enscript-comment"># Check if GNU C++ uses GNU ld as the underlying linker, since the
</span>  <span class="enscript-comment"># archiving commands below assume that GNU ld is being used.
</span>  if test &quot;$with_gnu_ld&quot; = yes; then
    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname $wl$soname -o $lib'
    _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'

    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}--rpath ${wl}$libdir'
    _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'

    <span class="enscript-comment"># If archive_cmds runs LD, not CC, wlarc should be empty
</span>    <span class="enscript-comment"># XXX I think wlarc can be eliminated in ltcf-cxx, but I need to
</span>    <span class="enscript-comment">#     investigate it a little bit more. (MM)
</span>    wlarc='${wl}'

    <span class="enscript-comment"># ancient GNU ld didn't support --whole-archive et. al.
</span>    if <span class="enscript-keyword">eval</span> &quot;`$CC -print-prog-name=ld` --help 2&gt;&amp;1&quot; | \
	grep 'no-whole-archive' &gt; /dev/null; then
      _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=&quot;$wlarc&quot;'--whole-archive$convenience '&quot;$wlarc&quot;'--no-whole-archive'
    else
      _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=
    fi
  else
    with_gnu_ld=no
    wlarc=

    <span class="enscript-comment"># A generic and very simple default shared library creation
</span>    <span class="enscript-comment"># command for GNU C++ for the case where it uses the native
</span>    <span class="enscript-comment"># linker, instead of GNU ld.  If possible, this setting should
</span>    <span class="enscript-comment"># overridden to take advantage of the native linker features on
</span>    <span class="enscript-comment"># the platform it is being used on.
</span>    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $lib'
  fi

  <span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>  <span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>  <span class="enscript-comment"># linking a shared library.
</span>  output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2&gt;&amp;1 | grep &quot;\-L&quot;'

else
  GXX=no
  with_gnu_ld=no
  wlarc=
fi

<span class="enscript-comment"># PORTME: fill in a description of your system's C++ link characteristics
</span>AC_MSG_CHECKING([whether the $compiler linker ($LD) supports shared libraries])
_LT_AC_TAGVAR(ld_shlibs, $1)=yes
case $host_os in
  aix3*)
    <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>    _LT_AC_TAGVAR(ld_shlibs, $1)=no
    ;;
  aix4* | aix5*)
    if test &quot;$host_cpu&quot; = ia64; then
      <span class="enscript-comment"># On IA64, the linker does run time linking by default, so we don't
</span>      <span class="enscript-comment"># have to do anything special.
</span>      aix_use_runtimelinking=no
      exp_sym_flag='-Bexport'
      no_entry_flag=&quot;&quot;
    else
      aix_use_runtimelinking=no

      <span class="enscript-comment"># Test if we are trying to use run time linking or normal
</span>      <span class="enscript-comment"># AIX style linking. If -brtl is somewhere in LDFLAGS, we
</span>      <span class="enscript-comment"># need to do runtime linking.
</span>      case $host_os in aix4.[[23]]|aix4.[[23]].*|aix5*)
	for ld_flag in $LDFLAGS; do
	  case $ld_flag in
	  *-brtl*)
	    aix_use_runtimelinking=yes
	    break
	    ;;
	  esac
	done
	;;
      esac

      exp_sym_flag='-bexport'
      no_entry_flag='-bnoentry'
    fi

    <span class="enscript-comment"># When large executables or shared objects are built, AIX ld can
</span>    <span class="enscript-comment"># have problems creating the table of contents.  If linking a library
</span>    <span class="enscript-comment"># or program results in &quot;error TOC overflow&quot; add -mminimal-toc to
</span>    <span class="enscript-comment"># CXXFLAGS/CFLAGS for g++/gcc.  In the cases where that is not
</span>    <span class="enscript-comment"># enough to fix the problem, add -Wl,-bbigtoc to LDFLAGS.
</span>
    _LT_AC_TAGVAR(archive_cmds, $1)=''
    _LT_AC_TAGVAR(hardcode_direct, $1)=yes
    _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=':'
    _LT_AC_TAGVAR(link_all_deplibs, $1)=yes

    if test &quot;$GXX&quot; = yes; then
      case $host_os in aix4.[[012]]|aix4.[[012]].*)
      <span class="enscript-comment"># We only want to do this on AIX 4.2 and lower, the check
</span>      <span class="enscript-comment"># below for broken collect2 doesn't work under 4.3+
</span>	collect2name=`${CC} -print-prog-name=collect2`
	if test -f &quot;$collect2name&quot; &amp;&amp; \
	   strings &quot;$collect2name&quot; | grep resolve_lib_name &gt;/dev/null
	then
	  <span class="enscript-comment"># We have reworked collect2
</span>	  _LT_AC_TAGVAR(hardcode_direct, $1)=yes
	else
	  <span class="enscript-comment"># We have old collect2
</span>	  _LT_AC_TAGVAR(hardcode_direct, $1)=unsupported
	  <span class="enscript-comment"># It fails to find uninstalled libraries when the uninstalled
</span>	  <span class="enscript-comment"># path is not listed in the libpath.  Setting hardcode_minus_L
</span>	  <span class="enscript-comment"># to unsupported forces relinking
</span>	  _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
	  _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=
	fi
	;;
      esac
      shared_flag='-shared'
      if test &quot;$aix_use_runtimelinking&quot; = yes; then
	shared_flag=&quot;$shared_flag &quot;'${wl}-G'
      fi
    else
      <span class="enscript-comment"># not using gcc
</span>      if test &quot;$host_cpu&quot; = ia64; then
	<span class="enscript-comment"># VisualAge C++, Version 5.5 for AIX 5L for IA-64, Beta 3 Release
</span>	<span class="enscript-comment"># chokes on -Wl,-G. The following line is correct:
</span>	shared_flag='-G'
      else
	if test &quot;$aix_use_runtimelinking&quot; = yes; then
	  shared_flag='${wl}-G'
	else
	  shared_flag='${wl}-bM:SRE'
	fi
      fi
    fi

    <span class="enscript-comment"># It seems that -bexpall does not export symbols beginning with
</span>    <span class="enscript-comment"># underscore (_), so it is better to generate a list of symbols to export.
</span>    _LT_AC_TAGVAR(always_export_symbols, $1)=yes
    if test &quot;$aix_use_runtimelinking&quot; = yes; then
      <span class="enscript-comment"># Warning - without using the other runtime loading flags (-brtl),
</span>      <span class="enscript-comment"># -berok will link without error, but may produce a broken library.
</span>      _LT_AC_TAGVAR(allow_undefined_flag, $1)='-berok'
      <span class="enscript-comment"># Determine the default libpath from the value encoded in an empty executable.
</span>      _LT_AC_SYS_LIBPATH_AIX
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-blibpath:$libdir:'&quot;$aix_libpath&quot;

      _LT_AC_TAGVAR(archive_expsym_cmds, $1)=&quot;\$CC&quot;' -o $output_objdir/$soname $libobjs $deplibs '&quot;\${wl}$no_entry_flag&quot;' $compiler_flags `if test &quot;x${allow_undefined_flag}&quot; != &quot;x&quot;; then echo &quot;${wl}${allow_undefined_flag}&quot;; else :; fi` '&quot;\${wl}$exp_sym_flag:\$export_symbols $shared_flag&quot;
     else
      if test &quot;$host_cpu&quot; = ia64; then
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-R $libdir:/usr/lib:/lib'
	_LT_AC_TAGVAR(allow_undefined_flag, $1)=&quot;-z nodefs&quot;
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)=&quot;\$CC $shared_flag&quot;' -o $output_objdir/$soname $libobjs $deplibs '&quot;\${wl}$no_entry_flag&quot;' $compiler_flags ${wl}${allow_undefined_flag} '&quot;\${wl}$exp_sym_flag:\$export_symbols&quot;
      else
	<span class="enscript-comment"># Determine the default libpath from the value encoded in an empty executable.
</span>	_LT_AC_SYS_LIBPATH_AIX
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-blibpath:$libdir:'&quot;$aix_libpath&quot;
	<span class="enscript-comment"># Warning - without using the other run time loading flags,
</span>	<span class="enscript-comment"># -berok will link without error, but may produce a broken library.
</span>	_LT_AC_TAGVAR(no_undefined_flag, $1)=' ${wl}-bernotok'
	_LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-berok'
	<span class="enscript-comment"># Exported symbols can be pulled into shared objects from archives
</span>	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)='$convenience'
	_LT_AC_TAGVAR(archive_cmds_need_lc, $1)=yes
	<span class="enscript-comment"># This is similar to how AIX traditionally builds its shared libraries.
</span>	_LT_AC_TAGVAR(archive_expsym_cmds, $1)=&quot;\$CC $shared_flag&quot;' -o $output_objdir/$soname $libobjs $deplibs ${wl}-bnoentry $compiler_flags ${wl}-bE:$export_symbols${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
      fi
    fi
    ;;

  beos*)
    if $LD --help 2&gt;&amp;1 | grep ': supported targets:.* elf' &gt; /dev/null; then
      _LT_AC_TAGVAR(allow_undefined_flag, $1)=unsupported
      <span class="enscript-comment"># Joseph Beckenbach &lt;<a href="mailto:jrb3@best.com">jrb3@best.com</a>&gt; says some releases of gcc
</span>      <span class="enscript-comment"># support --undefined.  This deserves some investigation.  FIXME
</span>      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -nostart $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
    else
      _LT_AC_TAGVAR(ld_shlibs, $1)=no
    fi
    ;;

  chorus*)
    case $cc_basename in
      *)
	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
    esac
    ;;

  cygwin* | mingw* | pw32*)
    <span class="enscript-comment"># _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1) is actually meaningless,
</span>    <span class="enscript-comment"># as there is no search path for DLLs.
</span>    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
    _LT_AC_TAGVAR(allow_undefined_flag, $1)=unsupported
    _LT_AC_TAGVAR(always_export_symbols, $1)=no
    _LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=yes

    if $LD --help 2&gt;&amp;1 | grep 'auto-import' &gt; /dev/null; then
      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
      <span class="enscript-comment"># If the export-symbols file already is a .def file (1st line
</span>      <span class="enscript-comment"># is EXPORTS), use it as is; otherwise, prepend...
</span>      _LT_AC_TAGVAR(archive_expsym_cmds, $1)='if test &quot;x`$SED 1q $export_symbols`&quot; = xEXPORTS; then
	cp $export_symbols $output_objdir/$soname.def;
      else
	echo EXPORTS &gt; $output_objdir/$soname.def;
	cat $export_symbols &gt;&gt; $output_objdir/$soname.def;
      fi~
      $CC -shared -nostdlib $output_objdir/$soname.def $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
    else
      _LT_AC_TAGVAR(ld_shlibs, $1)=no
    fi
  ;;
      darwin* | rhapsody*)
        case $host_os in
        rhapsody* | darwin1.[[012]])
         _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'
         ;;
       *) <span class="enscript-comment"># Darwin 1.3 on
</span>         if test -z ${MACOSX_DEPLOYMENT_TARGET} ; then
           _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
         else
           case ${MACOSX_DEPLOYMENT_TARGET} in
             10.[[012]])
               _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
               ;;
             10.*)
               _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}dynamic_lookup'
               ;;
           esac
         fi
         ;;
        esac
      _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
      _LT_AC_TAGVAR(hardcode_direct, $1)=no
      _LT_AC_TAGVAR(hardcode_automatic, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=unsupported
      _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=''
      _LT_AC_TAGVAR(link_all_deplibs, $1)=yes

    if test &quot;$GXX&quot; = yes ; then
      lt_int_apple_cc_single_mod=no
      output_verbose_link_cmd='echo'
      if $CC -dumpspecs 2&gt;&amp;1 | $EGREP 'single_module' &gt;/dev/null ; then
       lt_int_apple_cc_single_mod=yes
      fi
      if test &quot;X$lt_int_apple_cc_single_mod&quot; = Xyes ; then
       _LT_AC_TAGVAR(archive_cmds, $1)='$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
      else
          _LT_AC_TAGVAR(archive_cmds, $1)='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
        fi
        _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
        <span class="enscript-comment"># Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
</span>          if test &quot;X$lt_int_apple_cc_single_mod&quot; = Xyes ; then
            _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e &quot;s,<span class="enscript-comment">#.*,,&quot; -e &quot;s,^[    ]*,,&quot; -e &quot;s,^\(..*\),_&amp;,&quot; &lt; $export_symbols &gt; $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
</span>          else
            _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e &quot;s,<span class="enscript-comment">#.*,,&quot; -e &quot;s,^[    ]*,,&quot; -e &quot;s,^\(..*\),_&amp;,&quot; &lt; $export_symbols &gt; $output_objdir/${libname}-symbols.expsym~$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
</span>          fi
            _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e &quot;s,<span class="enscript-comment">#.*,,&quot; -e &quot;s,^[    ]*,,&quot; -e &quot;s,^\(..*\),_&amp;,&quot; &lt; $export_symbols &gt; $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
</span>      else
      case $cc_basename in
        xlc*)
         output_verbose_link_cmd='echo'
          _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
          _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
          <span class="enscript-comment"># Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
</span>          _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e &quot;s,<span class="enscript-comment">#.*,,&quot; -e &quot;s,^[    ]*,,&quot; -e &quot;s,^\(..*\),_&amp;,&quot; &lt; $export_symbols &gt; $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
</span>          _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e &quot;s,<span class="enscript-comment">#.*,,&quot; -e &quot;s,^[    ]*,,&quot; -e &quot;s,^\(..*\),_&amp;,&quot; &lt; $export_symbols &gt; $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
</span>          ;;
       *)
         _LT_AC_TAGVAR(ld_shlibs, $1)=no
          ;;
      esac
      fi
        ;;

  dgux*)
    case $cc_basename in
      ec++*)
	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
      ghcx*)
	<span class="enscript-comment"># Green Hills C++ Compiler
</span>	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
      *)
	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
    esac
    ;;
  freebsd[[12]]*)
    <span class="enscript-comment"># C++ shared libraries reported to be fairly broken before switch to ELF
</span>    _LT_AC_TAGVAR(ld_shlibs, $1)=no
    ;;
  freebsd-elf*)
    _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
    ;;
  freebsd* | kfreebsd*-gnu | dragonfly*)
    <span class="enscript-comment"># FreeBSD 3 and later use GNU C++ and GNU ld with standard ELF
</span>    <span class="enscript-comment"># conventions
</span>    _LT_AC_TAGVAR(ld_shlibs, $1)=yes
    ;;
  gnu*)
    ;;
  hpux9*)
    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
    _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
<span class="enscript-string">    _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='</span>${wl}-E'
    _LT_AC_TAGVAR(hardcode_direct, $1)=yes
    _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes <span class="enscript-comment"># Not in the search PATH,
</span>				<span class="enscript-comment"># but as the default
</span>				<span class="enscript-comment"># location of the library.
</span>
    case $cc_basename in
    CC*)
      <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>      _LT_AC_TAGVAR(ld_shlibs, $1)=no
      ;;
    aCC*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$rm $output_objdir/$soname~$CC -b ${wl}+b ${wl}$install_libdir -o $output_objdir/$soname $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~test $output_objdir/$soname = $lib || mv $output_objdir/$soname $lib'
      <span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>      <span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>      <span class="enscript-comment"># linking a shared library.
</span>      <span class="enscript-comment">#
</span>      <span class="enscript-comment"># There doesn't appear to be a way to prevent this compiler from
</span>      <span class="enscript-comment"># explicitly linking system object files so we need to strip them
</span>      <span class="enscript-comment"># from the output so that they don't get included in the library
</span>      <span class="enscript-comment"># dependencies.
</span>      output_verbose_link_cmd='templist=`($CC -b $CFLAGS -v conftest.$objext 2&gt;&amp;1) | grep &quot;[[-]]L&quot;`; list=&quot;&quot;; for z in $templist; do case $z in conftest.$objext) list=&quot;$list $z&quot;;; *.$objext);; *) list=&quot;$list $z&quot;;;esac; done; echo $list'
      ;;
    *)
      if test &quot;$GXX&quot; = yes; then
        _LT_AC_TAGVAR(archive_cmds, $1)='$rm $output_objdir/$soname~$CC -shared -nostdlib -fPIC ${wl}+b ${wl}$install_libdir -o $output_objdir/$soname $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~test $output_objdir/$soname = $lib || mv $output_objdir/$soname $lib'
      else
        <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>        _LT_AC_TAGVAR(ld_shlibs, $1)=no
      fi
      ;;
    esac
    ;;
  hpux10*|hpux11*)
    if test $with_gnu_ld = no; then
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
      _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

      case $host_cpu in
      hppa*64*|ia64*)
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)='+b $libdir'
        ;;
      *)
	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
        ;;
      esac
    fi
    case $host_cpu in
    hppa*64*|ia64*)
      _LT_AC_TAGVAR(hardcode_direct, $1)=no
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;
    *)
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes <span class="enscript-comment"># Not in the search PATH,
</span>					      <span class="enscript-comment"># but as the default
</span>					      <span class="enscript-comment"># location of the library.
</span>      ;;
    esac

    case $cc_basename in
      CC*)
	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
      aCC*)
	case $host_cpu in
	hppa*64*)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
	  ;;
	ia64*)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
	  ;;
	*)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
	  ;;
	esac
	<span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>	<span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>	<span class="enscript-comment"># linking a shared library.
</span>	<span class="enscript-comment">#
</span>	<span class="enscript-comment"># There doesn't appear to be a way to prevent this compiler from
</span>	<span class="enscript-comment"># explicitly linking system object files so we need to strip them
</span>	<span class="enscript-comment"># from the output so that they don't get included in the library
</span>	<span class="enscript-comment"># dependencies.
</span>	output_verbose_link_cmd='templist=`($CC -b $CFLAGS -v conftest.$objext 2&gt;&amp;1) | grep &quot;\-L&quot;`; list=&quot;&quot;; for z in $templist; do case $z in conftest.$objext) list=&quot;$list $z&quot;;; *.$objext);; *) list=&quot;$list $z&quot;;;esac; done; echo $list'
	;;
      *)
	if test &quot;$GXX&quot; = yes; then
	  if test $with_gnu_ld = no; then
	    case $host_cpu in
	    hppa*64*)
	      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
	      ;;
	    ia64*)
	      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
	      ;;
	    *)
	      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
	      ;;
	    esac
	  fi
	else
	  <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	  _LT_AC_TAGVAR(ld_shlibs, $1)=no
	fi
	;;
    esac
    ;;
  interix3*)
    _LT_AC_TAGVAR(hardcode_direct, $1)=no
    _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
    _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
    <span class="enscript-comment"># Hack: On Interix 3.x, we cannot compile PIC because of a broken gcc.
</span>    <span class="enscript-comment"># Instead, shared libraries are loaded at an image base (0x10000000 by
</span>    <span class="enscript-comment"># default) and relocated if they conflict, which is a slow very memory
</span>    <span class="enscript-comment"># consuming and fragmenting process.  To avoid this, we pick a random,
</span>    <span class="enscript-comment"># 256 KiB-aligned image base between 0x50000000 and 0x6FFC0000 at link
</span>    <span class="enscript-comment"># time.  Moving up from 0x10000000 also allows more sbrk(2) space.
</span>    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
    _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed &quot;s,^,_,&quot; $export_symbols &gt;$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
    ;;
  irix5* | irix6*)
    case $cc_basename in
      CC*)
	<span class="enscript-comment"># SGI C++
</span>	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -all -multigot $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'

	<span class="enscript-comment"># Archives containing C++ object files must be created using
</span>	<span class="enscript-comment"># &quot;CC -ar&quot;, where &quot;CC&quot; is the IRIX C++ compiler.  This is
</span>	<span class="enscript-comment"># necessary to make sure instantiated templates are included
</span>	<span class="enscript-comment"># in the archive.
</span>	_LT_AC_TAGVAR(old_archive_cmds, $1)='$CC -ar -WR,-u -o $oldlib $oldobjs'
	;;
      *)
	if test &quot;$GXX&quot; = yes; then
	  if test &quot;$with_gnu_ld&quot; = no; then
	    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
	  else
	    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` -o $lib'
	  fi
	fi
	_LT_AC_TAGVAR(link_all_deplibs, $1)=yes
	;;
    esac
    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath ${wl}$libdir'
    _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
    ;;
  linux*)
    case $cc_basename in
      KCC*)
	<span class="enscript-comment"># Kuck and Associates, Inc. (KAI) C++ Compiler
</span>
	<span class="enscript-comment"># KCC will only create a shared library if the output file
</span>	<span class="enscript-comment"># ends with &quot;.so&quot; (or &quot;.sl&quot; for HP-UX), so rename the library
</span>	<span class="enscript-comment"># to its proper name (with version) after linking.
</span>	_LT_AC_TAGVAR(archive_cmds, $1)='tempext=`echo $shared_ext | $SED -e '\''s/\([[^()0-9A-Za-z{}]]\)/\\\\\1/g'\''`; templib=`echo $lib | $SED -e &quot;s/\${tempext}\..*/.so/&quot;`; $CC $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags --soname $soname -o \$templib; mv \$templib $lib'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='tempext=`echo $shared_ext | $SED -e '\''s/\([[^()0-9A-Za-z{}]]\)/\\\\\1/g'\''`; templib=`echo $lib | $SED -e &quot;s/\${tempext}\..*/.so/&quot;`; $CC $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags --soname $soname -o \$templib ${wl}-retain-symbols-file,$export_symbols; mv \$templib $lib'
	<span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>	<span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>	<span class="enscript-comment"># linking a shared library.
</span>	<span class="enscript-comment">#
</span>	<span class="enscript-comment"># There doesn't appear to be a way to prevent this compiler from
</span>	<span class="enscript-comment"># explicitly linking system object files so we need to strip them
</span>	<span class="enscript-comment"># from the output so that they don't get included in the library
</span>	<span class="enscript-comment"># dependencies.
</span>	output_verbose_link_cmd='templist=`$CC $CFLAGS -v conftest.$objext -o libconftest$shared_ext 2&gt;&amp;1 | grep &quot;ld&quot;`; rm -f libconftest$shared_ext; list=&quot;&quot;; for z in $templist; do case $z in conftest.$objext) list=&quot;$list $z&quot;;; *.$objext);; *) list=&quot;$list $z&quot;;;esac; done; echo $list'

	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}--rpath,$libdir'
	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'

	<span class="enscript-comment"># Archives containing C++ object files must be created using
</span>	<span class="enscript-comment"># &quot;CC -Bstatic&quot;, where &quot;CC&quot; is the KAI C++ compiler.
</span>	_LT_AC_TAGVAR(old_archive_cmds, $1)='$CC -Bstatic -o $oldlib $oldobjs'
	;;
      icpc*)
	<span class="enscript-comment"># Intel C++
</span>	with_gnu_ld=yes
	<span class="enscript-comment"># version 8.0 and above of icpc choke on multiply defined symbols
</span>	<span class="enscript-comment"># if we add $predep_objects and $postdep_objects, however 7.1 and
</span>	<span class="enscript-comment"># earlier do not add the objects themselves.
</span>	case `$CC -V 2&gt;&amp;1` in
	*&quot;Version 7.&quot;*)
  	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname $wl$soname -o $lib'
  	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
	  ;;
	*)  <span class="enscript-comment"># Version 8.0 or newer
</span>	  tmp_idyn=
	  case $host_cpu in
	    ia64*) tmp_idyn=' -i_dynamic';;
	  esac
  	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared'&quot;$tmp_idyn&quot;' $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared'&quot;$tmp_idyn&quot;' $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
	  ;;
	esac
	_LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'
	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive$convenience ${wl}--no-whole-archive'
	;;
      pgCC*)
        <span class="enscript-comment"># Portland Group C++ compiler
</span>	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname -o $lib'
  	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname ${wl}-retain-symbols-file ${wl}$export_symbols -o $lib'

	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}--rpath ${wl}$libdir'
	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'
	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive`for conv in $convenience\&quot;\&quot;; do test  -n \&quot;$conv\&quot; &amp;&amp; new_convenience=\&quot;$new_convenience,$conv\&quot;; done; $echo \&quot;$new_convenience\&quot;` ${wl}--no-whole-archive'
        ;;
      cxx*)
	<span class="enscript-comment"># Compaq C++
</span>	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname $wl$soname -o $lib'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname $wl$soname  -o $lib ${wl}-retain-symbols-file $wl$export_symbols'

	runpath_var=LD_RUN_PATH
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-rpath $libdir'
	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

	<span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>	<span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>	<span class="enscript-comment"># linking a shared library.
</span>	<span class="enscript-comment">#
</span>	<span class="enscript-comment"># There doesn't appear to be a way to prevent this compiler from
</span>	<span class="enscript-comment"># explicitly linking system object files so we need to strip them
</span>	<span class="enscript-comment"># from the output so that they don't get included in the library
</span>	<span class="enscript-comment"># dependencies.
</span>	output_verbose_link_cmd='templist=`$CC -shared $CFLAGS -v conftest.$objext 2&gt;&amp;1 | grep &quot;ld&quot;`; templist=`echo $templist | $SED &quot;s/\(^.*ld.*\)\( .*ld .*$\)/\1/&quot;`; list=&quot;&quot;; for z in $templist; do case $z in conftest.$objext) list=&quot;$list $z&quot;;; *.$objext);; *) list=&quot;$list $z&quot;;;esac; done; echo $list'
	;;
      *)
	case `$CC -V 2&gt;&amp;1 | sed 5q` in
	*Sun\ C*)
	  <span class="enscript-comment"># Sun C++ 5.9
</span>	  _LT_AC_TAGVAR(no_undefined_flag, $1)=' -zdefs'
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -G${allow_undefined_flag} -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -G${allow_undefined_flag} -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-retain-symbols-file ${wl}$export_symbols'
	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive`new_convenience=; for conv in $convenience\&quot;\&quot;; do test -z \&quot;$conv\&quot; || new_convenience=\&quot;$new_convenience,$conv\&quot;; done; $echo \&quot;$new_convenience\&quot;` ${wl}--no-whole-archive'

	  <span class="enscript-comment"># Not sure whether something based on
</span>	  <span class="enscript-comment"># $CC $CFLAGS -v conftest.$objext -o libconftest$shared_ext 2&gt;&amp;1
</span>	  <span class="enscript-comment"># would be better.
</span>	  output_verbose_link_cmd='echo'

	  <span class="enscript-comment"># Archives containing C++ object files must be created using
</span>	  <span class="enscript-comment"># &quot;CC -xar&quot;, where &quot;CC&quot; is the Sun C++ compiler.  This is
</span>	  <span class="enscript-comment"># necessary to make sure instantiated templates are included
</span>	  <span class="enscript-comment"># in the archive.
</span>	  _LT_AC_TAGVAR(old_archive_cmds, $1)='$CC -xar -o $oldlib $oldobjs'
	  ;;
	esac
	;;
    esac
    ;;
  lynxos*)
    <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>    _LT_AC_TAGVAR(ld_shlibs, $1)=no
    ;;
  m88k*)
    <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>    _LT_AC_TAGVAR(ld_shlibs, $1)=no
    ;;
  mvs*)
    case $cc_basename in
      cxx*)
	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
      *)
	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
    esac
    ;;
  netbsd*)
    if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
      _LT_AC_TAGVAR(archive_cmds, $1)='$LD -Bshareable  -o $lib $predep_objects $libobjs $deplibs $postdep_objects $linker_flags'
      wlarc=
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
    fi
    <span class="enscript-comment"># Workaround some broken pre-1.5 toolchains
</span>    output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2&gt;&amp;1 | grep conftest.$objext | $SED -e &quot;s:-lgcc -lc -lgcc::&quot;'
    ;;
  openbsd2*)
    <span class="enscript-comment"># C++ shared libraries are fairly broken
</span>    _LT_AC_TAGVAR(ld_shlibs, $1)=no
    ;;
  openbsd*)
    _LT_AC_TAGVAR(hardcode_direct, $1)=yes
    _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $lib'
    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
    if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
      _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-retain-symbols-file,$export_symbols -o $lib'
      _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
      _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=&quot;$wlarc&quot;'--whole-archive$convenience '&quot;$wlarc&quot;'--no-whole-archive'
    fi
    output_verbose_link_cmd='echo'
    ;;
  osf3*)
    case $cc_basename in
      KCC*)
	<span class="enscript-comment"># Kuck and Associates, Inc. (KAI) C++ Compiler
</span>
	<span class="enscript-comment"># KCC will only create a shared library if the output file
</span>	<span class="enscript-comment"># ends with &quot;.so&quot; (or &quot;.sl&quot; for HP-UX), so rename the library
</span>	<span class="enscript-comment"># to its proper name (with version) after linking.
</span>	_LT_AC_TAGVAR(archive_cmds, $1)='tempext=`echo $shared_ext | $SED -e '\''s/\([[^()0-9A-Za-z{}]]\)/\\\\\1/g'\''`; templib=`echo $lib | $SED -e &quot;s/\${tempext}\..*/.so/&quot;`; $CC $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags --soname $soname -o \$templib; mv \$templib $lib'

	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

	<span class="enscript-comment"># Archives containing C++ object files must be created using
</span>	<span class="enscript-comment"># &quot;CC -Bstatic&quot;, where &quot;CC&quot; is the KAI C++ compiler.
</span>	_LT_AC_TAGVAR(old_archive_cmds, $1)='$CC -Bstatic -o $oldlib $oldobjs'

	;;
      RCC*)
	<span class="enscript-comment"># Rational C++ 2.4.1
</span>	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
      cxx*)
	_LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-expect_unresolved ${wl}\*'
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared${allow_undefined_flag} $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'

	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath ${wl}$libdir'
	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

	<span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>	<span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>	<span class="enscript-comment"># linking a shared library.
</span>	<span class="enscript-comment">#
</span>	<span class="enscript-comment"># There doesn't appear to be a way to prevent this compiler from
</span>	<span class="enscript-comment"># explicitly linking system object files so we need to strip them
</span>	<span class="enscript-comment"># from the output so that they don't get included in the library
</span>	<span class="enscript-comment"># dependencies.
</span>	output_verbose_link_cmd='templist=`$CC -shared $CFLAGS -v conftest.$objext 2&gt;&amp;1 | grep &quot;ld&quot; | grep -v &quot;ld:&quot;`; templist=`echo $templist | $SED &quot;s/\(^.*ld.*\)\( .*ld.*$\)/\1/&quot;`; list=&quot;&quot;; for z in $templist; do case $z in conftest.$objext) list=&quot;$list $z&quot;;; *.$objext);; *) list=&quot;$list $z&quot;;;esac; done; echo $list'
	;;
      *)
	if test &quot;$GXX&quot; = yes &amp;&amp; test &quot;$with_gnu_ld&quot; = no; then
	  _LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-expect_unresolved ${wl}\*'
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib ${allow_undefined_flag} $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'

	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath ${wl}$libdir'
	  _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

	  <span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>	  <span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>	  <span class="enscript-comment"># linking a shared library.
</span>	  output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2&gt;&amp;1 | grep &quot;\-L&quot;'

	else
	  <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	  _LT_AC_TAGVAR(ld_shlibs, $1)=no
	fi
	;;
    esac
    ;;
  osf4* | osf5*)
    case $cc_basename in
      KCC*)
	<span class="enscript-comment"># Kuck and Associates, Inc. (KAI) C++ Compiler
</span>
	<span class="enscript-comment"># KCC will only create a shared library if the output file
</span>	<span class="enscript-comment"># ends with &quot;.so&quot; (or &quot;.sl&quot; for HP-UX), so rename the library
</span>	<span class="enscript-comment"># to its proper name (with version) after linking.
</span>	_LT_AC_TAGVAR(archive_cmds, $1)='tempext=`echo $shared_ext | $SED -e '\''s/\([[^()0-9A-Za-z{}]]\)/\\\\\1/g'\''`; templib=`echo $lib | $SED -e &quot;s/\${tempext}\..*/.so/&quot;`; $CC $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags --soname $soname -o \$templib; mv \$templib $lib'

	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

	<span class="enscript-comment"># Archives containing C++ object files must be created using
</span>	<span class="enscript-comment"># the KAI C++ compiler.
</span>	_LT_AC_TAGVAR(old_archive_cmds, $1)='$CC -o $oldlib $oldobjs'
	;;
      RCC*)
	<span class="enscript-comment"># Rational C++ 2.4.1
</span>	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
      cxx*)
	_LT_AC_TAGVAR(allow_undefined_flag, $1)=' -expect_unresolved \*'
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared${allow_undefined_flag} $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -msym -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='for i in `cat $export_symbols`; do printf &quot;%s %s\\n&quot; -exported_symbol &quot;\$i&quot; &gt;&gt; $lib.exp; done~
	  echo &quot;-hidden&quot;&gt;&gt; $lib.exp~
	  $CC -shared$allow_undefined_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -msym -soname $soname -Wl,-input -Wl,$lib.exp  `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version	$verstring` -update_registry ${output_objdir}/so_locations -o $lib~
	  $rm $lib.exp'

<span class="enscript-string">	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='</span>-rpath $libdir'
	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

	<span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>	<span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>	<span class="enscript-comment"># linking a shared library.
</span>	<span class="enscript-comment">#
</span>	<span class="enscript-comment"># There doesn't appear to be a way to prevent this compiler from
</span>	<span class="enscript-comment"># explicitly linking system object files so we need to strip them
</span>	<span class="enscript-comment"># from the output so that they don't get included in the library
</span>	<span class="enscript-comment"># dependencies.
</span>	output_verbose_link_cmd='templist=`$CC -shared $CFLAGS -v conftest.$objext 2&gt;&amp;1 | grep &quot;ld&quot; | grep -v &quot;ld:&quot;`; templist=`echo $templist | $SED &quot;s/\(^.*ld.*\)\( .*ld.*$\)/\1/&quot;`; list=&quot;&quot;; for z in $templist; do case $z in conftest.$objext) list=&quot;$list $z&quot;;; *.$objext);; *) list=&quot;$list $z&quot;;;esac; done; echo $list'
	;;
      *)
	if test &quot;$GXX&quot; = yes &amp;&amp; test &quot;$with_gnu_ld&quot; = no; then
	  _LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-expect_unresolved ${wl}\*'
	 _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib ${allow_undefined_flag} $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-msym ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'

	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath ${wl}$libdir'
	  _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

	  <span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>	  <span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>	  <span class="enscript-comment"># linking a shared library.
</span>	  output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2&gt;&amp;1 | grep &quot;\-L&quot;'

	else
	  <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	  _LT_AC_TAGVAR(ld_shlibs, $1)=no
	fi
	;;
    esac
    ;;
  psos*)
    <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>    _LT_AC_TAGVAR(ld_shlibs, $1)=no
    ;;
  sunos4*)
    case $cc_basename in
      CC*)
	<span class="enscript-comment"># Sun C++ 4.x
</span>	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
      lcc*)
	<span class="enscript-comment"># Lucid
</span>	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
      *)
	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
    esac
    ;;
  solaris*)
    case $cc_basename in
      CC*)
	<span class="enscript-comment"># Sun C++ 4.2, 5.x and Centerline C++
</span>        _LT_AC_TAGVAR(archive_cmds_need_lc,$1)=yes
	_LT_AC_TAGVAR(no_undefined_flag, $1)=' -zdefs'
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G${allow_undefined_flag}  -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$echo &quot;{ global:&quot; &gt; $lib.exp~cat $export_symbols | $SED -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $lib.exp~$echo &quot;local: *; };&quot; &gt;&gt; $lib.exp~
	$CC -G${allow_undefined_flag}  ${wl}-M ${wl}$lib.exp -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~$rm $lib.exp'

	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
	_LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
	case $host_os in
	  solaris2.[[0-5]] | solaris2.[[0-5]].*) ;;
	  *)
	    <span class="enscript-comment"># The C++ compiler is used as linker so we must use $wl
</span>	    <span class="enscript-comment"># flag to pass the commands to the underlying system
</span>	    <span class="enscript-comment"># linker. We must also pass each convience library through
</span>	    <span class="enscript-comment"># to the system linker between allextract/defaultextract.
</span>	    <span class="enscript-comment"># The C++ compiler will combine linker options so we
</span>	    <span class="enscript-comment"># cannot just pass the convience library names through
</span>	    <span class="enscript-comment"># without $wl.
</span>	    <span class="enscript-comment"># Supported since Solaris 2.6 (maybe 2.5.1?)
</span>	    _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}-z ${wl}allextract`for conv in $convenience\&quot;\&quot;; do test -n \&quot;$conv\&quot; &amp;&amp; new_convenience=\&quot;$new_convenience,$conv\&quot;; done; $echo \&quot;$new_convenience\&quot;` ${wl}-z ${wl}defaultextract'
	    ;;
	esac
	_LT_AC_TAGVAR(link_all_deplibs, $1)=yes

	output_verbose_link_cmd='echo'

	<span class="enscript-comment"># Archives containing C++ object files must be created using
</span>	<span class="enscript-comment"># &quot;CC -xar&quot;, where &quot;CC&quot; is the Sun C++ compiler.  This is
</span>	<span class="enscript-comment"># necessary to make sure instantiated templates are included
</span>	<span class="enscript-comment"># in the archive.
</span>	_LT_AC_TAGVAR(old_archive_cmds, $1)='$CC -xar -o $oldlib $oldobjs'
	;;
      gcx*)
	<span class="enscript-comment"># Green Hills C++ Compiler
</span>	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-h $wl$soname -o $lib'

	<span class="enscript-comment"># The C++ compiler must be used to create the archive.
</span>	_LT_AC_TAGVAR(old_archive_cmds, $1)='$CC $LDFLAGS -archive -o $oldlib $oldobjs'
	;;
      *)
	<span class="enscript-comment"># GNU C++ compiler with Solaris linker
</span>	if test &quot;$GXX&quot; = yes &amp;&amp; test &quot;$with_gnu_ld&quot; = no; then
	  _LT_AC_TAGVAR(no_undefined_flag, $1)=' ${wl}-z ${wl}defs'
	  if $CC --version | grep -v '^2\.7' &gt; /dev/null; then
	    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib $LDFLAGS $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-h $wl$soname -o $lib'
	    _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$echo &quot;{ global:&quot; &gt; $lib.exp~cat $export_symbols | $SED -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $lib.exp~$echo &quot;local: *; };&quot; &gt;&gt; $lib.exp~
		$CC -shared -nostdlib ${wl}-M $wl$lib.exp -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~$rm $lib.exp'

	    <span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>	    <span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>	    <span class="enscript-comment"># linking a shared library.
</span>	    output_verbose_link_cmd=&quot;$CC -shared $CFLAGS -v conftest.$objext 2&gt;&amp;1 | grep \&quot;\-L\&quot;&quot;
	  else
	    <span class="enscript-comment"># g++ 2.7 appears to require `-G' NOT `-shared' on this
</span>	    <span class="enscript-comment"># platform.
</span>	    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -G -nostdlib $LDFLAGS $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-h $wl$soname -o $lib'
	    _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$echo &quot;{ global:&quot; &gt; $lib.exp~cat $export_symbols | $SED -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $lib.exp~$echo &quot;local: *; };&quot; &gt;&gt; $lib.exp~
		$CC -G -nostdlib ${wl}-M $wl$lib.exp -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~$rm $lib.exp'

	    <span class="enscript-comment"># Commands to make compiler produce verbose output that lists
</span>	    <span class="enscript-comment"># what &quot;hidden&quot; libraries, object files and flags are used when
</span>	    <span class="enscript-comment"># linking a shared library.
</span>	    output_verbose_link_cmd=&quot;$CC -G $CFLAGS -v conftest.$objext 2&gt;&amp;1 | grep \&quot;\-L\&quot;&quot;
	  fi

	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-R $wl$libdir'
	fi
	;;
    esac
    ;;
  sysv4*uw2* | sysv5OpenUNIX* | sysv5UnixWare7.[[01]].[[10]]* | unixware7* | sco3.2v5.0.[[024]]*)
    _LT_AC_TAGVAR(no_undefined_flag, $1)='${wl}-z,text'
    _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
    _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
    runpath_var='LD_RUN_PATH'

    case $cc_basename in
      CC*)
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
	;;
      *)
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
	;;
    esac
    ;;
  sysv5* | sco3.2v5* | sco5v6*)
    <span class="enscript-comment"># Note: We can NOT use -z defs as we might desire, because we do not
</span>    <span class="enscript-comment"># link with -lc, and that would cause any symbols used from libc to
</span>    <span class="enscript-comment"># always be unresolved, which means just about no library would
</span>    <span class="enscript-comment"># ever link correctly.  If we're not using GNU ld we use -z text
</span>    <span class="enscript-comment"># though, which does catch some bad symbols but isn't as heavy-handed
</span>    <span class="enscript-comment"># as -z defs.
</span>    <span class="enscript-comment"># For security reasons, it is highly recommended that you always
</span>    <span class="enscript-comment"># use absolute paths for naming shared libraries, and exclude the
</span>    <span class="enscript-comment"># DT_RUNPATH tag from executables and libraries.  But doing so
</span>    <span class="enscript-comment"># requires that you compile everything twice, which is a pain.
</span>    <span class="enscript-comment"># So that behaviour is only enabled if SCOABSPATH is set to a
</span>    <span class="enscript-comment"># non-empty value in the environment.  Most likely only useful for
</span>    <span class="enscript-comment"># creating official distributions of packages.
</span>    <span class="enscript-comment"># This is a hack until libtool officially supports absolute path
</span>    <span class="enscript-comment"># names for shared libraries.
</span>    _LT_AC_TAGVAR(no_undefined_flag, $1)='${wl}-z,text'
    _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-z,nodefs'
    _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
    _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='`test -z &quot;$SCOABSPATH&quot; &amp;&amp; echo ${wl}-R,$libdir`'
    _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=':'
    _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
    _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-Bexport'
    runpath_var='LD_RUN_PATH'

    case $cc_basename in
      CC*)
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
	;;
      *)
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
	;;
    esac
    ;;
  tandem*)
    case $cc_basename in
      NCC*)
	<span class="enscript-comment"># NonStop-UX NCC 3.20
</span>	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
      *)
	<span class="enscript-comment"># FIXME: insert proper C++ library support
</span>	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	;;
    esac
    ;;
  vxworks*)
    <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>    _LT_AC_TAGVAR(ld_shlibs, $1)=no
    ;;
  *)
    <span class="enscript-comment"># FIXME: insert proper C++ library support
</span>    _LT_AC_TAGVAR(ld_shlibs, $1)=no
    ;;
esac
AC_MSG_RESULT([$_LT_AC_TAGVAR(ld_shlibs, $1)])
test &quot;$_LT_AC_TAGVAR(ld_shlibs, $1)&quot; = no &amp;&amp; can_build_shared=no

_LT_AC_TAGVAR(GCC, $1)=&quot;$GXX&quot;
_LT_AC_TAGVAR(LD, $1)=&quot;$LD&quot;

<span class="enscript-comment">## CAVEAT EMPTOR:
</span><span class="enscript-comment">## There is no encapsulation within the following macros, do not change
</span><span class="enscript-comment">## the running order or otherwise move them around unless you know exactly
</span><span class="enscript-comment">## what you are doing...
</span>AC_LIBTOOL_POSTDEP_PREDEP($1)
AC_LIBTOOL_PROG_COMPILER_PIC($1)
AC_LIBTOOL_PROG_CC_C_O($1)
AC_LIBTOOL_SYS_HARD_LINK_LOCKS($1)
AC_LIBTOOL_PROG_LD_SHLIBS($1)
AC_LIBTOOL_SYS_DYNAMIC_LINKER($1)
AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH($1)

AC_LIBTOOL_CONFIG($1)

AC_LANG_POP
CC=$lt_save_CC
LDCXX=$LD
LD=$lt_save_LD
GCC=$lt_save_GCC
with_gnu_ldcxx=$with_gnu_ld
with_gnu_ld=$lt_save_with_gnu_ld
lt_cv_path_LDCXX=$lt_cv_path_LD
lt_cv_path_LD=$lt_save_path_LD
lt_cv_prog_gnu_ldcxx=$lt_cv_prog_gnu_ld
lt_cv_prog_gnu_ld=$lt_save_with_gnu_ld
])<span class="enscript-comment"># AC_LIBTOOL_LANG_CXX_CONFIG
</span>
<span class="enscript-comment"># AC_LIBTOOL_POSTDEP_PREDEP([TAGNAME])
</span><span class="enscript-comment"># ------------------------------------
</span><span class="enscript-comment"># Figure out &quot;hidden&quot; library dependencies from verbose
</span><span class="enscript-comment"># compiler output when linking a shared library.
</span><span class="enscript-comment"># Parse the compiler output and extract the necessary
</span><span class="enscript-comment"># objects, libraries and library flags.
</span>AC_DEFUN([AC_LIBTOOL_POSTDEP_PREDEP],[
<span class="enscript-comment">dnl we can't use the lt_simple_compile_test_code here,
</span><span class="enscript-comment">dnl because it contains code intended for an executable,
</span><span class="enscript-comment">dnl not a library.  It's possible we should let each
</span><span class="enscript-comment">dnl tag define a new lt_????_link_test_code variable,
</span><span class="enscript-comment">dnl but it's only used here...
</span><span class="enscript-keyword">ifelse</span>([$1],[],[cat &gt; conftest.$ac_ext &lt;&lt;EOF
int a;
void foo (void) { a = 0; }
EOF
],[$1],[CXX],[cat &gt; conftest.$ac_ext &lt;&lt;EOF
class Foo
{
public:
  Foo (void) { a = 0; }
private:
  int a;
};
EOF
],[$1],[F77],[cat &gt; conftest.$ac_ext &lt;&lt;EOF
      subroutine foo
      implicit none
      integer*4 a
      a=0
      return
      end
EOF
],[$1],[GCJ],[cat &gt; conftest.$ac_ext &lt;&lt;EOF
public class foo {
  private int a;
  public void bar (void) {
    a = 0;
  }
};
EOF
])
<span class="enscript-comment">dnl Parse the compiler output and extract the necessary
</span><span class="enscript-comment">dnl objects, libraries and library flags.
</span>if AC_TRY_EVAL(ac_compile); then
  <span class="enscript-comment"># Parse the compiler output and extract the necessary
</span>  <span class="enscript-comment"># objects, libraries and library flags.
</span>
  <span class="enscript-comment"># Sentinel used to keep track of whether or not we are before
</span>  <span class="enscript-comment"># the conftest object file.
</span>  pre_test_object_deps_done=no

  <span class="enscript-comment"># The `*' in the case matches for architectures that use `case' in
</span>  <span class="enscript-comment"># $output_verbose_cmd can trigger glob expansion during the loop
</span>  <span class="enscript-comment"># eval without this substitution.
</span>  output_verbose_link_cmd=`$echo &quot;X$output_verbose_link_cmd&quot; | $Xsed -e &quot;$no_glob_subst&quot;`

  for p in `<span class="enscript-keyword">eval</span> $output_verbose_link_cmd`; do
    case $p in

    -L* | -R* | -l*)
       <span class="enscript-comment"># Some compilers place space between &quot;-{L,R}&quot; and the path.
</span>       <span class="enscript-comment"># Remove the space.
</span>       if test $p = &quot;-L&quot; \
	  || test $p = &quot;-R&quot;; then
	 prev=$p
	 continue
       else
	 prev=
       fi

       if test &quot;$pre_test_object_deps_done&quot; = no; then
	 case $p in
	 -L* | -R*)
	   <span class="enscript-comment"># Internal compiler library paths should come after those
</span>	   <span class="enscript-comment"># provided the user.  The postdeps already come after the
</span>	   <span class="enscript-comment"># user supplied libs so there is no need to process them.
</span>	   if test -z &quot;$_LT_AC_TAGVAR(compiler_lib_search_path, $1)&quot;; then
	     _LT_AC_TAGVAR(compiler_lib_search_path, $1)=&quot;${prev}${p}&quot;
	   else
	     _LT_AC_TAGVAR(compiler_lib_search_path, $1)=&quot;${_LT_AC_TAGVAR(compiler_lib_search_path, $1)} ${prev}${p}&quot;
	   fi
	   ;;
	 <span class="enscript-comment"># The &quot;-l&quot; case would never come before the object being
</span>	 <span class="enscript-comment"># linked, so don't bother handling this case.
</span>	 esac
       else
	 if test -z &quot;$_LT_AC_TAGVAR(postdeps, $1)&quot;; then
	   _LT_AC_TAGVAR(postdeps, $1)=&quot;${prev}${p}&quot;
	 else
	   _LT_AC_TAGVAR(postdeps, $1)=&quot;${_LT_AC_TAGVAR(postdeps, $1)} ${prev}${p}&quot;
	 fi
       fi
       ;;

    *.$objext)
       <span class="enscript-comment"># This assumes that the test object file only shows up
</span>       <span class="enscript-comment"># once in the compiler output.
</span>       if test &quot;$p&quot; = &quot;conftest.$objext&quot;; then
	 pre_test_object_deps_done=yes
	 continue
       fi

       if test &quot;$pre_test_object_deps_done&quot; = no; then
	 if test -z &quot;$_LT_AC_TAGVAR(predep_objects, $1)&quot;; then
	   _LT_AC_TAGVAR(predep_objects, $1)=&quot;$p&quot;
	 else
	   _LT_AC_TAGVAR(predep_objects, $1)=&quot;$_LT_AC_TAGVAR(predep_objects, $1) $p&quot;
	 fi
       else
	 if test -z &quot;$_LT_AC_TAGVAR(postdep_objects, $1)&quot;; then
	   _LT_AC_TAGVAR(postdep_objects, $1)=&quot;$p&quot;
	 else
	   _LT_AC_TAGVAR(postdep_objects, $1)=&quot;$_LT_AC_TAGVAR(postdep_objects, $1) $p&quot;
	 fi
       fi
       ;;

    *) ;; <span class="enscript-comment"># Ignore the rest.
</span>
    esac
  done

  <span class="enscript-comment"># Clean up.
</span>  rm -f a.out a.exe
else
  echo &quot;libtool.m4: error: problem compiling $1 test program&quot;
fi

$rm -f confest.$objext

<span class="enscript-comment"># PORTME: override above test on systems where it is broken
</span><span class="enscript-keyword">ifelse</span>([$1],[CXX],
[case $host_os in
interix3*)
  <span class="enscript-comment"># Interix 3.5 installs completely hosed .la files for C++, so rather than
</span>  <span class="enscript-comment"># hack all around it, let's just trust &quot;g++&quot; to DTRT.
</span>  _LT_AC_TAGVAR(predep_objects,$1)=
  _LT_AC_TAGVAR(postdep_objects,$1)=
  _LT_AC_TAGVAR(postdeps,$1)=
  ;;

linux*)
  case `$CC -V 2&gt;&amp;1 | sed 5q` in
  *Sun\ C*)
    <span class="enscript-comment"># Sun C++ 5.9
</span>    _LT_AC_TAGVAR(postdeps,$1)='-lCstd -lCrun'
    ;;
  esac
  ;;

solaris*)
  case $cc_basename in
  CC*)
    <span class="enscript-comment"># Adding this requires a known-good setup of shared libraries for
</span>    <span class="enscript-comment"># Sun compiler versions before 5.6, else PIC objects from an old
</span>    <span class="enscript-comment"># archive will be linked into the output, leading to subtle bugs.
</span>    _LT_AC_TAGVAR(postdeps,$1)='-lCstd -lCrun'
    ;;
  esac
  ;;
esac
])

case &quot; $_LT_AC_TAGVAR(postdeps, $1) &quot; in
*&quot; -lc &quot;*) _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no ;;
esac
])<span class="enscript-comment"># AC_LIBTOOL_POSTDEP_PREDEP
</span>
<span class="enscript-comment"># AC_LIBTOOL_LANG_F77_CONFIG
</span><span class="enscript-comment"># --------------------------
</span><span class="enscript-comment"># Ensure that the configuration vars for the C compiler are
</span><span class="enscript-comment"># suitably defined.  Those variables are subsequently used by
</span><span class="enscript-comment"># AC_LIBTOOL_CONFIG to write the compiler configuration to `libtool'.
</span>AC_DEFUN([AC_LIBTOOL_LANG_F77_CONFIG], [_LT_AC_LANG_F77_CONFIG(F77)])
AC_DEFUN([_LT_AC_LANG_F77_CONFIG],
[AC_REQUIRE([AC_PROG_F77])
AC_LANG_PUSH(Fortran 77)

_LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
_LT_AC_TAGVAR(allow_undefined_flag, $1)=
_LT_AC_TAGVAR(always_export_symbols, $1)=no
_LT_AC_TAGVAR(archive_expsym_cmds, $1)=
_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)=
_LT_AC_TAGVAR(hardcode_direct, $1)=no
_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)=
_LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)=
_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=
_LT_AC_TAGVAR(hardcode_minus_L, $1)=no
_LT_AC_TAGVAR(hardcode_automatic, $1)=no
_LT_AC_TAGVAR(module_cmds, $1)=
_LT_AC_TAGVAR(module_expsym_cmds, $1)=
_LT_AC_TAGVAR(link_all_deplibs, $1)=unknown
_LT_AC_TAGVAR(old_archive_cmds, $1)=$old_archive_cmds
_LT_AC_TAGVAR(no_undefined_flag, $1)=
_LT_AC_TAGVAR(whole_archive_flag_spec, $1)=
_LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=no

<span class="enscript-comment"># Source file extension for f77 test sources.
</span>ac_ext=f

<span class="enscript-comment"># Object file extension for compiled f77 test sources.
</span>objext=o
_LT_AC_TAGVAR(objext, $1)=$objext

<span class="enscript-comment"># Code to be used in simple compile tests
</span>lt_simple_compile_test_code=&quot;      subroutine t\n      return\n      end\n&quot;

<span class="enscript-comment"># Code to be used in simple link tests
</span>lt_simple_link_test_code=&quot;      program t\n      end\n&quot;

<span class="enscript-comment"># ltmain only uses $CC for tagged configurations so make sure $CC is set.
</span>_LT_AC_SYS_COMPILER

<span class="enscript-comment"># save warnings/boilerplate of simple test code
</span>_LT_COMPILER_BOILERPLATE
_LT_LINKER_BOILERPLATE

<span class="enscript-comment"># Allow CC to be a program name with arguments.
</span>lt_save_CC=&quot;$CC&quot;
CC=${F77-&quot;f77&quot;}
compiler=$CC
_LT_AC_TAGVAR(compiler, $1)=$CC
_LT_CC_BASENAME([$compiler])

AC_MSG_CHECKING([if libtool supports shared libraries])
AC_MSG_RESULT([$can_build_shared])

AC_MSG_CHECKING([whether to build shared libraries])
test &quot;$can_build_shared&quot; = &quot;no&quot; &amp;&amp; enable_shared=no

<span class="enscript-comment"># On AIX, shared libraries and static libraries use the same namespace, and
</span><span class="enscript-comment"># are all built from PIC.
</span>case $host_os in
aix3*)
  test &quot;$enable_shared&quot; = yes &amp;&amp; enable_static=no
  if test -n &quot;$RANLIB&quot;; then
    archive_cmds=&quot;$archive_cmds~\$RANLIB \$lib&quot;
    postinstall_cmds='$RANLIB $lib'
  fi
  ;;
aix4* | aix5*)
  if test &quot;$host_cpu&quot; != ia64 &amp;&amp; test &quot;$aix_use_runtimelinking&quot; = no ; then
    test &quot;$enable_shared&quot; = yes &amp;&amp; enable_static=no
  fi
  ;;
esac
AC_MSG_RESULT([$enable_shared])

AC_MSG_CHECKING([whether to build static libraries])
<span class="enscript-comment"># Make sure either enable_shared or enable_static is yes.
</span>test &quot;$enable_shared&quot; = yes || enable_static=yes
AC_MSG_RESULT([$enable_static])

_LT_AC_TAGVAR(GCC, $1)=&quot;$G77&quot;
_LT_AC_TAGVAR(LD, $1)=&quot;$LD&quot;

AC_LIBTOOL_PROG_COMPILER_PIC($1)
AC_LIBTOOL_PROG_CC_C_O($1)
AC_LIBTOOL_SYS_HARD_LINK_LOCKS($1)
AC_LIBTOOL_PROG_LD_SHLIBS($1)
AC_LIBTOOL_SYS_DYNAMIC_LINKER($1)
AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH($1)

AC_LIBTOOL_CONFIG($1)

AC_LANG_POP
CC=&quot;$lt_save_CC&quot;
])<span class="enscript-comment"># AC_LIBTOOL_LANG_F77_CONFIG
</span>

<span class="enscript-comment"># AC_LIBTOOL_LANG_GCJ_CONFIG
</span><span class="enscript-comment"># --------------------------
</span><span class="enscript-comment"># Ensure that the configuration vars for the C compiler are
</span><span class="enscript-comment"># suitably defined.  Those variables are subsequently used by
</span><span class="enscript-comment"># AC_LIBTOOL_CONFIG to write the compiler configuration to `libtool'.
</span>AC_DEFUN([AC_LIBTOOL_LANG_GCJ_CONFIG], [_LT_AC_LANG_GCJ_CONFIG(GCJ)])
AC_DEFUN([_LT_AC_LANG_GCJ_CONFIG],
[AC_LANG_SAVE

<span class="enscript-comment"># Source file extension for Java test sources.
</span>ac_ext=java

<span class="enscript-comment"># Object file extension for compiled Java test sources.
</span>objext=o
_LT_AC_TAGVAR(objext, $1)=$objext

<span class="enscript-comment"># Code to be used in simple compile tests
</span>lt_simple_compile_test_code=&quot;class foo {}\n&quot;

<span class="enscript-comment"># Code to be used in simple link tests
</span>lt_simple_link_test_code='public class conftest { public static void main(String[[]] argv) {}; }\n'

<span class="enscript-comment"># ltmain only uses $CC for tagged configurations so make sure $CC is set.
</span>_LT_AC_SYS_COMPILER

<span class="enscript-comment"># save warnings/boilerplate of simple test code
</span>_LT_COMPILER_BOILERPLATE
_LT_LINKER_BOILERPLATE

<span class="enscript-comment"># Allow CC to be a program name with arguments.
</span>lt_save_CC=&quot;$CC&quot;
CC=${GCJ-&quot;gcj&quot;}
compiler=$CC
_LT_AC_TAGVAR(compiler, $1)=$CC
_LT_CC_BASENAME([$compiler])

<span class="enscript-comment"># GCJ did not exist at the time GCC didn't implicitly link libc in.
</span>_LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no

_LT_AC_TAGVAR(old_archive_cmds, $1)=$old_archive_cmds

<span class="enscript-comment">## CAVEAT EMPTOR:
</span><span class="enscript-comment">## There is no encapsulation within the following macros, do not change
</span><span class="enscript-comment">## the running order or otherwise move them around unless you know exactly
</span><span class="enscript-comment">## what you are doing...
</span>AC_LIBTOOL_PROG_COMPILER_NO_RTTI($1)
AC_LIBTOOL_PROG_COMPILER_PIC($1)
AC_LIBTOOL_PROG_CC_C_O($1)
AC_LIBTOOL_SYS_HARD_LINK_LOCKS($1)
AC_LIBTOOL_PROG_LD_SHLIBS($1)
AC_LIBTOOL_SYS_DYNAMIC_LINKER($1)
AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH($1)

AC_LIBTOOL_CONFIG($1)

AC_LANG_RESTORE
CC=&quot;$lt_save_CC&quot;
])<span class="enscript-comment"># AC_LIBTOOL_LANG_GCJ_CONFIG
</span>

<span class="enscript-comment"># AC_LIBTOOL_LANG_RC_CONFIG
</span><span class="enscript-comment"># -------------------------
</span><span class="enscript-comment"># Ensure that the configuration vars for the Windows resource compiler are
</span><span class="enscript-comment"># suitably defined.  Those variables are subsequently used by
</span><span class="enscript-comment"># AC_LIBTOOL_CONFIG to write the compiler configuration to `libtool'.
</span>AC_DEFUN([AC_LIBTOOL_LANG_RC_CONFIG], [_LT_AC_LANG_RC_CONFIG(RC)])
<span class="enscript-string">AC_DEFUN([_LT_AC_LANG_RC_CONFIG],
[AC_LANG_SAVE

# Source file extension for RC test sources.
ac_ext=rc

# Object file extension for compiled RC test sources.
objext=o
_LT_AC_TAGVAR(objext, $1)=$objext

# Code to be used in simple compile tests
lt_simple_compile_test_code='</span>sample MENU { MENUITEM &quot;&amp;Soup&quot;, 100, CHECKED }\n'

<span class="enscript-comment"># Code to be used in simple link tests
</span>lt_simple_link_test_code=&quot;$lt_simple_compile_test_code&quot;

<span class="enscript-comment"># ltmain only uses $CC for tagged configurations so make sure $CC is set.
</span>_LT_AC_SYS_COMPILER

<span class="enscript-comment"># save warnings/boilerplate of simple test code
</span>_LT_COMPILER_BOILERPLATE
_LT_LINKER_BOILERPLATE

<span class="enscript-comment"># Allow CC to be a program name with arguments.
</span>lt_save_CC=&quot;$CC&quot;
CC=${RC-&quot;windres&quot;}
compiler=$CC
_LT_AC_TAGVAR(compiler, $1)=$CC
_LT_CC_BASENAME([$compiler])
_LT_AC_TAGVAR(lt_cv_prog_compiler_c_o, $1)=yes

AC_LIBTOOL_CONFIG($1)

AC_LANG_RESTORE
CC=&quot;$lt_save_CC&quot;
])<span class="enscript-comment"># AC_LIBTOOL_LANG_RC_CONFIG
</span>

<span class="enscript-comment"># AC_LIBTOOL_CONFIG([TAGNAME])
</span><span class="enscript-comment"># ----------------------------
</span><span class="enscript-comment"># If TAGNAME is not passed, then create an initial libtool script
</span><span class="enscript-comment"># with a default configuration from the untagged config vars.  Otherwise
</span><span class="enscript-comment"># add code to config.status for appending the configuration named by
</span><span class="enscript-comment"># TAGNAME from the matching tagged config vars.
</span>AC_DEFUN([AC_LIBTOOL_CONFIG],
[<span class="enscript-comment"># The else clause should only fire when bootstrapping the
</span><span class="enscript-comment"># libtool distribution, otherwise you forgot to ship ltmain.sh
</span><span class="enscript-comment"># with your package, and you will get complaints that there are
</span><span class="enscript-comment"># no rules to generate ltmain.sh.
</span>if test -f &quot;$ltmain&quot;; then
  <span class="enscript-comment"># See if we are running on zsh, and set the options which allow our commands through
</span>  <span class="enscript-comment"># without removal of \ escapes.
</span>  if test -n &quot;${ZSH_VERSION+set}&quot; ; then
    setopt NO_GLOB_SUBST
  fi
  <span class="enscript-comment"># Now quote all the things that may contain metacharacters while being
</span>  <span class="enscript-comment"># careful not to overquote the AC_SUBSTed values.  We take copies of the
</span>  <span class="enscript-comment"># variables and quote the copies for generation of the libtool script.
</span>  for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC LTCFLAGS NM \
    SED SHELL STRIP \
    libname_spec library_names_spec soname_spec extract_expsyms_cmds \
    old_striplib striplib file_magic_cmd finish_cmds finish_eval \
    deplibs_check_method reload_flag reload_cmds need_locks \
    lt_cv_sys_global_symbol_pipe lt_cv_sys_global_symbol_to_cdecl \
    lt_cv_sys_global_symbol_to_c_name_address \
    sys_lib_search_path_spec sys_lib_dlsearch_path_spec \
    old_postinstall_cmds old_postuninstall_cmds \
    _LT_AC_TAGVAR(compiler, $1) \
    _LT_AC_TAGVAR(CC, $1) \
    _LT_AC_TAGVAR(LD, $1) \
    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1) \
    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1) \
    _LT_AC_TAGVAR(lt_prog_compiler_static, $1) \
    _LT_AC_TAGVAR(lt_prog_compiler_no_builtin_flag, $1) \
    _LT_AC_TAGVAR(export_dynamic_flag_spec, $1) \
    _LT_AC_TAGVAR(thread_safe_flag_spec, $1) \
    _LT_AC_TAGVAR(whole_archive_flag_spec, $1) \
    _LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1) \
    _LT_AC_TAGVAR(old_archive_cmds, $1) \
    _LT_AC_TAGVAR(old_archive_from_new_cmds, $1) \
    _LT_AC_TAGVAR(predep_objects, $1) \
    _LT_AC_TAGVAR(postdep_objects, $1) \
    _LT_AC_TAGVAR(predeps, $1) \
    _LT_AC_TAGVAR(postdeps, $1) \
    _LT_AC_TAGVAR(compiler_lib_search_path, $1) \
    _LT_AC_TAGVAR(archive_cmds, $1) \
    _LT_AC_TAGVAR(archive_expsym_cmds, $1) \
    _LT_AC_TAGVAR(postinstall_cmds, $1) \
    _LT_AC_TAGVAR(postuninstall_cmds, $1) \
    _LT_AC_TAGVAR(old_archive_from_expsyms_cmds, $1) \
    _LT_AC_TAGVAR(allow_undefined_flag, $1) \
    _LT_AC_TAGVAR(no_undefined_flag, $1) \
    _LT_AC_TAGVAR(export_symbols_cmds, $1) \
    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1) \
    _LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1) \
    _LT_AC_TAGVAR(hardcode_libdir_separator, $1) \
    _LT_AC_TAGVAR(hardcode_automatic, $1) \
    _LT_AC_TAGVAR(module_cmds, $1) \
    _LT_AC_TAGVAR(module_expsym_cmds, $1) \
    _LT_AC_TAGVAR(lt_cv_prog_compiler_c_o, $1) \
    _LT_AC_TAGVAR(exclude_expsyms, $1) \
    _LT_AC_TAGVAR(include_expsyms, $1); do

    case $var in
    _LT_AC_TAGVAR(old_archive_cmds, $1) | \
    _LT_AC_TAGVAR(old_archive_from_new_cmds, $1) | \
    _LT_AC_TAGVAR(archive_cmds, $1) | \
    _LT_AC_TAGVAR(archive_expsym_cmds, $1) | \
    _LT_AC_TAGVAR(module_cmds, $1) | \
    _LT_AC_TAGVAR(module_expsym_cmds, $1) | \
    _LT_AC_TAGVAR(old_archive_from_expsyms_cmds, $1) | \
    _LT_AC_TAGVAR(export_symbols_cmds, $1) | \
    extract_expsyms_cmds | reload_cmds | finish_cmds | \
    postinstall_cmds | postuninstall_cmds | \
    old_postinstall_cmds | old_postuninstall_cmds | \
    sys_lib_search_path_spec | sys_lib_dlsearch_path_spec)
      <span class="enscript-comment"># Double-quote double-evaled strings.
</span>      <span class="enscript-keyword">eval</span> &quot;lt_$var=\\\&quot;\`\$echo \&quot;X\$$var\&quot; | \$Xsed -e \&quot;\$double_quote_subst\&quot; -e \&quot;\$sed_quote_subst\&quot; -e \&quot;\$delay_variable_subst\&quot;\`\\\&quot;&quot;
      ;;
    *)
      <span class="enscript-keyword">eval</span> &quot;lt_$var=\\\&quot;\`\$echo \&quot;X\$$var\&quot; | \$Xsed -e \&quot;\$sed_quote_subst\&quot;\`\\\&quot;&quot;
      ;;
    esac
  done

  case $lt_echo in
  *'\[$]0 --fallback-echo&quot;')
    lt_echo=`$echo &quot;X$lt_echo&quot; | $Xsed -e 's/\\\\\\\[$]0 --fallback-echo&quot;[$]/[$]0 --fallback-echo&quot;/'`
    ;;
  esac

<span class="enscript-keyword">ifelse</span>([$1], [],
  [cfgfile=&quot;${ofile}T&quot;
  trap &quot;$rm \&quot;$cfgfile\&quot;; exit 1&quot; 1 2 15
  $rm -f &quot;$cfgfile&quot;
  AC_MSG_NOTICE([creating $ofile])],
  [cfgfile=&quot;$ofile&quot;])

  cat &lt;&lt;__EOF__ &gt;&gt; &quot;$cfgfile&quot;
<span class="enscript-keyword">ifelse</span>([$1], [],
[<span class="enscript-comment">#! $SHELL
</span>
<span class="enscript-comment"># `$echo &quot;$cfgfile&quot; | sed 's%^.*/%%'` - Provide generalized library-building support services.
</span><span class="enscript-comment"># Generated automatically by $PROGRAM (GNU $PACKAGE $VERSION$TIMESTAMP)
</span><span class="enscript-comment"># NOTE: Changes made to this file will be lost: look at ltmain.sh.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001
</span><span class="enscript-comment"># Free Software Foundation, Inc.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># This file is part of GNU Libtool:
</span><span class="enscript-comment"># Originally by Gordon Matzigkeit &lt;<a href="mailto:gord@gnu.ai.mit.edu">gord@gnu.ai.mit.edu</a>&gt;, 1996
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># This program is free software; you can redistribute it and/or modify
</span><span class="enscript-comment"># it under the terms of the GNU General Public License as published by
</span><span class="enscript-comment"># the Free Software Foundation; either version 2 of the License, or
</span><span class="enscript-comment"># (at your option) any later version.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># This program is distributed in the hope that it will be useful, but
</span><span class="enscript-comment"># WITHOUT ANY WARRANTY; without even the implied warranty of
</span><span class="enscript-comment"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
</span><span class="enscript-comment"># General Public License for more details.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># You should have received a copy of the GNU General Public License
</span><span class="enscript-comment"># along with this program; if not, write to the Free Software
</span><span class="enscript-comment"># Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># As a special exception to the GNU General Public License, if you
</span><span class="enscript-comment"># distribute this file as part of a program that contains a
</span><span class="enscript-comment"># configuration script generated by Autoconf, you may include it under
</span><span class="enscript-comment"># the same distribution terms that you use for the rest of that program.
</span>
<span class="enscript-comment"># A sed program that does not truncate output.
</span>SED=$lt_SED

<span class="enscript-comment"># Sed that helps us avoid accidentally triggering echo(1) options like -n.
</span>Xsed=&quot;$SED -e 1s/^X//&quot;

<span class="enscript-comment"># The HP-UX ksh and POSIX shell print the target directory to stdout
</span><span class="enscript-comment"># if CDPATH is set.
</span>(unset CDPATH) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; unset CDPATH

<span class="enscript-comment"># The names of the tagged configurations supported by this script.
</span>available_tags=

<span class="enscript-comment"># ### BEGIN LIBTOOL CONFIG],
</span>[<span class="enscript-comment"># ### BEGIN LIBTOOL TAG CONFIG: $tagname])
</span>
<span class="enscript-comment"># Libtool was configured on host `(hostname || uname -n) 2&gt;/dev/null | sed 1q`:
</span>
<span class="enscript-comment"># Shell to use when invoking shell scripts.
</span>SHELL=$lt_SHELL

<span class="enscript-comment"># Whether or not to build shared libraries.
</span>build_libtool_libs=$enable_shared

<span class="enscript-comment"># Whether or not to build static libraries.
</span>build_old_libs=$enable_static

<span class="enscript-comment"># Whether or not to add -lc for building shared libraries.
</span>build_libtool_need_lc=$_LT_AC_TAGVAR(archive_cmds_need_lc, $1)

<span class="enscript-comment"># Whether or not to disallow shared libs when runtime libs are static
</span>allow_libtool_libs_with_static_runtimes=$_LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)

<span class="enscript-comment"># Whether or not to optimize for fast installation.
</span>fast_install=$enable_fast_install

<span class="enscript-comment"># The host system.
</span>host_alias=$host_alias
host=$host
host_os=$host_os

<span class="enscript-comment"># The build system.
</span>build_alias=$build_alias
build=$build
build_os=$build_os

<span class="enscript-comment"># An echo program that does not interpret backslashes.
</span>echo=$lt_echo

<span class="enscript-comment"># The archiver.
</span>AR=$lt_AR
AR_FLAGS=$lt_AR_FLAGS

<span class="enscript-comment"># A C compiler.
</span>LTCC=$lt_LTCC

<span class="enscript-comment"># LTCC compiler flags.
</span>LTCFLAGS=$lt_LTCFLAGS

<span class="enscript-comment"># A language-specific compiler.
</span>CC=$lt_[]_LT_AC_TAGVAR(compiler, $1)

<span class="enscript-comment"># Is the compiler the GNU C compiler?
</span>with_gcc=$_LT_AC_TAGVAR(GCC, $1)

<span class="enscript-comment"># An ERE matcher.
</span>EGREP=$lt_EGREP

<span class="enscript-comment"># The linker used to build libraries.
</span>LD=$lt_[]_LT_AC_TAGVAR(LD, $1)

<span class="enscript-comment"># Whether we need hard or soft links.
</span>LN_S=$lt_LN_S

<span class="enscript-comment"># A BSD-compatible nm program.
</span>NM=$lt_NM

<span class="enscript-comment"># A symbol stripping program
</span>STRIP=$lt_STRIP

<span class="enscript-comment"># Used to examine libraries when file_magic_cmd begins &quot;file&quot;
</span>MAGIC_CMD=$MAGIC_CMD

<span class="enscript-comment"># Used on cygwin: DLL creation program.
</span>DLLTOOL=&quot;$DLLTOOL&quot;

<span class="enscript-comment"># Used on cygwin: object dumper.
</span>OBJDUMP=&quot;$OBJDUMP&quot;

<span class="enscript-comment"># Used on cygwin: assembler.
</span>AS=&quot;$AS&quot;

<span class="enscript-comment"># The name of the directory that contains temporary libtool files.
</span>objdir=$objdir

<span class="enscript-comment"># How to create reloadable object files.
</span>reload_flag=$lt_reload_flag
reload_cmds=$lt_reload_cmds

<span class="enscript-comment"># How to pass a linker flag through the compiler.
</span>wl=$lt_[]_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)

<span class="enscript-comment"># Object file suffix (normally &quot;o&quot;).
</span>objext=&quot;$ac_objext&quot;

<span class="enscript-comment"># Old archive suffix (normally &quot;a&quot;).
</span>libext=&quot;$libext&quot;

<span class="enscript-comment"># Shared library suffix (normally &quot;.so&quot;).
</span>shrext_cmds='$shrext_cmds'

<span class="enscript-comment"># Executable file suffix (normally &quot;&quot;).
</span>exeext=&quot;$exeext&quot;

<span class="enscript-comment"># Additional compiler flags for building library objects.
</span>pic_flag=$lt_[]_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)
pic_mode=$pic_mode

<span class="enscript-comment"># What is the maximum length of a command?
</span>max_cmd_len=$lt_cv_sys_max_cmd_len

<span class="enscript-comment"># Does compiler simultaneously support -c and -o options?
</span>compiler_c_o=$lt_[]_LT_AC_TAGVAR(lt_cv_prog_compiler_c_o, $1)

<span class="enscript-comment"># Must we lock files when doing compilation?
</span>need_locks=$lt_need_locks

<span class="enscript-comment"># Do we need the lib prefix for modules?
</span>need_lib_prefix=$need_lib_prefix

<span class="enscript-comment"># Do we need a version for libraries?
</span>need_version=$need_version

<span class="enscript-comment"># Whether dlopen is supported.
</span>dlopen_support=$enable_dlopen

<span class="enscript-comment"># Whether dlopen of programs is supported.
</span>dlopen_self=$enable_dlopen_self

<span class="enscript-comment"># Whether dlopen of statically linked programs is supported.
</span>dlopen_self_static=$enable_dlopen_self_static

<span class="enscript-comment"># Compiler flag to prevent dynamic linking.
</span>link_static_flag=$lt_[]_LT_AC_TAGVAR(lt_prog_compiler_static, $1)

<span class="enscript-comment"># Compiler flag to turn off builtin functions.
</span>no_builtin_flag=$lt_[]_LT_AC_TAGVAR(lt_prog_compiler_no_builtin_flag, $1)

<span class="enscript-comment"># Compiler flag to allow reflexive dlopens.
</span>export_dynamic_flag_spec=$lt_[]_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)

<span class="enscript-comment"># Compiler flag to generate shared objects directly from archives.
</span>whole_archive_flag_spec=$lt_[]_LT_AC_TAGVAR(whole_archive_flag_spec, $1)

<span class="enscript-comment"># Compiler flag to generate thread-safe objects.
</span>thread_safe_flag_spec=$lt_[]_LT_AC_TAGVAR(thread_safe_flag_spec, $1)

<span class="enscript-comment"># Library versioning type.
</span>version_type=$version_type

<span class="enscript-comment"># Format of library name prefix.
</span>libname_spec=$lt_libname_spec

<span class="enscript-comment"># List of archive names.  First name is the real one, the rest are links.
</span><span class="enscript-comment"># The last name is the one that the linker finds with -lNAME.
</span>library_names_spec=$lt_library_names_spec

<span class="enscript-comment"># The coded name of the library, if different from the real name.
</span>soname_spec=$lt_soname_spec

<span class="enscript-comment"># Commands used to build and install an old-style archive.
</span>RANLIB=$lt_RANLIB
old_archive_cmds=$lt_[]_LT_AC_TAGVAR(old_archive_cmds, $1)
old_postinstall_cmds=$lt_old_postinstall_cmds
old_postuninstall_cmds=$lt_old_postuninstall_cmds

<span class="enscript-comment"># Create an old-style archive from a shared archive.
</span>old_archive_from_new_cmds=$lt_[]_LT_AC_TAGVAR(old_archive_from_new_cmds, $1)

<span class="enscript-comment"># Create a temporary old-style archive to link instead of a shared archive.
</span>old_archive_from_expsyms_cmds=$lt_[]_LT_AC_TAGVAR(old_archive_from_expsyms_cmds, $1)

<span class="enscript-comment"># Commands used to build and install a shared archive.
</span>archive_cmds=$lt_[]_LT_AC_TAGVAR(archive_cmds, $1)
archive_expsym_cmds=$lt_[]_LT_AC_TAGVAR(archive_expsym_cmds, $1)
postinstall_cmds=$lt_postinstall_cmds
postuninstall_cmds=$lt_postuninstall_cmds

<span class="enscript-comment"># Commands used to build a loadable module (assumed same as above if empty)
</span>module_cmds=$lt_[]_LT_AC_TAGVAR(module_cmds, $1)
module_expsym_cmds=$lt_[]_LT_AC_TAGVAR(module_expsym_cmds, $1)

<span class="enscript-comment"># Commands to strip libraries.
</span>old_striplib=$lt_old_striplib
striplib=$lt_striplib

<span class="enscript-comment"># Dependencies to place before the objects being linked to create a
</span><span class="enscript-comment"># shared library.
</span>predep_objects=$lt_[]_LT_AC_TAGVAR(predep_objects, $1)

<span class="enscript-comment"># Dependencies to place after the objects being linked to create a
</span><span class="enscript-comment"># shared library.
</span>postdep_objects=$lt_[]_LT_AC_TAGVAR(postdep_objects, $1)

<span class="enscript-comment"># Dependencies to place before the objects being linked to create a
</span><span class="enscript-comment"># shared library.
</span>predeps=$lt_[]_LT_AC_TAGVAR(predeps, $1)

<span class="enscript-comment"># Dependencies to place after the objects being linked to create a
</span><span class="enscript-comment"># shared library.
</span>postdeps=$lt_[]_LT_AC_TAGVAR(postdeps, $1)

<span class="enscript-comment"># The library search path used internally by the compiler when linking
</span><span class="enscript-comment"># a shared library.
</span>compiler_lib_search_path=$lt_[]_LT_AC_TAGVAR(compiler_lib_search_path, $1)

<span class="enscript-comment"># Method to check whether dependent libraries are shared objects.
</span>deplibs_check_method=$lt_deplibs_check_method

<span class="enscript-comment"># Command to use when deplibs_check_method == file_magic.
</span>file_magic_cmd=$lt_file_magic_cmd

<span class="enscript-comment"># Flag that allows shared libraries with undefined symbols to be built.
</span>allow_undefined_flag=$lt_[]_LT_AC_TAGVAR(allow_undefined_flag, $1)

<span class="enscript-comment"># Flag that forces no undefined symbols.
</span>no_undefined_flag=$lt_[]_LT_AC_TAGVAR(no_undefined_flag, $1)

<span class="enscript-comment"># Commands used to finish a libtool library installation in a directory.
</span>finish_cmds=$lt_finish_cmds

<span class="enscript-comment"># Same as above, but a single script fragment to be evaled but not shown.
</span>finish_eval=$lt_finish_eval

<span class="enscript-comment"># Take the output of nm and produce a listing of raw symbols and C names.
</span>global_symbol_pipe=$lt_lt_cv_sys_global_symbol_pipe

<span class="enscript-comment"># Transform the output of nm in a proper C declaration
</span>global_symbol_to_cdecl=$lt_lt_cv_sys_global_symbol_to_cdecl

<span class="enscript-comment"># Transform the output of nm in a C name address pair
</span>global_symbol_to_c_name_address=$lt_lt_cv_sys_global_symbol_to_c_name_address

<span class="enscript-comment"># This is the shared library runtime path variable.
</span>runpath_var=$runpath_var

<span class="enscript-comment"># This is the shared library path variable.
</span>shlibpath_var=$shlibpath_var

<span class="enscript-comment"># Is shlibpath searched before the hard-coded library search path?
</span>shlibpath_overrides_runpath=$shlibpath_overrides_runpath

<span class="enscript-comment"># How to hardcode a shared library path into an executable.
</span>hardcode_action=$_LT_AC_TAGVAR(hardcode_action, $1)

<span class="enscript-comment"># Whether we should hardcode library paths into libraries.
</span>hardcode_into_libs=$hardcode_into_libs

<span class="enscript-comment"># Flag to hardcode \$libdir into a binary during linking.
</span><span class="enscript-comment"># This must work even if \$libdir does not exist.
</span>hardcode_libdir_flag_spec=$lt_[]_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)

<span class="enscript-comment"># If ld is used when linking, flag to hardcode \$libdir into
</span><span class="enscript-comment"># a binary during linking. This must work even if \$libdir does
</span><span class="enscript-comment"># not exist.
</span>hardcode_libdir_flag_spec_ld=$lt_[]_LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)

<span class="enscript-comment"># Whether we need a single -rpath flag with a separated argument.
</span>hardcode_libdir_separator=$lt_[]_LT_AC_TAGVAR(hardcode_libdir_separator, $1)

<span class="enscript-comment"># Set to yes if using DIR/libNAME${shared_ext} during linking hardcodes DIR into the
</span><span class="enscript-comment"># resulting binary.
</span>hardcode_direct=$_LT_AC_TAGVAR(hardcode_direct, $1)

<span class="enscript-comment"># Set to yes if using the -LDIR flag during linking hardcodes DIR into the
</span><span class="enscript-comment"># resulting binary.
</span>hardcode_minus_L=$_LT_AC_TAGVAR(hardcode_minus_L, $1)

<span class="enscript-comment"># Set to yes if using SHLIBPATH_VAR=DIR during linking hardcodes DIR into
</span><span class="enscript-comment"># the resulting binary.
</span>hardcode_shlibpath_var=$_LT_AC_TAGVAR(hardcode_shlibpath_var, $1)

<span class="enscript-comment"># Set to yes if building a shared library automatically hardcodes DIR into the library
</span><span class="enscript-comment"># and all subsequent libraries and executables linked against it.
</span>hardcode_automatic=$_LT_AC_TAGVAR(hardcode_automatic, $1)

<span class="enscript-comment"># Variables whose values should be saved in libtool wrapper scripts and
</span><span class="enscript-comment"># restored at relink time.
</span>variables_saved_for_relink=&quot;$variables_saved_for_relink&quot;

<span class="enscript-comment"># Whether libtool must link a program against all its dependency libraries.
</span>link_all_deplibs=$_LT_AC_TAGVAR(link_all_deplibs, $1)

<span class="enscript-comment"># Compile-time system search path for libraries
</span>sys_lib_search_path_spec=$lt_sys_lib_search_path_spec

<span class="enscript-comment"># Run-time system search path for libraries
</span>sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec

<span class="enscript-comment"># Fix the shell variable \$srcfile for the compiler.
</span>fix_srcfile_path=&quot;$_LT_AC_TAGVAR(fix_srcfile_path, $1)&quot;

<span class="enscript-comment"># Set to yes if exported symbols are required.
</span>always_export_symbols=$_LT_AC_TAGVAR(always_export_symbols, $1)

<span class="enscript-comment"># The commands to list exported symbols.
</span>export_symbols_cmds=$lt_[]_LT_AC_TAGVAR(export_symbols_cmds, $1)

<span class="enscript-comment"># The commands to extract the exported symbol list from a shared archive.
</span>extract_expsyms_cmds=$lt_extract_expsyms_cmds

<span class="enscript-comment"># Symbols that should not be listed in the preloaded symbols.
</span>exclude_expsyms=$lt_[]_LT_AC_TAGVAR(exclude_expsyms, $1)

<span class="enscript-comment"># Symbols that must always be exported.
</span>include_expsyms=$lt_[]_LT_AC_TAGVAR(include_expsyms, $1)

<span class="enscript-keyword">ifelse</span>([$1],[],
[<span class="enscript-comment"># ### END LIBTOOL CONFIG],
</span>[<span class="enscript-comment"># ### END LIBTOOL TAG CONFIG: $tagname])
</span>
__EOF__

<span class="enscript-keyword">ifelse</span>([$1],[], [
  case $host_os in
  aix3*)
    cat &lt;&lt;\EOF &gt;&gt; &quot;$cfgfile&quot;

<span class="enscript-comment"># AIX sometimes has problems with the GCC collect2 program.  For some
</span><span class="enscript-comment"># reason, if we set the COLLECT_NAMES environment variable, the problems
</span><span class="enscript-comment"># vanish in a puff of smoke.
</span>if test &quot;X${COLLECT_NAMES+set}&quot; != Xset; then
  COLLECT_NAMES=
  export COLLECT_NAMES
fi
EOF
    ;;
  esac

  <span class="enscript-comment"># We use sed instead of cat because bash on DJGPP gets confused if
</span>  <span class="enscript-comment"># if finds mixed CR/LF and LF-only lines.  Since sed operates in
</span>  <span class="enscript-comment"># text mode, it properly converts lines to CR/LF.  This bash problem
</span>  <span class="enscript-comment"># is reportedly fixed, but why not run on old versions too?
</span>  sed '$q' &quot;$ltmain&quot; &gt;&gt; &quot;$cfgfile&quot; || (rm -f &quot;$cfgfile&quot;; exit 1)

  mv -f &quot;$cfgfile&quot; &quot;$ofile&quot; || \
    (rm -f &quot;$ofile&quot; &amp;&amp; cp &quot;$cfgfile&quot; &quot;$ofile&quot; &amp;&amp; rm -f &quot;$cfgfile&quot;)
  chmod +x &quot;$ofile&quot;
])
else
  <span class="enscript-comment"># If there is no Makefile yet, we rely on a make rule to execute
</span>  <span class="enscript-comment"># `config.status --recheck' to rerun these tests and create the
</span>  <span class="enscript-comment"># libtool script then.
</span>  ltmain_in=`echo $ltmain | sed -e 's/\.sh$/.in/'`
  if test -f &quot;$ltmain_in&quot;; then
    test -f Makefile &amp;&amp; make &quot;$ltmain&quot;
  fi
fi
])<span class="enscript-comment"># AC_LIBTOOL_CONFIG
</span>

<span class="enscript-comment"># AC_LIBTOOL_PROG_COMPILER_NO_RTTI([TAGNAME])
</span><span class="enscript-comment"># -------------------------------------------
</span>AC_DEFUN([AC_LIBTOOL_PROG_COMPILER_NO_RTTI],
[AC_REQUIRE([_LT_AC_SYS_COMPILER])<span class="enscript-comment">dnl
</span>
_LT_AC_TAGVAR(lt_prog_compiler_no_builtin_flag, $1)=

if test &quot;$GCC&quot; = yes; then
  _LT_AC_TAGVAR(lt_prog_compiler_no_builtin_flag, $1)=' -fno-builtin'

  AC_LIBTOOL_COMPILER_OPTION([if $compiler supports -fno-rtti -fno-exceptions],
    lt_cv_prog_compiler_rtti_exceptions,
    [-fno-rtti -fno-exceptions], [],
    [_LT_AC_TAGVAR(lt_prog_compiler_no_builtin_flag, $1)=&quot;$_LT_AC_TAGVAR(lt_prog_compiler_no_builtin_flag, $1) -fno-rtti -fno-exceptions&quot;])
fi
])<span class="enscript-comment"># AC_LIBTOOL_PROG_COMPILER_NO_RTTI
</span>

<span class="enscript-comment"># AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE
</span><span class="enscript-comment"># ---------------------------------
</span>AC_DEFUN([AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE],
[AC_REQUIRE([AC_CANONICAL_HOST])
AC_REQUIRE([AC_PROG_NM])
AC_REQUIRE([AC_OBJEXT])
<span class="enscript-comment"># Check for command to grab the raw symbol name followed by C symbol from nm.
</span>AC_MSG_CHECKING([command to parse $NM output from $compiler object])
AC_CACHE_VAL([lt_cv_sys_global_symbol_pipe],
[
<span class="enscript-comment"># These are sane defaults that work on at least a few old systems.
</span><span class="enscript-comment"># [They come from Ultrix.  What could be older than Ultrix?!! ;)]
</span>
<span class="enscript-comment"># Character class describing NM global symbol codes.
</span>symcode='[[BCDEGRST]]'

<span class="enscript-comment"># Regexp to match symbols that can be accessed directly from C.
</span>sympat='\([[_A-Za-z]][[_A-Za-z0-9]]*\)'

<span class="enscript-comment"># Transform an extracted symbol line into a proper C declaration
</span>lt_cv_sys_global_symbol_to_cdecl=&quot;sed -n -e 's/^. .* \(.*\)$/extern int \1;/p'&quot;

<span class="enscript-comment"># Transform an extracted symbol line into symbol name and symbol address
</span>lt_cv_sys_global_symbol_to_c_name_address=&quot;sed -n -e 's/^: \([[^ ]]*\) $/  {\\\&quot;\1\\\&quot;, (lt_ptr) 0},/p' -e 's/^$symcode \([[^ ]]*\) \([[^ ]]*\)$/  {\&quot;\2\&quot;, (lt_ptr) \&amp;\2},/p'&quot;

<span class="enscript-comment"># Define system-specific variables.
</span>case $host_os in
aix*)
  symcode='[[BCDT]]'
  ;;
cygwin* | mingw* | pw32*)
  symcode='[[ABCDGISTW]]'
  ;;
hpux*) <span class="enscript-comment"># Its linker distinguishes data from code symbols
</span>  if test &quot;$host_cpu&quot; = ia64; then
    symcode='[[ABCDEGRST]]'
  fi
  lt_cv_sys_global_symbol_to_cdecl=&quot;sed -n -e 's/^T .* \(.*\)$/extern int \1();/p' -e 's/^$symcode* .* \(.*\)$/extern char \1;/p'&quot;
  lt_cv_sys_global_symbol_to_c_name_address=&quot;sed -n -e 's/^: \([[^ ]]*\) $/  {\\\&quot;\1\\\&quot;, (lt_ptr) 0},/p' -e 's/^$symcode* \([[^ ]]*\) \([[^ ]]*\)$/  {\&quot;\2\&quot;, (lt_ptr) \&amp;\2},/p'&quot;
  ;;
linux*)
  if test &quot;$host_cpu&quot; = ia64; then
    symcode='[[ABCDGIRSTW]]'
<span class="enscript-string">    lt_cv_sys_global_symbol_to_cdecl=&quot;sed -n -e '</span>s/^T .* \(.*\)$/extern int \1();/p' -e 's/^$symcode* .* \(.*\)$/extern char \1;/p'&quot;
    lt_cv_sys_global_symbol_to_c_name_address=&quot;sed -n -e 's/^: \([[^ ]]*\) $/  {\\\&quot;\1\\\&quot;, (lt_ptr) 0},/p' -e 's/^$symcode* \([[^ ]]*\) \([[^ ]]*\)$/  {\&quot;\2\&quot;, (lt_ptr) \&amp;\2},/p'&quot;
  fi
  ;;
irix* | nonstopux*)
  symcode='[[BCDEGRST]]'
  ;;
osf*)
  symcode='[[BCDEGQRST]]'
  ;;
solaris*)
  symcode='[[BDRT]]'
  ;;
sco3.2v5*)
  symcode='[[DT]]'
  ;;
sysv4.2uw2*)
  symcode='[[DT]]'
  ;;
sysv5* | sco5v6* | unixware* | OpenUNIX*)
  symcode='[[ABDT]]'
  ;;
sysv4)
  symcode='[[DFNSTU]]'
  ;;
esac

<span class="enscript-comment"># Handle CRLF in mingw tool chain
</span>opt_cr=
case $build_os in
mingw*)
  opt_cr=`echo 'x\{0,1\}' | tr x '\015'` <span class="enscript-comment"># option cr in regexp
</span>  ;;
esac

<span class="enscript-comment"># If we're using GNU nm, then use its standard symbol codes.
</span>case `$NM -V 2&gt;&amp;1` in
*GNU* | *'with BFD'*)
  symcode='[[ABCDGIRSTW]]' ;;
esac

<span class="enscript-comment"># Try without a prefix undercore, then with it.
</span>for ac_symprfx in &quot;&quot; &quot;_&quot;; do

  <span class="enscript-comment"># Transform symcode, sympat, and symprfx into a raw symbol and a C symbol.
</span>  symxfrm=&quot;\\1 $ac_symprfx\\2 \\2&quot;

  <span class="enscript-comment"># Write the raw and C identifiers.
</span>  lt_cv_sys_global_symbol_pipe=&quot;sed -n -e 's/^.*[[ 	]]\($symcode$symcode*\)[[ 	]][[ 	]]*$ac_symprfx$sympat$opt_cr$/$symxfrm/p'&quot;

  <span class="enscript-comment"># Check to see that the pipe works correctly.
</span>  pipe_works=no

  rm -f conftest*
  cat &gt; conftest.$ac_ext &lt;&lt;EOF
<span class="enscript-comment">#ifdef __cplusplus
</span>extern &quot;C&quot; {
<span class="enscript-comment">#endif
</span>char nm_test_var;
void nm_test_func(){}
<span class="enscript-comment">#ifdef __cplusplus
</span>}
<span class="enscript-comment">#endif
</span>int main(){nm_test_var='a';nm_test_func();return(0);}
EOF

  if AC_TRY_EVAL(ac_compile); then
    <span class="enscript-comment"># Now try to grab the symbols.
</span>    nlist=conftest.nm
    if AC_TRY_EVAL(NM conftest.$ac_objext \| $lt_cv_sys_global_symbol_pipe \&gt; $nlist) &amp;&amp; test -s &quot;$nlist&quot;; then
      <span class="enscript-comment"># Try sorting and uniquifying the output.
</span>      if sort &quot;$nlist&quot; | uniq &gt; &quot;$nlist&quot;T; then
	mv -f &quot;$nlist&quot;T &quot;$nlist&quot;
      else
	rm -f &quot;$nlist&quot;T
      fi

      <span class="enscript-comment"># Make sure that we snagged all the symbols we need.
</span>      if grep ' nm_test_var$' &quot;$nlist&quot; &gt;/dev/null; then
	if grep ' nm_test_func$' &quot;$nlist&quot; &gt;/dev/null; then
	  cat &lt;&lt;EOF &gt; conftest.$ac_ext
<span class="enscript-comment">#ifdef __cplusplus
</span>extern &quot;C&quot; {
<span class="enscript-comment">#endif
</span>
EOF
	  <span class="enscript-comment"># Now generate the symbol file.
</span>	  <span class="enscript-keyword">eval</span> &quot;$lt_cv_sys_global_symbol_to_cdecl&quot;' &lt; &quot;$nlist&quot; | grep -v main &gt;&gt; conftest.$ac_ext'

	  cat &lt;&lt;EOF &gt;&gt; conftest.$ac_ext
<span class="enscript-comment">#if defined (__STDC__) &amp;&amp; __STDC__
</span><span class="enscript-comment"># define lt_ptr_t void *
</span><span class="enscript-comment">#else
</span><span class="enscript-comment"># define lt_ptr_t char *
</span><span class="enscript-comment"># define const
</span><span class="enscript-comment">#endif
</span>
/* The mapping between symbol names and symbols. */
const struct {
  const char *name;
  lt_ptr_t address;
}
lt_preloaded_symbols[[]] =
{
EOF
	  $SED &quot;s/^$symcode$symcode* \(.*\) \(.*\)$/  {\&quot;\2\&quot;, (lt_ptr_t) \&amp;\2},/&quot; &lt; &quot;$nlist&quot; | grep -v main &gt;&gt; conftest.$ac_ext
	  cat &lt;&lt;\EOF &gt;&gt; conftest.$ac_ext
  {0, (lt_ptr_t) 0}
};

<span class="enscript-comment">#ifdef __cplusplus
</span>}
<span class="enscript-comment">#endif
</span>EOF
	  <span class="enscript-comment"># Now try linking the two files.
</span>	  mv conftest.$ac_objext conftstm.$ac_objext
	  lt_save_LIBS=&quot;$LIBS&quot;
	  lt_save_CFLAGS=&quot;$CFLAGS&quot;
	  LIBS=&quot;conftstm.$ac_objext&quot;
	  CFLAGS=&quot;$CFLAGS$_LT_AC_TAGVAR(lt_prog_compiler_no_builtin_flag, $1)&quot;
	  if AC_TRY_EVAL(ac_link) &amp;&amp; test -s conftest${ac_exeext}; then
	    pipe_works=yes
	  fi
	  LIBS=&quot;$lt_save_LIBS&quot;
	  CFLAGS=&quot;$lt_save_CFLAGS&quot;
	else
	  echo &quot;cannot find nm_test_func in $nlist&quot; &gt;&amp;AS_MESSAGE_LOG_FD
	fi
      else
	echo &quot;cannot find nm_test_var in $nlist&quot; &gt;&amp;AS_MESSAGE_LOG_FD
      fi
    else
      echo &quot;cannot run $lt_cv_sys_global_symbol_pipe&quot; &gt;&amp;AS_MESSAGE_LOG_FD
    fi
  else
    echo &quot;$progname: failed program was:&quot; &gt;&amp;AS_MESSAGE_LOG_FD
    cat conftest.$ac_ext &gt;&amp;5
  fi
  rm -f conftest* conftst*

  <span class="enscript-comment"># Do not use the global_symbol_pipe unless it works.
</span>  if test &quot;$pipe_works&quot; = yes; then
    break
  else
    lt_cv_sys_global_symbol_pipe=
  fi
done
])
if test -z &quot;$lt_cv_sys_global_symbol_pipe&quot;; then
  lt_cv_sys_global_symbol_to_cdecl=
fi
if test -z &quot;$lt_cv_sys_global_symbol_pipe$lt_cv_sys_global_symbol_to_cdecl&quot;; then
  AC_MSG_RESULT(failed)
else
  AC_MSG_RESULT(ok)
fi
]) <span class="enscript-comment"># AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE
</span>

<span class="enscript-comment"># AC_LIBTOOL_PROG_COMPILER_PIC([TAGNAME])
</span><span class="enscript-comment"># ---------------------------------------
</span>AC_DEFUN([AC_LIBTOOL_PROG_COMPILER_PIC],
[_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)=
_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
_LT_AC_TAGVAR(lt_prog_compiler_static, $1)=

AC_MSG_CHECKING([for $compiler option to produce PIC])
 <span class="enscript-keyword">ifelse</span>([$1],[CXX],[
  <span class="enscript-comment"># C++ specific cases for pic, static, wl, etc.
</span>  if test &quot;$GXX&quot; = yes; then
    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'

    case $host_os in
    aix*)
      <span class="enscript-comment"># All AIX code is PIC.
</span>      if test &quot;$host_cpu&quot; = ia64; then
	<span class="enscript-comment"># AIX 5 now supports IA64 processor
</span>	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      fi
      ;;
    amigaos*)
      <span class="enscript-comment"># FIXME: we need at least 68020 code to build shared libraries, but
</span>      <span class="enscript-comment"># adding the `-m68020' flag to GCC prevents building anything better,
</span>      <span class="enscript-comment"># like `-m68040'.
</span>      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-m68020 -resident32 -malways-restore-a4'
      ;;
    beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)
      <span class="enscript-comment"># PIC is the default for these OSes.
</span>      ;;
    mingw* | cygwin* | os2* | pw32*)
      <span class="enscript-comment"># This hack is so that the source file can tell whether it is being
</span>      <span class="enscript-comment"># built for inclusion in a dll (and should export symbols for example).
</span>      <span class="enscript-comment"># Although the cygwin gcc ignores -fPIC, still need this for old-style
</span>      <span class="enscript-comment"># (--disable-auto-import) libraries
</span>      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'
      ;;
    darwin* | rhapsody*)
      <span class="enscript-comment"># PIC is the default on this platform
</span>      <span class="enscript-comment"># Common symbols not allowed in MH_DYLIB files
</span>      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fno-common'
      ;;
    *djgpp*)
      <span class="enscript-comment"># DJGPP does not support shared libraries at all
</span>      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
      ;;
    interix3*)
      <span class="enscript-comment"># Interix 3.x gcc -fpic/-fPIC options generate broken code.
</span>      <span class="enscript-comment"># Instead, we relocate shared libraries at runtime.
</span>      ;;
    sysv4*MP*)
      if test -d /usr/nec; then
	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=-Kconform_pic
      fi
      ;;
    hpux*)
      <span class="enscript-comment"># PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
</span>      <span class="enscript-comment"># not for PA HP-UX.
</span>      case $host_cpu in
      hppa*64*|ia64*)
	;;
      *)
	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
	;;
      esac
      ;;
    *)
      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
      ;;
    esac
  else
    case $host_os in
      aix4* | aix5*)
	<span class="enscript-comment"># All AIX code is PIC.
</span>	if test &quot;$host_cpu&quot; = ia64; then
	  <span class="enscript-comment"># AIX 5 now supports IA64 processor
</span>	  _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
	else
	  _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-bnso -bI:/lib/syscalls.exp'
	fi
	;;
      chorus*)
	case $cc_basename in
	cxch68*)
	  <span class="enscript-comment"># Green Hills C++ Compiler
</span>	  <span class="enscript-comment"># _LT_AC_TAGVAR(lt_prog_compiler_static, $1)=&quot;--no_auto_instantiation -u __main -u __premain -u _abort -r $COOL_DIR/lib/libOrb.a $MVME_DIR/lib/CC/libC.a $MVME_DIR/lib/classix/libcx.s.a&quot;
</span>	  ;;
	esac
	;;
       darwin*)
         <span class="enscript-comment"># PIC is the default on this platform
</span>         <span class="enscript-comment"># Common symbols not allowed in MH_DYLIB files
</span>         case $cc_basename in
           xlc*)
           _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-qnocommon'
           _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
           ;;
         esac
       ;;
      dgux*)
	case $cc_basename in
	  ec++*)
	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
	    ;;
	  ghcx*)
	    <span class="enscript-comment"># Green Hills C++ Compiler
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-pic'
	    ;;
	  *)
	    ;;
	esac
	;;
      freebsd* | kfreebsd*-gnu | dragonfly*)
	<span class="enscript-comment"># FreeBSD uses GNU C++
</span>	;;
      hpux9* | hpux10* | hpux11*)
	case $cc_basename in
	  CC*)
	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='${wl}-a ${wl}archive'
	    if test &quot;$host_cpu&quot; != ia64; then
	      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='+Z'
	    fi
	    ;;
	  aCC*)
	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='${wl}-a ${wl}archive'
	    case $host_cpu in
	    hppa*64*|ia64*)
	      <span class="enscript-comment"># +Z the default
</span>	      ;;
	    *)
	      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='+Z'
	      ;;
	    esac
	    ;;
	  *)
	    ;;
	esac
	;;
      interix*)
	<span class="enscript-comment"># This is c89, which is MS Visual C++ (no shared libs)
</span>	<span class="enscript-comment"># Anyone wants to do a port?
</span>	;;
      irix5* | irix6* | nonstopux*)
	case $cc_basename in
	  CC*)
	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'
	    <span class="enscript-comment"># CC pic flag -KPIC is the default.
</span>	    ;;
	  *)
	    ;;
	esac
	;;
      linux*)
	case $cc_basename in
	  KCC*)
	    <span class="enscript-comment"># KAI C++ Compiler
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='--backend -Wl,'
	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
	    ;;
	  icpc* | ecpc*)
	    <span class="enscript-comment"># Intel C++
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'
	    ;;
	  pgCC*)
	    <span class="enscript-comment"># Portland Group C++ compiler.
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fpic'
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
	    ;;
	  cxx*)
	    <span class="enscript-comment"># Compaq C++
</span>	    <span class="enscript-comment"># Make sure the PIC flag is empty.  It appears that all Alpha
</span>	    <span class="enscript-comment"># Linux and Compaq Tru64 Unix objects are PIC.
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'
	    ;;
	  *)
	    case `$CC -V 2&gt;&amp;1 | sed 5q` in
	    *Sun\ C*)
	      <span class="enscript-comment"># Sun C++ 5.9
</span>	      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
	      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
	      _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Qoption ld '
	      ;;
	    esac
	    ;;
	esac
	;;
      lynxos*)
	;;
      m88k*)
	;;
      mvs*)
	case $cc_basename in
	  cxx*)
	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-W c,exportall'
	    ;;
	  *)
	    ;;
	esac
	;;
      netbsd*)
	;;
      osf3* | osf4* | osf5*)
	case $cc_basename in
	  KCC*)
	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='--backend -Wl,'
	    ;;
	  RCC*)
	    <span class="enscript-comment"># Rational C++ 2.4.1
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-pic'
	    ;;
	  cxx*)
	    <span class="enscript-comment"># Digital/Compaq C++
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	    <span class="enscript-comment"># Make sure the PIC flag is empty.  It appears that all Alpha
</span>	    <span class="enscript-comment"># Linux and Compaq Tru64 Unix objects are PIC.
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'
	    ;;
	  *)
	    ;;
	esac
	;;
      psos*)
	;;
      solaris*)
	case $cc_basename in
	  CC*)
	    <span class="enscript-comment"># Sun C++ 4.2, 5.x and Centerline C++
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Qoption ld '
	    ;;
	  gcx*)
	    <span class="enscript-comment"># Green Hills C++ Compiler
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-PIC'
	    ;;
	  *)
	    ;;
	esac
	;;
      sunos4*)
	case $cc_basename in
	  CC*)
	    <span class="enscript-comment"># Sun C++ 4.x
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-pic'
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
	    ;;
	  lcc*)
	    <span class="enscript-comment"># Lucid
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-pic'
	    ;;
	  *)
	    ;;
	esac
	;;
      tandem*)
	case $cc_basename in
	  NCC*)
	    <span class="enscript-comment"># NonStop-UX NCC 3.20
</span>	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
	    ;;
	  *)
	    ;;
	esac
	;;
      sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)
	case $cc_basename in
	  CC*)
	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
	    ;;
	esac
	;;
      vxworks*)
	;;
      *)
	_LT_AC_TAGVAR(lt_prog_compiler_can_build_shared, $1)=no
	;;
    esac
  fi
],
[
  if test &quot;$GCC&quot; = yes; then
    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'

    case $host_os in
      aix*)
      <span class="enscript-comment"># All AIX code is PIC.
</span>      if test &quot;$host_cpu&quot; = ia64; then
	<span class="enscript-comment"># AIX 5 now supports IA64 processor
</span>	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      fi
      ;;

    amigaos*)
      <span class="enscript-comment"># FIXME: we need at least 68020 code to build shared libraries, but
</span>      <span class="enscript-comment"># adding the `-m68020' flag to GCC prevents building anything better,
</span>      <span class="enscript-comment"># like `-m68040'.
</span>      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-m68020 -resident32 -malways-restore-a4'
      ;;

    beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)
      <span class="enscript-comment"># PIC is the default for these OSes.
</span>      ;;

    mingw* | cygwin* | pw32* | os2*)
      <span class="enscript-comment"># This hack is so that the source file can tell whether it is being
</span>      <span class="enscript-comment"># built for inclusion in a dll (and should export symbols for example).
</span>      <span class="enscript-comment"># Although the cygwin gcc ignores -fPIC, still need this for old-style
</span>      <span class="enscript-comment"># (--disable-auto-import) libraries
</span>      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'
      ;;

    darwin* | rhapsody*)
      <span class="enscript-comment"># PIC is the default on this platform
</span>      <span class="enscript-comment"># Common symbols not allowed in MH_DYLIB files
</span>      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fno-common'
      ;;

    interix3*)
      <span class="enscript-comment"># Interix 3.x gcc -fpic/-fPIC options generate broken code.
</span>      <span class="enscript-comment"># Instead, we relocate shared libraries at runtime.
</span>      ;;

    msdosdjgpp*)
      <span class="enscript-comment"># Just because we use GCC doesn't mean we suddenly get shared libraries
</span>      <span class="enscript-comment"># on systems that don't support them.
</span>      _LT_AC_TAGVAR(lt_prog_compiler_can_build_shared, $1)=no
      enable_shared=no
      ;;

    sysv4*MP*)
      if test -d /usr/nec; then
	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=-Kconform_pic
      fi
      ;;

    hpux*)
      <span class="enscript-comment"># PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
</span>      <span class="enscript-comment"># not for PA HP-UX.
</span>      case $host_cpu in
      hppa*64*|ia64*)
	<span class="enscript-comment"># +Z the default
</span>	;;
      *)
	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
	;;
      esac
      ;;

    *)
      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
      ;;
    esac
  else
    <span class="enscript-comment"># PORTME Check for flag to pass linker flags through the system compiler.
</span>    case $host_os in
    aix*)
      _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
      if test &quot;$host_cpu&quot; = ia64; then
	<span class="enscript-comment"># AIX 5 now supports IA64 processor
</span>	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      else
	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-bnso -bI:/lib/syscalls.exp'
      fi
      ;;
      darwin*)
        <span class="enscript-comment"># PIC is the default on this platform
</span>        <span class="enscript-comment"># Common symbols not allowed in MH_DYLIB files
</span>       case $cc_basename in
         xlc*)
         _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-qnocommon'
         _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
         ;;
       esac
       ;;

    mingw* | cygwin* | pw32* | os2*)
      <span class="enscript-comment"># This hack is so that the source file can tell whether it is being
</span>      <span class="enscript-comment"># built for inclusion in a dll (and should export symbols for example).
</span>      <span class="enscript-comment"># Although the cygwin gcc ignores -fPIC, still need this for old-style
</span>      <span class="enscript-comment"># (--disable-auto-import) libraries
</span>      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'
      ;;

    hpux9* | hpux10* | hpux11*)
      _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
      <span class="enscript-comment"># PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
</span>      <span class="enscript-comment"># not for PA HP-UX.
</span>      case $host_cpu in
      hppa*64*|ia64*)
	<span class="enscript-comment"># +Z the default
</span>	;;
      *)
	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='+Z'
	;;
      esac
      <span class="enscript-comment"># Is there a better lt_prog_compiler_static that works with the bundled CC?
</span>      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='${wl}-a ${wl}archive'
      ;;

    irix5* | irix6* | nonstopux*)
      _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
      <span class="enscript-comment"># PIC (with -KPIC) is the default.
</span>      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'
      ;;

    newsos6)
      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      ;;

    linux*)
      case $cc_basename in
      icc* | ecc*)
	_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'
        ;;
      pgcc* | pgf77* | pgf90* | pgf95*)
        <span class="enscript-comment"># Portland Group compilers (*not* the Pentium gcc compiler,
</span>	<span class="enscript-comment"># which looks to be a dead project)
</span>	_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fpic'
	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
        ;;
      ccc*)
        _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
        <span class="enscript-comment"># All Alpha code is PIC.
</span>        _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'
        ;;
      como)
        _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-lopt='
        ;;
      *)
        case `$CC -V 2&gt;&amp;1 | sed 5q` in
	*Sun\ C*)
	  <span class="enscript-comment"># Sun C 5.9
</span>	  _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
	  _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
	  _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
	  ;;
	*Sun\ F*)
	  <span class="enscript-comment"># Sun Fortran 8.3 passes all unrecognized flags to the linker
</span>	  _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
	  _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
	  _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)=''
	  ;;
	esac
	;;
      esac
      ;;

    osf3* | osf4* | osf5*)
      _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
      <span class="enscript-comment"># All OSF/1 code is PIC.
</span>      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'
      ;;

    solaris*)
      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      case $cc_basename in
      f77* | f90* | f95*)
	_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Qoption ld ';;
      *)
	_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,';;
      esac
      ;;

    sunos4*)
      _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Qoption ld '
      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-PIC'
      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      ;;

    sysv4 | sysv4.2uw2* | sysv4.3*)
      _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      ;;

    sysv4*MP*)
      if test -d /usr/nec ;then
	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-Kconform_pic'
	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      fi
      ;;

    sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)
      _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      ;;

    unicos*)
      _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
      _LT_AC_TAGVAR(lt_prog_compiler_can_build_shared, $1)=no
      ;;

    uts4*)
      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-pic'
      _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
      ;;

    *)
      _LT_AC_TAGVAR(lt_prog_compiler_can_build_shared, $1)=no
      ;;
    esac
  fi
])
AC_MSG_RESULT([$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)])

<span class="enscript-comment">#
</span><span class="enscript-comment"># Check to make sure the PIC flag actually works.
</span><span class="enscript-comment">#
</span>if test -n &quot;$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)&quot;; then
  AC_LIBTOOL_COMPILER_OPTION([if $compiler PIC flag $_LT_AC_TAGVAR(lt_prog_compiler_pic, $1) works],
    _LT_AC_TAGVAR(lt_prog_compiler_pic_works, $1),
    [$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)<span class="enscript-keyword">ifelse</span>([$1],[],[ -DPIC],[<span class="enscript-keyword">ifelse</span>([$1],[CXX],[ -DPIC],[])])], [],
    [case $_LT_AC_TAGVAR(lt_prog_compiler_pic, $1) in
     &quot;&quot; | &quot; &quot;*) ;;
     *) _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=&quot; $_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)&quot; ;;
     esac],
    [_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
     _LT_AC_TAGVAR(lt_prog_compiler_can_build_shared, $1)=no])
fi
case $host_os in
  <span class="enscript-comment"># For platforms which do not support PIC, -DPIC is meaningless:
</span>  *djgpp*)
    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
    ;;
  *)
    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=&quot;$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)<span class="enscript-keyword">ifelse</span>([$1],[],[ -DPIC],[<span class="enscript-keyword">ifelse</span>([$1],[CXX],[ -DPIC],[])])&quot;
    ;;
esac

<span class="enscript-comment">#
</span><span class="enscript-comment"># Check to make sure the static flag actually works.
</span><span class="enscript-comment">#
</span>wl=$_LT_AC_TAGVAR(lt_prog_compiler_wl, $1) <span class="enscript-keyword">eval</span> lt_tmp_static_flag=\&quot;$_LT_AC_TAGVAR(lt_prog_compiler_static, $1)\&quot;
AC_LIBTOOL_LINKER_OPTION([if $compiler static flag $lt_tmp_static_flag works],
  _LT_AC_TAGVAR(lt_prog_compiler_static_works, $1),
  $lt_tmp_static_flag,
  [],
  [_LT_AC_TAGVAR(lt_prog_compiler_static, $1)=])
])


<span class="enscript-comment"># AC_LIBTOOL_PROG_LD_SHLIBS([TAGNAME])
</span><span class="enscript-comment"># ------------------------------------
</span><span class="enscript-comment"># See if the linker supports building shared libraries.
</span>AC_DEFUN([AC_LIBTOOL_PROG_LD_SHLIBS],
[AC_MSG_CHECKING([whether the $compiler linker ($LD) supports shared libraries])
<span class="enscript-keyword">ifelse</span>([$1],[CXX],[
<span class="enscript-string">  _LT_AC_TAGVAR(export_symbols_cmds, $1)='</span>$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq &gt; $export_symbols'
  case $host_os in
  aix4* | aix5*)
    <span class="enscript-comment"># If we're using GNU nm, then we don't want the &quot;-C&quot; option.
</span>    <span class="enscript-comment"># -C means demangle to AIX nm, but means don't demangle with GNU nm
</span>    if $NM -V 2&gt;&amp;1 | grep 'GNU' &gt; /dev/null; then
      _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM -Bpg $libobjs $convenience | awk '\''{ if (((\[$]2 == &quot;T&quot;) || (\[$]2 == &quot;D&quot;) || (\[$]2 == &quot;B&quot;)) &amp;&amp; ([<span class="enscript-keyword">substr</span>](\[$]3,1,1) != &quot;.&quot;)) { print \[$]3 } }'\'' | sort -u &gt; $export_symbols'
    else
      _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM -BCpg $libobjs $convenience | awk '\''{ if (((\[$]2 == &quot;T&quot;) || (\[$]2 == &quot;D&quot;) || (\[$]2 == &quot;B&quot;)) &amp;&amp; ([<span class="enscript-keyword">substr</span>](\[$]3,1,1) != &quot;.&quot;)) { print \[$]3 } }'\'' | sort -u &gt; $export_symbols'
    fi
    ;;
  pw32*)
    _LT_AC_TAGVAR(export_symbols_cmds, $1)=&quot;$ltdll_cmds&quot;
  ;;
  cygwin* | mingw*)
    _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[[BCDGRS]] /s/.* \([[^ ]]*\)/\1 DATA/;/^.* __nm__/s/^.* __nm__\([[^ ]]*\) [[^ ]]*/\1 DATA/;/^I /d;/^[[AITW]] /s/.* //'\'' | sort | uniq &gt; $export_symbols'
  ;;
  *)
    _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq &gt; $export_symbols'
  ;;
  esac
],[
  runpath_var=
  _LT_AC_TAGVAR(allow_undefined_flag, $1)=
  _LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=no
  _LT_AC_TAGVAR(archive_cmds, $1)=
  _LT_AC_TAGVAR(archive_expsym_cmds, $1)=
  _LT_AC_TAGVAR(old_archive_From_new_cmds, $1)=
  _LT_AC_TAGVAR(old_archive_from_expsyms_cmds, $1)=
  _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)=
  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=
  _LT_AC_TAGVAR(thread_safe_flag_spec, $1)=
  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)=
  _LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)=
  _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=
  _LT_AC_TAGVAR(hardcode_direct, $1)=no
  _LT_AC_TAGVAR(hardcode_minus_L, $1)=no
  _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=unsupported
  _LT_AC_TAGVAR(link_all_deplibs, $1)=unknown
  _LT_AC_TAGVAR(hardcode_automatic, $1)=no
  _LT_AC_TAGVAR(module_cmds, $1)=
  _LT_AC_TAGVAR(module_expsym_cmds, $1)=
  _LT_AC_TAGVAR(always_export_symbols, $1)=no
  _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq &gt; $export_symbols'
  <span class="enscript-comment"># include_expsyms should be a list of space-separated symbols to be *always*
</span>  <span class="enscript-comment"># included in the symbol list
</span>  _LT_AC_TAGVAR(include_expsyms, $1)=
  <span class="enscript-comment"># exclude_expsyms can be an extended regexp of symbols to exclude
</span>  <span class="enscript-comment"># it will be wrapped by ` (' and `)$', so one must not match beginning or
</span>  <span class="enscript-comment"># end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
</span>  <span class="enscript-comment"># as well as any symbol that contains `d'.
</span>  _LT_AC_TAGVAR(exclude_expsyms, $1)=&quot;_GLOBAL_OFFSET_TABLE_&quot;
  <span class="enscript-comment"># Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
</span>  <span class="enscript-comment"># platforms (ab)use it in PIC code, but their linkers get confused if
</span>  <span class="enscript-comment"># the symbol is explicitly referenced.  Since portable code cannot
</span>  <span class="enscript-comment"># rely on this symbol name, it's probably fine to never include it in
</span>  <span class="enscript-comment"># preloaded symbol tables.
</span>  extract_expsyms_cmds=
  <span class="enscript-comment"># Just being paranoid about ensuring that cc_basename is set.
</span>  _LT_CC_BASENAME([$compiler])
  case $host_os in
  cygwin* | mingw* | pw32*)
    <span class="enscript-comment"># FIXME: the MSVC++ port hasn't been tested in a loooong time
</span>    <span class="enscript-comment"># When not using gcc, we currently assume that we are using
</span>    <span class="enscript-comment"># Microsoft Visual C++.
</span>    if test &quot;$GCC&quot; != yes; then
      with_gnu_ld=no
    fi
    ;;
  interix*)
    <span class="enscript-comment"># we just hope/assume this is gcc and not c89 (= MSVC++)
</span>    with_gnu_ld=yes
    ;;
  openbsd*)
    with_gnu_ld=no
    ;;
  esac

  _LT_AC_TAGVAR(ld_shlibs, $1)=yes
  if test &quot;$with_gnu_ld&quot; = yes; then
    <span class="enscript-comment"># If archive_cmds runs LD, not CC, wlarc should be empty
</span>    wlarc='${wl}'

    <span class="enscript-comment"># Set some defaults for GNU ld with shared library support. These
</span>    <span class="enscript-comment"># are reset later if shared libraries are not supported. Putting them
</span>    <span class="enscript-comment"># here allows them to be overridden if necessary.
</span>    runpath_var=LD_RUN_PATH
    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}--rpath ${wl}$libdir'
    _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'
    <span class="enscript-comment"># ancient GNU ld didn't support --whole-archive et. al.
</span>    if $LD --help 2&gt;&amp;1 | grep 'no-whole-archive' &gt; /dev/null; then
	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)=&quot;$wlarc&quot;'--whole-archive$convenience '&quot;$wlarc&quot;'--no-whole-archive'
      else
  	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)=
    fi
    supports_anon_versioning=no
    case `$LD -v 2&gt;/dev/null` in
      *\ [[01]].* | *\ 2.[[0-9]].* | *\ 2.10.*) ;; <span class="enscript-comment"># catch versions &lt; 2.11
</span>      *\ 2.11.93.0.2\ *) supports_anon_versioning=yes ;; <span class="enscript-comment"># RH7.3 ...
</span>      *\ 2.11.92.0.12\ *) supports_anon_versioning=yes ;; <span class="enscript-comment"># Mandrake 8.2 ...
</span>      *\ 2.11.*) ;; <span class="enscript-comment"># other 2.11 versions
</span>      *) supports_anon_versioning=yes ;;
    esac

    <span class="enscript-comment"># See if GNU ld supports shared libraries.
</span>    case $host_os in
    aix3* | aix4* | aix5*)
      <span class="enscript-comment"># On AIX/PPC, the GNU linker is very broken
</span>      if test &quot;$host_cpu&quot; != ia64; then
	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	cat &lt;&lt;EOF 1&gt;&amp;2

*** Warning: the GNU linker, at least up to release 2.9.1, is reported
*** to be unable to reliably create shared libraries on AIX.
*** Therefore, libtool is disabling shared libraries support.  If you
*** really care for shared libraries, you may want to modify your PATH
*** so that a non-GNU linker is found, and then restart.

EOF
      fi
      ;;

    amigaos*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$rm $output_objdir/a2ixlibrary.data~$echo &quot;<span class="enscript-comment">#define NAME $libname&quot; &gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define LIBRARY_ID 1&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define VERSION $major&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define REVISION $revision&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir &amp;&amp; a2ixlibrary -32)'
</span>      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
      _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes

      <span class="enscript-comment"># Samuel A. Falvo II &lt;<a href="mailto:kc5tja@dolphin.openprojects.net">kc5tja@dolphin.openprojects.net</a>&gt; reports
</span>      <span class="enscript-comment"># that the semantics of dynamic libraries on AmigaOS, at least up
</span>      <span class="enscript-comment"># to version 4, is to share data among multiple programs linked
</span>      <span class="enscript-comment"># with the same dynamic library.  Since this doesn't match the
</span>      <span class="enscript-comment"># behavior of shared libraries on other platforms, we can't use
</span>      <span class="enscript-comment"># them.
</span>      _LT_AC_TAGVAR(ld_shlibs, $1)=no
      ;;

    beos*)
      if $LD --help 2&gt;&amp;1 | grep ': supported targets:.* elf' &gt; /dev/null; then
	_LT_AC_TAGVAR(allow_undefined_flag, $1)=unsupported
	<span class="enscript-comment"># Joseph Beckenbach &lt;<a href="mailto:jrb3@best.com">jrb3@best.com</a>&gt; says some releases of gcc
</span>	<span class="enscript-comment"># support --undefined.  This deserves some investigation.  FIXME
</span>	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -nostart $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
      else
	_LT_AC_TAGVAR(ld_shlibs, $1)=no
      fi
      ;;

    cygwin* | mingw* | pw32*)
      <span class="enscript-comment"># _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1) is actually meaningless,
</span>      <span class="enscript-comment"># as there is no search path for DLLs.
</span>      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
      _LT_AC_TAGVAR(allow_undefined_flag, $1)=unsupported
      _LT_AC_TAGVAR(always_export_symbols, $1)=no
      _LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=yes
      _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[[BCDGRS]] /s/.* \([[^ ]]*\)/\1 DATA/'\'' | $SED -e '\''/^[[AITW]] /s/.* //'\'' | sort | uniq &gt; $export_symbols'

      if $LD --help 2&gt;&amp;1 | grep 'auto-import' &gt; /dev/null; then
        _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
	<span class="enscript-comment"># If the export-symbols file already is a .def file (1st line
</span>	<span class="enscript-comment"># is EXPORTS), use it as is; otherwise, prepend...
</span>	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='if test &quot;x`$SED 1q $export_symbols`&quot; = xEXPORTS; then
	  cp $export_symbols $output_objdir/$soname.def;
	else
	  echo EXPORTS &gt; $output_objdir/$soname.def;
	  cat $export_symbols &gt;&gt; $output_objdir/$soname.def;
	fi~
	$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
      else
	_LT_AC_TAGVAR(ld_shlibs, $1)=no
      fi
      ;;

    interix3*)
      _LT_AC_TAGVAR(hardcode_direct, $1)=no
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
      _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
      <span class="enscript-comment"># Hack: On Interix 3.x, we cannot compile PIC because of a broken gcc.
</span>      <span class="enscript-comment"># Instead, shared libraries are loaded at an image base (0x10000000 by
</span>      <span class="enscript-comment"># default) and relocated if they conflict, which is a slow very memory
</span>      <span class="enscript-comment"># consuming and fragmenting process.  To avoid this, we pick a random,
</span>      <span class="enscript-comment"># 256 KiB-aligned image base between 0x50000000 and 0x6FFC0000 at link
</span>      <span class="enscript-comment"># time.  Moving up from 0x10000000 also allows more sbrk(2) space.
</span>      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
      _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed &quot;s,^,_,&quot; $export_symbols &gt;$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
      ;;

    linux*)
      if $LD --help 2&gt;&amp;1 | grep ': supported targets:.* elf' &gt; /dev/null; then
	tmp_addflag=
	case $cc_basename,$host_cpu in
	pgcc*)				<span class="enscript-comment"># Portland Group C compiler
</span>	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive`for conv in $convenience\&quot;\&quot;; do test  -n \&quot;$conv\&quot; &amp;&amp; new_convenience=\&quot;$new_convenience,$conv\&quot;; done; $echo \&quot;$new_convenience\&quot;` ${wl}--no-whole-archive'
	  tmp_addflag=' $pic_flag'
	  ;;
	pgf77* | pgf90* | pgf95*)	<span class="enscript-comment"># Portland Group f77 and f90 compilers
</span>	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive`for conv in $convenience\&quot;\&quot;; do test  -n \&quot;$conv\&quot; &amp;&amp; new_convenience=\&quot;$new_convenience,$conv\&quot;; done; $echo \&quot;$new_convenience\&quot;` ${wl}--no-whole-archive'
	  tmp_addflag=' $pic_flag -Mnomain' ;;
	ecc*,ia64* | icc*,ia64*)		<span class="enscript-comment"># Intel C compiler on ia64
</span>	  tmp_addflag=' -i_dynamic' ;;
	efc*,ia64* | ifort*,ia64*)	<span class="enscript-comment"># Intel Fortran compiler on ia64
</span>	  tmp_addflag=' -i_dynamic -nofor_main' ;;
	ifc* | ifort*)			<span class="enscript-comment"># Intel Fortran compiler
</span>	  tmp_addflag=' -nofor_main' ;;
	esac
	case `$CC -V 2&gt;&amp;1 | sed 5q` in
	*Sun\ C*)			<span class="enscript-comment"># Sun C 5.9
</span>	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive`new_convenience=; for conv in $convenience\&quot;\&quot;; do test -z \&quot;$conv\&quot; || new_convenience=\&quot;$new_convenience,$conv\&quot;; done; $echo \&quot;$new_convenience\&quot;` ${wl}--no-whole-archive /dev/null'
	  tmp_sharedflag='-G' ;;
	*Sun\ F*)			<span class="enscript-comment"># Sun Fortran 8.3
</span>	  tmp_sharedflag='-G' ;;
	*)
	  tmp_sharedflag='-shared' ;;
	esac
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC '&quot;$tmp_sharedflag&quot;&quot;$tmp_addflag&quot;' $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'

	if test $supports_anon_versioning = yes; then
	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$echo &quot;{ global:&quot; &gt; $output_objdir/$libname.ver~
  cat $export_symbols | sed -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $output_objdir/$libname.ver~
  $echo &quot;local: *; };&quot; &gt;&gt; $output_objdir/$libname.ver~
	  $CC '&quot;$tmp_sharedflag&quot;&quot;$tmp_addflag&quot;' $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-version-script ${wl}$output_objdir/$libname.ver -o $lib'
	fi
      else
	_LT_AC_TAGVAR(ld_shlibs, $1)=no
      fi
      ;;

    netbsd*)
      if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
	wlarc=
      else
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
      fi
      ;;

    solaris*)
      if $LD -v 2&gt;&amp;1 | grep 'BFD 2\.8' &gt; /dev/null; then
	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	cat &lt;&lt;EOF 1&gt;&amp;2

*** Warning: The releases 2.8.* of the GNU linker cannot reliably
*** create shared libraries on Solaris systems.  Therefore, libtool
*** is disabling shared libraries support.  We urge you to upgrade GNU
*** binutils to release 2.9.1 or newer.  Another option is to modify
*** your PATH or compiler configuration so that the native linker is
*** used, and then restart.

EOF
      elif $LD --help 2&gt;&amp;1 | grep ': supported targets:.* elf' &gt; /dev/null; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
      else
	_LT_AC_TAGVAR(ld_shlibs, $1)=no
      fi
      ;;

    sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX*)
      case `$LD -v 2&gt;&amp;1` in
        *\ [[01]].* | *\ 2.[[0-9]].* | *\ 2.1[[0-5]].*) 
	_LT_AC_TAGVAR(ld_shlibs, $1)=no
	cat &lt;&lt;_LT_EOF 1&gt;&amp;2

*** Warning: Releases of the GNU linker prior to 2.16.91.0.3 can not
*** reliably create shared libraries on SCO systems.  Therefore, libtool
*** is disabling shared libraries support.  We urge you to upgrade GNU
*** binutils to release 2.16.91.0.3 or newer.  Another option is to modify
*** your PATH or compiler configuration so that the native linker is
*** used, and then restart.

_LT_EOF
	;;
	*)
	  if $LD --help 2&gt;&amp;1 | grep ': supported targets:.* elf' &gt; /dev/null; then
	    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='`test -z &quot;$SCOABSPATH&quot; &amp;&amp; echo ${wl}-rpath,$libdir`'
	    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib'
	    _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname,-retain-symbols-file,$export_symbols -o $lib'
	  else
	    _LT_AC_TAGVAR(ld_shlibs, $1)=no
	  fi
	;;
      esac
      ;;

    sunos4*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
      wlarc=
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    *)
      if $LD --help 2&gt;&amp;1 | grep ': supported targets:.* elf' &gt; /dev/null; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
      else
	_LT_AC_TAGVAR(ld_shlibs, $1)=no
      fi
      ;;
    esac

    if test &quot;$_LT_AC_TAGVAR(ld_shlibs, $1)&quot; = no; then
      runpath_var=
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)=
      _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)=
      _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=
    fi
  else
    <span class="enscript-comment"># PORTME fill in a description of your system's linker (not GNU ld)
</span>    case $host_os in
    aix3*)
      _LT_AC_TAGVAR(allow_undefined_flag, $1)=unsupported
      _LT_AC_TAGVAR(always_export_symbols, $1)=yes
      _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$LD -o $output_objdir/$soname $libobjs $deplibs $linker_flags -bE:$export_symbols -T512 -H512 -bM:SRE~$AR $AR_FLAGS $lib $output_objdir/$soname'
      <span class="enscript-comment"># Note: this linker hardcodes the directories in LIBPATH if there
</span>      <span class="enscript-comment"># are no directories specified by -L.
</span>      _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
      if test &quot;$GCC&quot; = yes &amp;&amp; test -z &quot;$lt_prog_compiler_static&quot;; then
	<span class="enscript-comment"># Neither direct hardcoding nor static linking is supported with a
</span>	<span class="enscript-comment"># broken collect2.
</span>	_LT_AC_TAGVAR(hardcode_direct, $1)=unsupported
      fi
      ;;

    aix4* | aix5*)
      if test &quot;$host_cpu&quot; = ia64; then
	<span class="enscript-comment"># On IA64, the linker does run time linking by default, so we don't
</span>	<span class="enscript-comment"># have to do anything special.
</span>	aix_use_runtimelinking=no
	exp_sym_flag='-Bexport'
	no_entry_flag=&quot;&quot;
      else
	<span class="enscript-comment"># If we're using GNU nm, then we don't want the &quot;-C&quot; option.
</span>	<span class="enscript-comment"># -C means demangle to AIX nm, but means don't demangle with GNU nm
</span>	if $NM -V 2&gt;&amp;1 | grep 'GNU' &gt; /dev/null; then
	  _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM -Bpg $libobjs $convenience | awk '\''{ if (((\[$]2 == &quot;T&quot;) || (\[$]2 == &quot;D&quot;) || (\[$]2 == &quot;B&quot;)) &amp;&amp; ([<span class="enscript-keyword">substr</span>](\[$]3,1,1) != &quot;.&quot;)) { print \[$]3 } }'\'' | sort -u &gt; $export_symbols'
	else
	  _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM -BCpg $libobjs $convenience | awk '\''{ if (((\[$]2 == &quot;T&quot;) || (\[$]2 == &quot;D&quot;) || (\[$]2 == &quot;B&quot;)) &amp;&amp; ([<span class="enscript-keyword">substr</span>](\[$]3,1,1) != &quot;.&quot;)) { print \[$]3 } }'\'' | sort -u &gt; $export_symbols'
	fi
	aix_use_runtimelinking=no

	<span class="enscript-comment"># Test if we are trying to use run time linking or normal
</span>	<span class="enscript-comment"># AIX style linking. If -brtl is somewhere in LDFLAGS, we
</span>	<span class="enscript-comment"># need to do runtime linking.
</span>	case $host_os in aix4.[[23]]|aix4.[[23]].*|aix5*)
	  for ld_flag in $LDFLAGS; do
  	  if (test $ld_flag = &quot;-brtl&quot; || test $ld_flag = &quot;-Wl,-brtl&quot;); then
  	    aix_use_runtimelinking=yes
  	    break
  	  fi
	  done
	  ;;
	esac

	exp_sym_flag='-bexport'
	no_entry_flag='-bnoentry'
      fi

      <span class="enscript-comment"># When large executables or shared objects are built, AIX ld can
</span>      <span class="enscript-comment"># have problems creating the table of contents.  If linking a library
</span>      <span class="enscript-comment"># or program results in &quot;error TOC overflow&quot; add -mminimal-toc to
</span>      <span class="enscript-comment"># CXXFLAGS/CFLAGS for g++/gcc.  In the cases where that is not
</span>      <span class="enscript-comment"># enough to fix the problem, add -Wl,-bbigtoc to LDFLAGS.
</span>
      _LT_AC_TAGVAR(archive_cmds, $1)=''
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=':'
      _LT_AC_TAGVAR(link_all_deplibs, $1)=yes

      if test &quot;$GCC&quot; = yes; then
	case $host_os in aix4.[[012]]|aix4.[[012]].*)
	<span class="enscript-comment"># We only want to do this on AIX 4.2 and lower, the check
</span>	<span class="enscript-comment"># below for broken collect2 doesn't work under 4.3+
</span>	  collect2name=`${CC} -print-prog-name=collect2`
	  if test -f &quot;$collect2name&quot; &amp;&amp; \
  	   strings &quot;$collect2name&quot; | grep resolve_lib_name &gt;/dev/null
	  then
  	  <span class="enscript-comment"># We have reworked collect2
</span>  	  _LT_AC_TAGVAR(hardcode_direct, $1)=yes
	  else
  	  <span class="enscript-comment"># We have old collect2
</span>  	  _LT_AC_TAGVAR(hardcode_direct, $1)=unsupported
  	  <span class="enscript-comment"># It fails to find uninstalled libraries when the uninstalled
</span>  	  <span class="enscript-comment"># path is not listed in the libpath.  Setting hardcode_minus_L
</span>  	  <span class="enscript-comment"># to unsupported forces relinking
</span>  	  _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
  	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
  	  _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=
	  fi
	  ;;
	esac
	shared_flag='-shared'
	if test &quot;$aix_use_runtimelinking&quot; = yes; then
	  shared_flag=&quot;$shared_flag &quot;'${wl}-G'
	fi
      else
	<span class="enscript-comment"># not using gcc
</span>	if test &quot;$host_cpu&quot; = ia64; then
  	<span class="enscript-comment"># VisualAge C++, Version 5.5 for AIX 5L for IA-64, Beta 3 Release
</span>  	<span class="enscript-comment"># chokes on -Wl,-G. The following line is correct:
</span>	  shared_flag='-G'
	else
	  if test &quot;$aix_use_runtimelinking&quot; = yes; then
	    shared_flag='${wl}-G'
	  else
	    shared_flag='${wl}-bM:SRE'
	  fi
	fi
      fi

      <span class="enscript-comment"># It seems that -bexpall does not export symbols beginning with
</span>      <span class="enscript-comment"># underscore (_), so it is better to generate a list of symbols to export.
</span>      _LT_AC_TAGVAR(always_export_symbols, $1)=yes
      if test &quot;$aix_use_runtimelinking&quot; = yes; then
	<span class="enscript-comment"># Warning - without using the other runtime loading flags (-brtl),
</span>	<span class="enscript-comment"># -berok will link without error, but may produce a broken library.
</span>	_LT_AC_TAGVAR(allow_undefined_flag, $1)='-berok'
       <span class="enscript-comment"># Determine the default libpath from the value encoded in an empty executable.
</span>       _LT_AC_SYS_LIBPATH_AIX
       _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-blibpath:$libdir:'&quot;$aix_libpath&quot;
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)=&quot;\$CC&quot;' -o $output_objdir/$soname $libobjs $deplibs '&quot;\${wl}$no_entry_flag&quot;' $compiler_flags `if test &quot;x${allow_undefined_flag}&quot; != &quot;x&quot;; then echo &quot;${wl}${allow_undefined_flag}&quot;; else :; fi` '&quot;\${wl}$exp_sym_flag:\$export_symbols $shared_flag&quot;
       else
	if test &quot;$host_cpu&quot; = ia64; then
	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-R $libdir:/usr/lib:/lib'
	  _LT_AC_TAGVAR(allow_undefined_flag, $1)=&quot;-z nodefs&quot;
<span class="enscript-string">	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)=&quot;\$CC $shared_flag&quot;'</span> -o $output_objdir/$soname $libobjs $deplibs '&quot;\${wl}$no_entry_flag&quot;' $compiler_flags ${wl}${allow_undefined_flag} '&quot;\${wl}$exp_sym_flag:\$export_symbols&quot;
	else
	 <span class="enscript-comment"># Determine the default libpath from the value encoded in an empty executable.
</span>	 _LT_AC_SYS_LIBPATH_AIX
	 _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-blibpath:$libdir:'&quot;$aix_libpath&quot;
	  <span class="enscript-comment"># Warning - without using the other run time loading flags,
</span>	  <span class="enscript-comment"># -berok will link without error, but may produce a broken library.
</span>	  _LT_AC_TAGVAR(no_undefined_flag, $1)=' ${wl}-bernotok'
	  _LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-berok'
	  <span class="enscript-comment"># Exported symbols can be pulled into shared objects from archives
</span>	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='$convenience'
	  _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=yes
	  <span class="enscript-comment"># This is similar to how AIX traditionally builds its shared libraries.
</span>	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)=&quot;\$CC $shared_flag&quot;' -o $output_objdir/$soname $libobjs $deplibs ${wl}-bnoentry $compiler_flags ${wl}-bE:$export_symbols${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
	fi
      fi
      ;;

    amigaos*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$rm $output_objdir/a2ixlibrary.data~$echo &quot;<span class="enscript-comment">#define NAME $libname&quot; &gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define LIBRARY_ID 1&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define VERSION $major&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define REVISION $revision&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir &amp;&amp; a2ixlibrary -32)'
</span>      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
      _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
      <span class="enscript-comment"># see comment about different semantics on the GNU ld section
</span>      _LT_AC_TAGVAR(ld_shlibs, $1)=no
      ;;

    bsdi[[45]]*)
      _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)=-rdynamic
      ;;

    cygwin* | mingw* | pw32*)
      <span class="enscript-comment"># When not using gcc, we currently assume that we are using
</span>      <span class="enscript-comment"># Microsoft Visual C++.
</span>      <span class="enscript-comment"># hardcode_libdir_flag_spec is actually meaningless, as there is
</span>      <span class="enscript-comment"># no search path for DLLs.
</span>      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)=' '
      _LT_AC_TAGVAR(allow_undefined_flag, $1)=unsupported
      <span class="enscript-comment"># Tell ltmain to make .lib files, not .a files.
</span>      libext=lib
      <span class="enscript-comment"># Tell ltmain to make .dll files, not .so files.
</span>      shrext_cmds=&quot;.dll&quot;
      <span class="enscript-comment"># FIXME: Setting linknames here is a bad hack.
</span>      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -o $lib $libobjs $compiler_flags `echo &quot;$deplibs&quot; | $SED -e '\''s/ -lc$//'\''` -link -dll~linknames='
      <span class="enscript-comment"># The linker will automatically build a .lib file if we build a DLL.
</span>      _LT_AC_TAGVAR(old_archive_From_new_cmds, $1)='true'
      <span class="enscript-comment"># FIXME: Should let the user specify the lib program.
</span>      _LT_AC_TAGVAR(old_archive_cmds, $1)='lib /OUT:$oldlib$oldobjs$old_deplibs'
      _LT_AC_TAGVAR(fix_srcfile_path, $1)='`cygpath -w &quot;$srcfile&quot;`'
      _LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=yes
      ;;

    darwin* | rhapsody*)
      case $host_os in
        rhapsody* | darwin1.[[012]])
         _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'
         ;;
       *) <span class="enscript-comment"># Darwin 1.3 on
</span>         if test -z ${MACOSX_DEPLOYMENT_TARGET} ; then
           _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
         else
           case ${MACOSX_DEPLOYMENT_TARGET} in
             10.[[012]])
               _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
               ;;
             10.*)
               _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}dynamic_lookup'
               ;;
           esac
         fi
         ;;
      esac
      _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
      _LT_AC_TAGVAR(hardcode_direct, $1)=no
      _LT_AC_TAGVAR(hardcode_automatic, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=unsupported
      _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=''
      _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
    if test &quot;$GCC&quot; = yes ; then
    	output_verbose_link_cmd='echo'
        _LT_AC_TAGVAR(archive_cmds, $1)='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
      _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
      <span class="enscript-comment"># Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
</span>      _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e &quot;s,<span class="enscript-comment">#.*,,&quot; -e &quot;s,^[    ]*,,&quot; -e &quot;s,^\(..*\),_&amp;,&quot; &lt; $export_symbols &gt; $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
</span>      _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e &quot;s,<span class="enscript-comment">#.*,,&quot; -e &quot;s,^[    ]*,,&quot; -e &quot;s,^\(..*\),_&amp;,&quot; &lt; $export_symbols &gt; $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
</span>    else
      case $cc_basename in
        xlc*)
         output_verbose_link_cmd='echo'
         _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
         _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
          <span class="enscript-comment"># Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
</span>         _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e &quot;s,<span class="enscript-comment">#.*,,&quot; -e &quot;s,^[    ]*,,&quot; -e &quot;s,^\(..*\),_&amp;,&quot; &lt; $export_symbols &gt; $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
</span>          _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e &quot;s,<span class="enscript-comment">#.*,,&quot; -e &quot;s,^[    ]*,,&quot; -e &quot;s,^\(..*\),_&amp;,&quot; &lt; $export_symbols &gt; $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
</span>          ;;
       *)
         _LT_AC_TAGVAR(ld_shlibs, $1)=no
          ;;
      esac
    fi
      ;;

    dgux*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    freebsd1*)
      _LT_AC_TAGVAR(ld_shlibs, $1)=no
      ;;

    <span class="enscript-comment"># FreeBSD 2.2.[012] allows us to include c++rt0.o to get C++ constructor
</span>    <span class="enscript-comment"># support.  Future versions do this automatically, but an explicit c++rt0.o
</span>    <span class="enscript-comment"># does not break anything, and helps significantly (at the cost of a little
</span>    <span class="enscript-comment"># extra space).
</span>    freebsd2.2*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags /usr/lib/c++rt0.o'
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    <span class="enscript-comment"># Unfortunately, older versions of FreeBSD 2 do not have this feature.
</span>    freebsd2*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    <span class="enscript-comment"># FreeBSD 3 and greater uses gcc -shared to do shared libraries.
</span>    freebsd* | kfreebsd*-gnu | dragonfly*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -o $lib $libobjs $deplibs $compiler_flags'
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    hpux9*)
      if test &quot;$GCC&quot; = yes; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$rm $output_objdir/$soname~$CC -shared -fPIC ${wl}+b ${wl}$install_libdir -o $output_objdir/$soname $libobjs $deplibs $compiler_flags~test $output_objdir/$soname = $lib || mv $output_objdir/$soname $lib'
      else
	_LT_AC_TAGVAR(archive_cmds, $1)='$rm $output_objdir/$soname~$LD -b +b $install_libdir -o $output_objdir/$soname $libobjs $deplibs $linker_flags~test $output_objdir/$soname = $lib || mv $output_objdir/$soname $lib'
      fi
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
      _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes

      <span class="enscript-comment"># hardcode_minus_L: Not really in the search PATH,
</span>      <span class="enscript-comment"># but as the default location of the library.
</span>      _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
      _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
      ;;

    hpux10*)
      if test &quot;$GCC&quot; = yes -a &quot;$with_gnu_ld&quot; = no; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
      else
	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'
      fi
      if test &quot;$with_gnu_ld&quot; = no; then
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

	_LT_AC_TAGVAR(hardcode_direct, $1)=yes
	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'

	<span class="enscript-comment"># hardcode_minus_L: Not really in the search PATH,
</span>	<span class="enscript-comment"># but as the default location of the library.
</span>	_LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
      fi
      ;;

    hpux11*)
      if test &quot;$GCC&quot; = yes -a &quot;$with_gnu_ld&quot; = no; then
	case $host_cpu in
	hppa*64*)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
	  ;;
	ia64*)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
	  ;;
	*)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
	  ;;
	esac
      else
	case $host_cpu in
	hppa*64*)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
	  ;;
	ia64*)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
	  ;;
	*)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
	  ;;
	esac
      fi
      if test &quot;$with_gnu_ld&quot; = no; then
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:

	case $host_cpu in
	hppa*64*|ia64*)
	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)='+b $libdir'
	  _LT_AC_TAGVAR(hardcode_direct, $1)=no
	  _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
	  ;;
	*)
	  _LT_AC_TAGVAR(hardcode_direct, $1)=yes
	  _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'

	  <span class="enscript-comment"># hardcode_minus_L: Not really in the search PATH,
</span>	  <span class="enscript-comment"># but as the default location of the library.
</span>	  _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
	  ;;
	esac
      fi
      ;;

    irix5* | irix6* | nonstopux*)
      if test &quot;$GCC&quot; = yes; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
      else
	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -shared $libobjs $deplibs $linker_flags -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)='-rpath $libdir'
      fi
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath ${wl}$libdir'
      _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
      _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
      ;;

    netbsd*)
      if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  <span class="enscript-comment"># a.out
</span>      else
	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -shared -o $lib $libobjs $deplibs $linker_flags'      <span class="enscript-comment"># ELF
</span>      fi
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    newsos6)
      _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath ${wl}$libdir'
      _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    openbsd*)
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-retain-symbols-file,$export_symbols'
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
      else
       case $host_os in
	 openbsd[[01]].* | openbsd2.[[0-7]] | openbsd2.[[0-7]].*)
	   _LT_AC_TAGVAR(archive_cmds, $1)='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
	   _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
	   ;;
	 *)
	   _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
	   _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
	   ;;
       esac
      fi
      ;;

    os2*)
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
      _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
      _LT_AC_TAGVAR(allow_undefined_flag, $1)=unsupported
      _LT_AC_TAGVAR(archive_cmds, $1)='$echo &quot;LIBRARY $libname INITINSTANCE&quot; &gt; $output_objdir/$libname.def~$echo &quot;DESCRIPTION \&quot;$libname\&quot;&quot; &gt;&gt; $output_objdir/$libname.def~$echo DATA &gt;&gt; $output_objdir/$libname.def~$echo &quot; SINGLE NONSHARED&quot; &gt;&gt; $output_objdir/$libname.def~$echo EXPORTS &gt;&gt; $output_objdir/$libname.def~emxexp $libobjs &gt;&gt; $output_objdir/$libname.def~$CC -Zdll -Zcrtdll -o $lib $libobjs $deplibs $compiler_flags $output_objdir/$libname.def'
      _LT_AC_TAGVAR(old_archive_From_new_cmds, $1)='emximp -o $output_objdir/$libname.a $output_objdir/$libname.def'
      ;;

    osf3*)
      if test &quot;$GCC&quot; = yes; then
	_LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-expect_unresolved ${wl}\*'
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
      else
	_LT_AC_TAGVAR(allow_undefined_flag, $1)=' -expect_unresolved \*'
	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linker_flags -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
      fi
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath ${wl}$libdir'
      _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
      ;;

    osf4* | osf5*)	<span class="enscript-comment"># as osf3* with the addition of -msym flag
</span>      if test &quot;$GCC&quot; = yes; then
	_LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-expect_unresolved ${wl}\*'
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags ${wl}-msym ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath ${wl}$libdir'
      else
	_LT_AC_TAGVAR(allow_undefined_flag, $1)=' -expect_unresolved \*'
	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linker_flags -msym -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='for i in `cat $export_symbols`; do printf &quot;%s %s\\n&quot; -exported_symbol &quot;\$i&quot; &gt;&gt; $lib.exp; done; echo &quot;-hidden&quot;&gt;&gt; $lib.exp~
	$LD -shared${allow_undefined_flag} -input $lib.exp $linker_flags $libobjs $deplibs -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib~$rm $lib.exp'

	<span class="enscript-comment"># Both c and cxx compiler support -rpath directly
</span>	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-rpath $libdir'
      fi
      _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
      ;;

    solaris*)
      _LT_AC_TAGVAR(no_undefined_flag, $1)=' -z text'
      if test &quot;$GCC&quot; = yes; then
	wlarc='${wl}'
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$echo &quot;{ global:&quot; &gt; $lib.exp~cat $export_symbols | $SED -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $lib.exp~$echo &quot;local: *; };&quot; &gt;&gt; $lib.exp~
	  $CC -shared ${wl}-M ${wl}$lib.exp ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags~$rm $lib.exp'
      else
	wlarc=''
	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$echo &quot;{ global:&quot; &gt; $lib.exp~cat $export_symbols | $SED -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $lib.exp~$echo &quot;local: *; };&quot; &gt;&gt; $lib.exp~
  	$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$rm $lib.exp'
      fi
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      case $host_os in
      solaris2.[[0-5]] | solaris2.[[0-5]].*) ;;
      *)
 	<span class="enscript-comment"># The compiler driver will combine linker options so we
</span> 	<span class="enscript-comment"># cannot just pass the convience library names through
</span> 	<span class="enscript-comment"># without $wl, iff we do not link with $LD.
</span> 	<span class="enscript-comment"># Luckily, gcc supports the same syntax we need for Sun Studio.
</span> 	<span class="enscript-comment"># Supported since Solaris 2.6 (maybe 2.5.1?)
</span> 	case $wlarc in
 	'')
 	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='-z allextract$convenience -z defaultextract' ;;
 	*)
 	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}-z ${wl}allextract`for conv in $convenience\&quot;\&quot;; do test -n \&quot;$conv\&quot; &amp;&amp; new_convenience=\&quot;$new_convenience,$conv\&quot;; done; $echo \&quot;$new_convenience\&quot;` ${wl}-z ${wl}defaultextract' ;;
 	esac ;;
      esac
      _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
      ;;

    sunos4*)
      if test &quot;x$host_vendor&quot; = xsequent; then
	<span class="enscript-comment"># Use $CC to link under sequent, because it throws in some extra .o
</span>	<span class="enscript-comment"># files that make .init and .fini sections work.
</span>	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h $soname -o $lib $libobjs $deplibs $compiler_flags'
      else
	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -assert pure-text -Bstatic -o $lib $libobjs $deplibs $linker_flags'
      fi
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
      _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    sysv4)
      case $host_vendor in
	sni)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
	  _LT_AC_TAGVAR(hardcode_direct, $1)=yes <span class="enscript-comment"># is this really true???
</span>	;;
	siemens)
	  <span class="enscript-comment">## LD is ld it makes a PLAMLIB
</span>	  <span class="enscript-comment">## CC just makes a GrossModule.
</span>	  _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G -o $lib $libobjs $deplibs $linker_flags'
	  _LT_AC_TAGVAR(reload_cmds, $1)='$CC -r -o $output$reload_objs'
	  _LT_AC_TAGVAR(hardcode_direct, $1)=no
        ;;
	motorola)
	  _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
	  _LT_AC_TAGVAR(hardcode_direct, $1)=no <span class="enscript-comment">#Motorola manual says yes, but my tests say they lie
</span>	;;
      esac
      runpath_var='LD_RUN_PATH'
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    sysv4.3*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='-Bexport'
      ;;

    sysv4*MP*)
<span class="enscript-string">      if test -d /usr/nec; then
	_LT_AC_TAGVAR(archive_cmds, $1)='</span>$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
	_LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
	runpath_var=LD_RUN_PATH
	hardcode_runpath_var=yes
	_LT_AC_TAGVAR(ld_shlibs, $1)=yes
      fi
      ;;

    sysv4*uw2* | sysv5OpenUNIX* | sysv5UnixWare7.[[01]].[[10]]* | unixware7*)
      _LT_AC_TAGVAR(no_undefined_flag, $1)='${wl}-z,text'
      _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      runpath_var='LD_RUN_PATH'

      if test &quot;$GCC&quot; = yes; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
      else
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
      fi
      ;;

    sysv5* | sco3.2v5* | sco5v6*)
      <span class="enscript-comment"># Note: We can NOT use -z defs as we might desire, because we do not
</span>      <span class="enscript-comment"># link with -lc, and that would cause any symbols used from libc to
</span>      <span class="enscript-comment"># always be unresolved, which means just about no library would
</span>      <span class="enscript-comment"># ever link correctly.  If we're not using GNU ld we use -z text
</span>      <span class="enscript-comment"># though, which does catch some bad symbols but isn't as heavy-handed
</span>      <span class="enscript-comment"># as -z defs.
</span>      _LT_AC_TAGVAR(no_undefined_flag, $1)='${wl}-z,text'
      _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-z,nodefs'
      _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='`test -z &quot;$SCOABSPATH&quot; &amp;&amp; echo ${wl}-R,$libdir`'
      _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=':'
      _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
      _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-Bexport'
      runpath_var='LD_RUN_PATH'

      if test &quot;$GCC&quot; = yes; then
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
      else
	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
      fi
      ;;

    uts4*)
      _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
      ;;

    *)
      _LT_AC_TAGVAR(ld_shlibs, $1)=no
      ;;
    esac
  fi
])
AC_MSG_RESULT([$_LT_AC_TAGVAR(ld_shlibs, $1)])
test &quot;$_LT_AC_TAGVAR(ld_shlibs, $1)&quot; = no &amp;&amp; can_build_shared=no

<span class="enscript-comment">#
</span><span class="enscript-comment"># Do we need to explicitly link libc?
</span><span class="enscript-comment">#
</span>case &quot;x$_LT_AC_TAGVAR(archive_cmds_need_lc, $1)&quot; in
x|xyes)
  <span class="enscript-comment"># Assume -lc should be added
</span>  _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=yes

  if test &quot;$enable_shared&quot; = yes &amp;&amp; test &quot;$GCC&quot; = yes; then
    case $_LT_AC_TAGVAR(archive_cmds, $1) in
    *'~'*)
      <span class="enscript-comment"># FIXME: we may have to deal with multi-command sequences.
</span>      ;;
    '$CC '*)
      <span class="enscript-comment"># Test whether the compiler implicitly links with -lc since on some
</span>      <span class="enscript-comment"># systems, -lgcc has to come before -lc. If gcc already passes -lc
</span>      <span class="enscript-comment"># to ld, don't add -lc before -lgcc.
</span>      AC_MSG_CHECKING([whether -lc should be explicitly linked in])
      $rm conftest*
      printf &quot;$lt_simple_compile_test_code&quot; &gt; conftest.$ac_ext

      if AC_TRY_EVAL(ac_compile) 2&gt;conftest.err; then
        soname=conftest
        lib=conftest
        libobjs=conftest.$ac_objext
        deplibs=
        wl=$_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)
	pic_flag=$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)
        compiler_flags=-v
        linker_flags=-v
        verstring=
        output_objdir=.
        libname=conftest
        lt_save_allow_undefined_flag=$_LT_AC_TAGVAR(allow_undefined_flag, $1)
        _LT_AC_TAGVAR(allow_undefined_flag, $1)=
        if AC_TRY_EVAL(_LT_AC_TAGVAR(archive_cmds, $1) 2\&gt;\&amp;1 \| grep \&quot; -lc \&quot; \&gt;/dev/null 2\&gt;\&amp;1)
        then
	  _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
        else
	  _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=yes
        fi
        _LT_AC_TAGVAR(allow_undefined_flag, $1)=$lt_save_allow_undefined_flag
      else
        cat conftest.err 1&gt;&amp;5
      fi
      $rm conftest*
      AC_MSG_RESULT([$_LT_AC_TAGVAR(archive_cmds_need_lc, $1)])
      ;;
    esac
  fi
  ;;
esac
])<span class="enscript-comment"># AC_LIBTOOL_PROG_LD_SHLIBS
</span>

<span class="enscript-comment"># _LT_AC_FILE_LTDLL_C
</span><span class="enscript-comment"># -------------------
</span><span class="enscript-comment"># Be careful that the start marker always follows a newline.
</span>AC_DEFUN([_LT_AC_FILE_LTDLL_C], [
<span class="enscript-comment"># /* ltdll.c starts here */
</span><span class="enscript-comment"># #define WIN32_LEAN_AND_MEAN
</span><span class="enscript-comment"># #include &lt;windows.h&gt;
</span><span class="enscript-comment"># #undef WIN32_LEAN_AND_MEAN
</span><span class="enscript-comment"># #include &lt;stdio.h&gt;
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># #ifndef __CYGWIN__
</span><span class="enscript-comment"># #  ifdef __CYGWIN32__
</span><span class="enscript-comment"># #    define __CYGWIN__ __CYGWIN32__
</span><span class="enscript-comment"># #  endif
</span><span class="enscript-comment"># #endif
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># #ifdef __cplusplus
</span><span class="enscript-comment"># extern &quot;C&quot; {
</span><span class="enscript-comment"># #endif
</span><span class="enscript-comment"># BOOL APIENTRY DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved);
</span><span class="enscript-comment"># #ifdef __cplusplus
</span><span class="enscript-comment"># }
</span><span class="enscript-comment"># #endif
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># #ifdef __CYGWIN__
</span><span class="enscript-comment"># #include &lt;cygwin/cygwin_dll.h&gt;
</span><span class="enscript-comment"># DECLARE_CYGWIN_DLL( DllMain );
</span><span class="enscript-comment"># #endif
</span><span class="enscript-comment"># HINSTANCE __hDllInstance_base;
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># BOOL APIENTRY
</span><span class="enscript-comment"># DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved)
</span><span class="enscript-comment"># {
</span><span class="enscript-comment">#   __hDllInstance_base = hInst;
</span><span class="enscript-comment">#   return TRUE;
</span><span class="enscript-comment"># }
</span><span class="enscript-comment"># /* ltdll.c ends here */
</span>])<span class="enscript-comment"># _LT_AC_FILE_LTDLL_C
</span>

<span class="enscript-comment"># _LT_AC_TAGVAR(VARNAME, [TAGNAME])
</span><span class="enscript-comment"># ---------------------------------
</span>AC_DEFUN([_LT_AC_TAGVAR], [<span class="enscript-keyword">ifelse</span>([$2], [], [$1], [$1_$2])])


<span class="enscript-comment"># old names
</span>AC_DEFUN([AM_PROG_LIBTOOL],   [AC_PROG_LIBTOOL])
AC_DEFUN([AM_ENABLE_SHARED],  [AC_ENABLE_SHARED($@)])
AC_DEFUN([AM_ENABLE_STATIC],  [AC_ENABLE_STATIC($@)])
AC_DEFUN([AM_DISABLE_SHARED], [AC_DISABLE_SHARED($@)])
AC_DEFUN([AM_DISABLE_STATIC], [AC_DISABLE_STATIC($@)])
AC_DEFUN([AM_PROG_LD],        [AC_PROG_LD])
AC_DEFUN([AM_PROG_NM],        [AC_PROG_NM])

<span class="enscript-comment"># This is just to silence aclocal about the macro not being used
</span><span class="enscript-keyword">ifelse</span>([AC_DISABLE_FAST_INSTALL])

AC_DEFUN([LT_AC_PROG_GCJ],
[AC_CHECK_TOOL(GCJ, gcj, no)
  test &quot;x${GCJFLAGS+set}&quot; = xset || GCJFLAGS=&quot;-g -O2&quot;
  AC_SUBST(GCJFLAGS)
])

AC_DEFUN([LT_AC_PROG_RC],
[AC_CHECK_TOOL(RC, windres, no)
])

<span class="enscript-comment">############################################################
</span><span class="enscript-comment"># NOTE: This macro has been submitted for inclusion into   #
</span><span class="enscript-comment">#  GNU Autoconf as AC_PROG_SED.  When it is available in   #
</span><span class="enscript-comment">#  a released version of Autoconf we should remove this    #
</span><span class="enscript-comment">#  macro and use it instead.                               #
</span><span class="enscript-comment">############################################################
</span><span class="enscript-comment"># LT_AC_PROG_SED
</span><span class="enscript-comment"># --------------
</span><span class="enscript-comment"># Check for a fully-functional sed program, that truncates
</span><span class="enscript-comment"># as few characters as possible.  Prefer GNU sed if found.
</span>AC_DEFUN([LT_AC_PROG_SED],
[AC_MSG_CHECKING([for a sed that does not truncate output])
AC_CACHE_VAL(lt_cv_path_SED,
[<span class="enscript-comment"># Loop through the user's path and test for sed and gsed.
</span><span class="enscript-comment"># Then use that list of sed's as ones to test for truncation.
</span>as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
  for lt_ac_prog in sed gsed; do
    for ac_exec_ext in '' $ac_executable_extensions; do
      if $as_executable_p &quot;$as_dir/$lt_ac_prog$ac_exec_ext&quot;; then
        lt_ac_sed_list=&quot;$lt_ac_sed_list $as_dir/$lt_ac_prog$ac_exec_ext&quot;
      fi
    done
  done
done
lt_ac_max=0
lt_ac_count=0
<span class="enscript-comment"># Add /usr/xpg4/bin/sed as it is typically found on Solaris
</span><span class="enscript-comment"># along with /bin/sed that truncates output.
</span>for lt_ac_sed in $lt_ac_sed_list /usr/xpg4/bin/sed; do
  test ! -f $lt_ac_sed &amp;&amp; continue
  cat /dev/null &gt; conftest.in
  lt_ac_count=0
  echo $ECHO_N &quot;0123456789$ECHO_C&quot; &gt;conftest.in
  <span class="enscript-comment"># Check for GNU sed and select it if it is found.
</span>  if &quot;$lt_ac_sed&quot; --version 2&gt;&amp;1 &lt; /dev/null | grep 'GNU' &gt; /dev/null; then
    lt_cv_path_SED=$lt_ac_sed
    break
  fi
  while true; do
    cat conftest.in conftest.in &gt;conftest.tmp
    mv conftest.tmp conftest.in
    cp conftest.in conftest.nl
    echo &gt;&gt;conftest.nl
    $lt_ac_sed -e 's/a$//' &lt; conftest.nl &gt;conftest.out || break
    cmp -s conftest.out conftest.nl || break
    <span class="enscript-comment"># 10000 chars as input seems more than enough
</span>    test $lt_ac_count -gt 10 &amp;&amp; break
    lt_ac_count=`expr $lt_ac_count + 1`
    if test $lt_ac_count -gt $lt_ac_max; then
      lt_ac_max=$lt_ac_count
      lt_cv_path_SED=$lt_ac_sed
    fi
  done
done
])
SED=$lt_cv_path_SED
AC_MSG_RESULT([$SED])
])
</pre>
<hr />
</body></html>