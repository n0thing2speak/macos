<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>progtest.m4</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">progtest.m4&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment"># progtest.m4 serial 4 (gettext-0.14.2)
</span>dnl Copyright (C) 1996-2003, 2005 Free Software Foundation, Inc.
dnl This file is free software; the Free Software Foundation
dnl gives unlimited permission to copy and/or distribute it,
dnl with or without modifications, as long as this notice is preserved.
dnl
dnl This file can can be used <span class="enscript-keyword">in</span> projects which are not available under
dnl the GNU General Public License or the GNU Library General Public
dnl License but which still want to provide support <span class="enscript-keyword">for</span> the GNU gettext
dnl functionality.
dnl Please note that the actual code of the GNU gettext library is covered
dnl by the GNU Library General Public License, and the rest of the GNU
dnl gettext package package is covered by the GNU General Public License.
dnl They are *not* <span class="enscript-keyword">in</span> the public domain.

dnl Authors:
dnl   Ulrich Drepper &lt;<a href="mailto:drepper@cygnus.com">drepper@cygnus.com</a>&gt;, 1996.

AC_PREREQ(2.50)

<span class="enscript-comment"># Search path for a program which passes the given test.
</span>
dnl AM_PATH_PROG_WITH_TEST(VARIABLE, PROG-TO-CHECK-FOR,
dnl   TEST-PERFORMED-ON-FOUND_PROGRAM [, VALUE-IF-NOT-FOUND [, <span class="enscript-keyword">PATH</span>]])
AC_DEFUN([AM_PATH_PROG_WITH_TEST],
[
<span class="enscript-comment"># Prepare PATH_SEPARATOR.
</span><span class="enscript-comment"># The user is always right.
</span><span class="enscript-keyword">if</span> <span class="enscript-keyword">test</span> <span class="enscript-string">&quot;${PATH_SEPARATOR+set}&quot;</span> != <span class="enscript-keyword">set</span>; <span class="enscript-keyword">then</span>
  <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;#! /bin/sh&quot;</span> &gt;conf$$.sh
  <span class="enscript-keyword">echo</span>  <span class="enscript-string">&quot;exit 0&quot;</span>   &gt;&gt;conf$$.sh
  chmod +x conf$$.sh
  <span class="enscript-keyword">if</span> (<span class="enscript-keyword">PATH</span>=<span class="enscript-string">&quot;/nonexistent;.&quot;</span>; conf$$.sh) &gt;/dev/null 2&gt;&amp;1; <span class="enscript-keyword">then</span>
    PATH_SEPARATOR=';'
  <span class="enscript-keyword">else</span>
    PATH_SEPARATOR=:
  <span class="enscript-keyword">fi</span>
  rm -f conf$$.sh
<span class="enscript-keyword">fi</span>

<span class="enscript-comment"># Find out how to test for executable files. Don't use a zero-byte file,
</span><span class="enscript-comment"># as systems may use methods other than mode bits to determine executability.
</span>cat &gt;conf$$.file &lt;&lt;_ASEOF
<span class="enscript-reference">#! /bin/sh
</span><span class="enscript-keyword">exit</span> 0
_ASEOF
chmod +x conf$$.file
<span class="enscript-keyword">if</span> <span class="enscript-keyword">test</span> -x conf$$.file &gt;/dev/null 2&gt;&amp;1; <span class="enscript-keyword">then</span>
  ac_executable_p=<span class="enscript-string">&quot;test -x&quot;</span>
<span class="enscript-keyword">else</span>
  ac_executable_p=<span class="enscript-string">&quot;test -f&quot;</span>
<span class="enscript-keyword">fi</span>
rm -f conf$$.file

<span class="enscript-comment"># Extract the first word of &quot;$2&quot;, so it can be a program name with args.
</span><span class="enscript-keyword">set</span> dummy $2; ac_word=[$]2
AC_MSG_CHECKING([<span class="enscript-keyword">for</span> $ac_word])
AC_CACHE_VAL(ac_cv_path_$1,
[<span class="enscript-keyword">case</span> <span class="enscript-string">&quot;[$]$1&quot;</span> <span class="enscript-keyword">in</span>
  [[\\/]]* | ?:[[\\/]]*)
    ac_cv_path_$1=<span class="enscript-string">&quot;[$]$1&quot;</span> <span class="enscript-comment"># Let the user override the test with a path.
</span>    ;;
  *)
    ac_save_IFS=<span class="enscript-string">&quot;$IFS&quot;</span>; <span class="enscript-keyword">IFS</span>=$PATH_SEPARATOR
    <span class="enscript-keyword">for</span> ac_dir <span class="enscript-keyword">in</span> ifelse([$5], , $<span class="enscript-keyword">PATH</span>, [$5]); <span class="enscript-keyword">do</span>
      <span class="enscript-keyword">IFS</span>=<span class="enscript-string">&quot;$ac_save_IFS&quot;</span>
      <span class="enscript-keyword">test</span> -z <span class="enscript-string">&quot;$ac_dir&quot;</span> &amp;&amp; ac_dir=.
      <span class="enscript-keyword">for</span> ac_exec_ext <span class="enscript-keyword">in</span> '' $ac_executable_extensions; <span class="enscript-keyword">do</span>
        <span class="enscript-keyword">if</span> $ac_executable_p <span class="enscript-string">&quot;$ac_dir/$ac_word$ac_exec_ext&quot;</span>; <span class="enscript-keyword">then</span>
          <span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;$as_me: trying $ac_dir/$ac_word...&quot;</span> &gt;&amp;AS_MESSAGE_LOG_FD
          <span class="enscript-keyword">if</span> [$3]; <span class="enscript-keyword">then</span>
            ac_cv_path_$1=<span class="enscript-string">&quot;$ac_dir/$ac_word$ac_exec_ext&quot;</span>
            <span class="enscript-keyword">break</span> 2
          <span class="enscript-keyword">fi</span>
        <span class="enscript-keyword">fi</span>
      <span class="enscript-keyword">done</span>
    <span class="enscript-keyword">done</span>
    <span class="enscript-keyword">IFS</span>=<span class="enscript-string">&quot;$ac_save_IFS&quot;</span>
dnl If no 4th arg is given, leave the cache variable <span class="enscript-keyword">unset</span>,
dnl so AC_PATH_PROGS will keep looking.
ifelse([$4], , , [  <span class="enscript-keyword">test</span> -z <span class="enscript-string">&quot;[$]ac_cv_path_$1&quot;</span> &amp;&amp; ac_cv_path_$1=<span class="enscript-string">&quot;$4&quot;</span>
])dnl
    ;;
<span class="enscript-keyword">esac</span>])dnl
$1=<span class="enscript-string">&quot;$ac_cv_path_$1&quot;</span>
<span class="enscript-keyword">if</span> <span class="enscript-keyword">test</span> ifelse([$4], , [-n <span class="enscript-string">&quot;[$]$1&quot;</span>], [<span class="enscript-string">&quot;[$]$1&quot;</span> != <span class="enscript-string">&quot;$4&quot;</span>]); <span class="enscript-keyword">then</span>
  AC_MSG_RESULT([$]$1)
<span class="enscript-keyword">else</span>
  AC_MSG_RESULT(no)
<span class="enscript-keyword">fi</span>
AC_SUBST($1)dnl
])
</pre>
<hr />
</body></html>